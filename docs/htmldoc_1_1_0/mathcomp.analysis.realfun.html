
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module mathcomp.analysis.realfun</title>
<meta name="description" content="Documentation of Coq module mathcomp.analysis.realfun" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">

  <main>
    <div class="sidebar">
      <h2>Files</h2>
      <li><details id="mathcomp"><summary>mathcomp</summary>
          <ul>
          <li><details id="mathcomp.analysis"><summary>analysis</summary>
          <ul>
          <li><a href="mathcomp.analysis.cantor.html">cantor</a></li>
<li><a href="mathcomp.analysis.charge.html">charge</a></li>
<li><a href="mathcomp.analysis.constructive_ereal.html">constructive_ereal</a></li>
<li><a href="mathcomp.analysis.convex.html">convex</a></li>
<li><a href="mathcomp.analysis.derive.html">derive</a></li>
<li><a href="mathcomp.analysis.ereal.html">ereal</a></li>
<li><a href="mathcomp.analysis.esum.html">esum</a></li>
<li><a href="mathcomp.analysis.exp.html">exp</a></li>
<li><a href="mathcomp.analysis.forms.html">forms</a></li>
<li><a href="mathcomp.analysis.ftc.html">ftc</a></li>
<li><a href="mathcomp.analysis.function_spaces.html">function_spaces</a></li>
<li><a href="mathcomp.analysis.hoelder.html">hoelder</a></li>
<li><a href="mathcomp.analysis.itv.html">itv</a></li>
<li><a href="mathcomp.analysis.kernel.html">kernel</a></li>
<li><a href="mathcomp.analysis.landau.html">landau</a></li>
<li><a href="mathcomp.analysis.lebesgue_integral.html">lebesgue_integral</a></li>
<li><a href="mathcomp.analysis.lebesgue_measure.html">lebesgue_measure</a></li>
<li><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html">lebesgue_stieltjes_measure</a></li>
<li><a href="mathcomp.analysis.measure.html">measure</a></li>
<li><a href="mathcomp.analysis.normedtype.html">normedtype</a></li>
<li><a href="mathcomp.analysis.nsatz_realtype.html">nsatz_realtype</a></li>
<li><a href="mathcomp.analysis.numfun.html">numfun</a></li>
<li><a href="mathcomp.analysis.probability.html">probability</a></li>
<li><a href="mathcomp.analysis.prodnormedzmodule.html">prodnormedzmodule</a></li>
<li><a href="mathcomp.analysis.real_interval.html">real_interval</a></li>
<li><a href="mathcomp.analysis.realfun.html">realfun</a></li>
<li><a href="mathcomp.analysis.reals.html">reals</a></li>
<li><a href="mathcomp.analysis.Rstruct.html">Rstruct</a></li>
<li><a href="mathcomp.analysis.sequences.html">sequences</a></li>
<li><a href="mathcomp.analysis.signed.html">signed</a></li>
<li><a href="mathcomp.analysis.summability.html">summability</a></li>
<li><a href="mathcomp.analysis.topology.html">topology</a></li>
<li><a href="mathcomp.analysis.trigo.html">trigo</a></li>
          </ul>
          </details>
          </li>
<li><details id="mathcomp.classical"><summary>classical</summary>
          <ul>
          <li><a href="mathcomp.classical.all_classical.html">all_classical</a></li>
<li><a href="mathcomp.classical.boolp.html">boolp</a></li>
<li><a href="mathcomp.classical.cardinality.html">cardinality</a></li>
<li><a href="mathcomp.classical.classical_sets.html">classical_sets</a></li>
<li><a href="mathcomp.classical.contra.html">contra</a></li>
<li><a href="mathcomp.classical.fsbigop.html">fsbigop</a></li>
<li><a href="mathcomp.classical.functions.html">functions</a></li>
<li><a href="mathcomp.classical.mathcomp_extra.html">mathcomp_extra</a></li>
<li><a href="mathcomp.classical.set_interval.html">set_interval</a></li>
          </ul>
          </details>
          </li>
          </ul>
          </details>
          </li>
    </div>

  <div class="coq">

    <div class="content">
      <p><a href="./index.html">Top</a></p>
      <h1 class="title">Module mathcomp.analysis.realfun</h1>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.all_ssreflect.html">all_ssreflect</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html">ssralg</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrint.html">ssrint</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html">ssrnum</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap">finmap</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.matrix.html">matrix</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html">interval</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.zmodp.html">zmodp</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.vector.html">vector</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.field.fieldext">fieldext</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.field.falgebra">falgebra</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html">mathcomp_extra</a></span> <span class="id"><a href="mathcomp.classical.boolp.html">boolp</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html">classical_sets</a></span> <span class="id"><a href="mathcomp.classical.functions.html">functions</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.classical.cardinality.html">cardinality</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.analysis.ereal.html">ereal</a></span> <span class="id"><a href="mathcomp.analysis.reals.html">reals</a></span> <span class="id"><a href="mathcomp.analysis.signed.html">signed</a></span> <span class="id"><a href="mathcomp.analysis.topology.html">topology</a></span> <span class="id"><a href="mathcomp.analysis.prodnormedzmodule.html">prodnormedzmodule</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html">normedtype</a></span> <span class="id"><a href="mathcomp.analysis.derive.html">derive</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.analysis.sequences.html">sequences</a></span> <span class="id"><a href="mathcomp.analysis.real_interval.html">real_interval</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">HB</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="NOTFOUND the module url for HB.structures">structures</a></span>.<br/>
<br/>
<div class="ssrdoc md">
# Real-valued functions over reals                                          
                                                                            
This file provides properties of standard real-valued functions over real   
numbers (e.g., the continuity of the inverse of a continuous function).     
                                                                            
```                                                                         
     nondecreasing_fun f == the function f is non-decreasing                
     nonincreasing_fun f == the function f is non-increasing                
        increasing_fun f == the function f is (strictly) increasing         
        decreasing_fun f == the function f is (strictly) decreasing         
                                                                            
  derivable_oo_continuous_bnd f x y == f is derivable on `]x, y[ and        
                            continuous up to the boundary                   
                                                                            
     itv_partition a b s == s is a partition of the interval `[a, b]        
      itv_partitionL s c == the left side of splitting a partition at c     
      itv_partitionR s c == the right side of splitting a partition at c    
       variation a b f s == the sum of f at all points in the partition s   
        variations a b f == the set of all variations of f between a and b  
 bounded_variation a b f == all variations of f are bounded                 
   total_variation a b f == the sup over all variations of f from a to b    
            neg_tv a f x == the decreasing component of f                   
            pos_tv a f x == the increasing component of f                   
                                                                            
```                                                                         
                                                                            
* Limit superior and inferior for functions:                                
```                                                                         
  lime_sup f a/lime_inf f a == limit sup/inferior of the extended real-     
                            valued function f at point a                    
```                                                                         
                                                                            
</div>
<br/>
<span class="gallina-kwd">Set</span> <span class="vernacular">Implicit</span> <span class="vernacular">Arguments</span>.<br/>
<span class="vernacular">Unset</span> <span class="vernacular">Strict</span> <span class="vernacular">Implicit</span>.<br/>
<span class="vernacular">Unset</span> <span class="vernacular">Printing</span> <span class="vernacular">Implicit</span> <span class="vernacular">Defensive</span>.<br/>
<br/>
<span class="vernacular">Import</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TTheory">Order.TTheory</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory">GRing.Theory</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Def">Num.Def</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory">Num.Theory</a></span>.<br/>
<span class="vernacular">Import</span> <span class="id"><a href="mathcomp.analysis.topology.html#numFieldTopology.Exports">numFieldTopology.Exports</a></span>.<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">classical_set_scope</span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ring_scope</span>.<br/>
<br/>
<span class="vernacular">Import</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.Exports">numFieldNormedType.Exports</a></span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span id=":::'nondecreasing_fun'_x" class="id"><a name=":::'nondecreasing_fun'_x" class="">&quot;'nondecreasing_fun' f&quot;</a></span> <span class="id">:=</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#7f2550512fc22f98c0de9a527bb1f752">{homo</a></span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#7f2550512fc22f98c0de9a527bb1f752">:</a></span> <span id="n:3" class="id"><span id="n:1" class="id"><a name="n:3" class="">n</a></span></span> <span id="m:4" class="id"><span id="m:2" class="id"><a name="m:4" class="">m</a></span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#7f2550512fc22f98c0de9a527bb1f752">/</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#n:1">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#6267442e1f81ed96252446fa7b1c579b">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#m:2">m</a></span>)%<span class="id">O</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#7f2550512fc22f98c0de9a527bb1f752">&gt;-&gt;</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#n:3">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#6267442e1f81ed96252446fa7b1c579b">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#m:4">m</a></span>)%<span class="id">O}</span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">10</span>).<br/>
<span class="vernacular">Notation</span> <span id=":::'nonincreasing_fun'_x" class="id"><a name=":::'nonincreasing_fun'_x" class="">&quot;'nonincreasing_fun' f&quot;</a></span> <span class="id">:=</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#7f2550512fc22f98c0de9a527bb1f752">{homo</a></span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#7f2550512fc22f98c0de9a527bb1f752">:</a></span> <span id="n:7" class="id"><span id="n:5" class="id"><a name="n:7" class="">n</a></span></span> <span id="m:8" class="id"><span id="m:6" class="id"><a name="m:8" class="">m</a></span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#7f2550512fc22f98c0de9a527bb1f752">/</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#n:5">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#6267442e1f81ed96252446fa7b1c579b">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#m:6">m</a></span>)%<span class="id">O</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#7f2550512fc22f98c0de9a527bb1f752">&gt;-&gt;</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#n:7">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#8e46e5b26b3a4ed1018822d20f99aa09">&gt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#m:8">m</a></span>)%<span class="id">O}</span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">10</span>).<br/>
<span class="vernacular">Notation</span> <span id=":::'increasing_fun'_x" class="id"><a name=":::'increasing_fun'_x" class="">&quot;'increasing_fun' f&quot;</a></span> <span class="id">:=</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#fef9b78074f61857498e071064cb1961">{mono</a></span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#fef9b78074f61857498e071064cb1961">:</a></span> <span id="n:11" class="id"><span id="n:9" class="id"><a name="n:11" class="">n</a></span></span> <span id="m:12" class="id"><span id="m:10" class="id"><a name="m:12" class="">m</a></span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#fef9b78074f61857498e071064cb1961">/</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#n:9">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#6267442e1f81ed96252446fa7b1c579b">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#m:10">m</a></span>)%<span class="id">O</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#fef9b78074f61857498e071064cb1961">&gt;-&gt;</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#n:11">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#6267442e1f81ed96252446fa7b1c579b">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#m:12">m</a></span>)%<span class="id">O}</span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">10</span>).<br/>
<span class="vernacular">Notation</span> <span id=":::'decreasing_fun'_x" class="id"><a name=":::'decreasing_fun'_x" class="">&quot;'decreasing_fun' f&quot;</a></span> <span class="id">:=</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#fef9b78074f61857498e071064cb1961">{mono</a></span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#fef9b78074f61857498e071064cb1961">:</a></span> <span id="n:15" class="id"><span id="n:13" class="id"><a name="n:15" class="">n</a></span></span> <span id="m:16" class="id"><span id="m:14" class="id"><a name="m:16" class="">m</a></span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#fef9b78074f61857498e071064cb1961">/</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#n:13">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#6267442e1f81ed96252446fa7b1c579b">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#m:14">m</a></span>)%<span class="id">O</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#fef9b78074f61857498e071064cb1961">&gt;-&gt;</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#n:15">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#8e46e5b26b3a4ed1018822d20f99aa09">&gt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#m:16">m</a></span>)%<span class="id">O}</span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">10</span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="nondecreasing_funN" class="id"><a name="nondecreasing_funN" class="">nondecreasing_funN</a></span> <span class="id">{R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType}</a></span> <span id="a:18" class="id"><a name="a:18" class="">a</a></span> <span id="b:19" class="id"><a name="b:19" class="">b</a></span> (<span id="f:20" class="id"><a name="f:20" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#R:17">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#R:17">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:19">b]</a></span> &amp;<span class="id">,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#:::'nondecreasing_fun'_x">nondecreasing_fun</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:20">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:19">b]</a></span> &amp;<span class="id">,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#:::'nonincreasing_fun'_x">nonincreasing_fun</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#565ca4aa0f5062a899cb0ce9091bd2da">\-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:20">f</a></span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
<span class="id">split=&gt;</span> <span class="id">[h</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mab</span> <span class="id">nab</span> <span class="id">mn|h</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mab</span> <span class="id">nab</span> <span class="id">mn];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerNr">lerNr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span> <span class="id">h</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span> (<span class="id">f</span> <span class="id">n</span>)) <span class="id">-lerNr</span> <span class="id">h</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="nonincreasing_funN" class="id"><a name="nonincreasing_funN" class="">nonincreasing_funN</a></span> <span class="id">{R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType}</a></span> <span id="a:22" class="id"><a name="a:22" class="">a</a></span> <span id="b:23" class="id"><a name="b:23" class="">b</a></span> (<span id="f:24" class="id"><a name="f:24" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#R:21">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#R:21">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:23">b]</a></span> &amp;<span class="id">,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#:::'nonincreasing_fun'_x">nonincreasing_fun</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:24">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:23">b]</a></span> &amp;<span class="id">,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#:::'nondecreasing_fun'_x">nondecreasing_fun</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#565ca4aa0f5062a899cb0ce9091bd2da">\-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:24">f</a></span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
<span class="id">apply:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#iff_sym">iff_sym;</a></span> <span class="id">apply:</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#iff_trans">iff_trans</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#nondecreasing_funN">nondecreasing_funN</a></span> <span class="id">a</span> <span class="id">b</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#565ca4aa0f5062a899cb0ce9091bd2da">\-</a></span> <span class="id">f</span>))).<br/>
<span class="id">rewrite</span> <span class="id">[in</span> <span class="id">X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#X:25">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#565ca4aa0f5062a899cb0ce9091bd2da">\-</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#565ca4aa0f5062a899cb0ce9091bd2da">\-</a></span> <span class="id">f</span>))<span class="id">//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Section</span> <span id="fun_cvg" class="id"><a name="fun_cvg" class="">fun_cvg</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="fun_cvg.fun_cvg_realFieldType" class="id"><a name="fun_cvg.fun_cvg_realFieldType" class="">fun_cvg_realFieldType</a></span>.<br/>
<span class="vernacular">Context</span> <span class="id">{R</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.RealField.Exports.realFieldType">realFieldType}</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="cvg_addrl" class="id"><a name="cvg_addrl" class="">cvg_addrl</a></span> (<span id="M:27" class="id"><a name="M:27" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realFieldType.R">R</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#M:27">M</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:28">r</a></span> @<span class="id">[r</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#423d7544dbaa8438f698fe5437adc41f">+oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#423d7544dbaa8438f698fe5437adc41f">+oo</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
<span class="id">move=&gt;</span> <span class="id">P</span> <span class="id">[r</span> <span class="id">[rreal</span> <span class="id">rP]];</span> <span class="gallina-kwd">exists</span> (<span class="id">r</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">M</span>)<span class="id">;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.realB">realB//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.num_real">num_real</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">m;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrBlDl">ltrBlDl</a></span> <span class="id">=&gt;</span> <span class="id">/rP</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="cvg_addrr" class="id"><a name="cvg_addrr" class="">cvg_addrr</a></span> (<span id="M:29" class="id"><a name="M:29" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realFieldType.R">R</a></span>) <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#r:30">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#M:29">M</a></span>) @<span class="id">[r</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#423d7544dbaa8438f698fe5437adc41f">+oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#423d7544dbaa8438f698fe5437adc41f">+oo</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
 <span class="gallina-kwd">by</span> <span class="id">under</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.realfun.html#X:31">X</a></span> @ <span class="id">_]funext</span> <span class="id">=&gt;</span> <span class="id">n</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#cvg_addrl">cvg_addrl</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="cvg_centerr" class="id"><a name="cvg_centerr" class="">cvg_centerr</a></span> (<span id="M:32" class="id"><a name="M:32" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realFieldType.R">R</a></span>) (<span id="T:33" class="id"><a name="T:33" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#Topological.Exports.topologicalType">topologicalType</a></span>) (<span id="f:34" class="id"><a name="f:34" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realFieldType.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#T:33">T</a></span>) (<span id="l:35" class="id"><a name="l:35" class="">l</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#T:33">T</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.realfun.html#f:34">f</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#n:36">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#M:32">M</a></span>) @<span class="id">[n</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#423d7544dbaa8438f698fe5437adc41f">+oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:35">l</a></span>) <span class="id">=</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:34">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:37">r</a></span> @<span class="id">[r</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#423d7544dbaa8438f698fe5437adc41f">+oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:35">l</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#propeqE">propeqE;</a></span> <span class="id">split;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_comp">cvg_comp;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#cvg_addrr">cvg_addrr</a></span>.<br/>
<span class="id">gen</span> <span class="id">have</span> <span class="id">cD</span> <span class="id">:</span> <span class="id">f</span> <span class="id">l</span> <span class="id">/</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:38">r</a></span> @<span class="id">[r</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#423d7544dbaa8438f698fe5437adc41f">+oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id">l</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">f</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#n:39">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">M</span>) @<span class="id">[n</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#423d7544dbaa8438f698fe5437adc41f">+oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id">l</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_comp">cvg_comp;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#cvg_addrr">cvg_addrr</a></span>.<br/>
<span class="id">move=&gt;</span> <span class="id">/cD</span> <span class="id">/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">under</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.realfun.html#X:40">X</a></span> @ <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id">l]funext</span> <span class="id">=&gt;</span> <span class="id">n</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrK">addrK</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="cvg_shiftr" class="id"><a name="cvg_shiftr" class="">cvg_shiftr</a></span> (<span id="M:41" class="id"><a name="M:41" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realFieldType.R">R</a></span>) (<span id="T:42" class="id"><a name="T:42" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#Topological.Exports.topologicalType">topologicalType</a></span>) (<span id="f:43" class="id"><a name="f:43" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realFieldType.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#T:42">T</a></span>) (<span id="l:44" class="id"><a name="l:44" class="">l</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#T:42">T</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.realfun.html#f:43">f</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#n:45">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#M:41">M</a></span>) @<span class="id">[n</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#423d7544dbaa8438f698fe5437adc41f">+oo]--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:44">l</a></span>) <span class="id">=</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:43">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:46">r</a></span> @<span class="id">[r</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#423d7544dbaa8438f698fe5437adc41f">+oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:44">l</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#propeqE">propeqE;</a></span> <span class="id">split;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_comp">cvg_comp;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#cvg_addrr">cvg_addrr</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.realfun.html#X:47">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_]</span>(<span class="id"><a href="mathcomp.analysis.realfun.html#cvg_centerr">cvg_centerr</a></span> <span class="id">M</span>)<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_trans">cvg_trans</a></span> <span class="id">=&gt;</span> <span class="id">/=</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#near_eq_cvg">near_eq_cvg;</a></span> <span class="id">near</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subrK">subrK;</a></span> <span class="gallina-kwd">exists</span> <span class="id">M</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.num_real">num_real</a></span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="left_right_continuousP" class="id"><a name="left_right_continuousP" class="">left_right_continuousP</a></span> <span class="id">{T</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#Topological.Exports.topologicalType">topologicalType}</a></span> (<span id="f:49" class="id"><a name="f:49" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realFieldType.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#T:48">T</a></span>) <span id="x:50" class="id"><a name="x:50" class="">x</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#f:49">f</a></span> @ <span class="id"><a href="mathcomp.analysis.realfun.html#x:50">x^'-</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:49">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:50">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:49">f</a></span> @ <span class="id"><a href="mathcomp.analysis.realfun.html#x:50">x^'+</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:49">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:50">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:49">f</a></span> @ <span class="id"><a href="mathcomp.analysis.realfun.html#x:50">x</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:49">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:50">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
<span class="id">split;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">cts;</span> <span class="id">split;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_within_filter">cvg_within_filter</a></span>.<br/>
<span class="id">move=&gt;</span> <span class="id">[+</span> <span class="id">+]</span> <span class="id">U</span> <span class="id">/=</span> <span class="id">Uz</span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">U</span> <span class="id">Uz</span>) <span class="id">+</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">U</span> <span class="id">Uz</span>)<span class="id">;</span> <span class="id">near_simpl</span>.<br/>
<span class="id">rewrite</span> <span class="id">!near_withinE</span> <span class="id">=&gt;</span> <span class="id">lf</span> <span class="id">rf;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#filter_app">filter_app</a></span> <span class="id">lf;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#filter_app">filter_app</a></span> <span class="id">rf</span>.<br/>
<span class="id">near=&gt;</span> <span class="id">t</span> <span class="id">=&gt;</span> <span class="id">xlt</span> <span class="id">xgt;</span> <span class="id">have</span> <span class="id">:=</span> @<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.real_leVge">real_leVge</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realFieldType.R">R</a></span> <span class="id">x</span> <span class="id">t;</span> <span class="id">rewrite</span> <span class="id">!num_real</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#isT">isT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#isT">isT</a></span>) <span class="id">/orP;</span> <span class="id">rewrite</span> <span class="id">!le_eqVlt</span> <span class="id">=&gt;</span> <span class="id">-[|]</span> <span class="id">/predU1P[|//]</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">&lt;-;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#nbhs_singleton">nbhs_singleton</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">-&gt;;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#nbhs_singleton">nbhs_singleton</a></span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="cvg_at_right_left_dnbhs" class="id"><a name="cvg_at_right_left_dnbhs" class="">cvg_at_right_left_dnbhs</a></span> (<span id="f:51" class="id"><a name="f:51" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realFieldType.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realFieldType.R">R</a></span>) (<span id="p:52" class="id"><a name="p:52" class="">p</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realFieldType.R">R</a></span>) (<span id="l:53" class="id"><a name="l:53" class="">l</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realFieldType.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#f:51">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:54">x</a></span> @<span class="id">[x</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#p:52">p^'+]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:53">l</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:51">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:55">x</a></span> @<span class="id">[x</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#p:52">p^'-]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:53">l</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#f:51">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:56">x</a></span> @<span class="id">[x</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#p:52">p^']</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:53">l</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
<span class="id">move=&gt;</span> <span class="id">/cvgrPdist_le</span> <span class="id">fppl</span> <span class="id">/cvgrPdist_le</span> <span class="id">fpnl;</span> <span class="id">apply/cvgrPdist_le</span> <span class="id">=&gt;</span> <span class="id">e</span> <span class="id">e0</span>.<br/>
<span class="id">have</span> <span class="id">{fppl}[a</span> <span class="id">/=</span> <span class="id">a0</span> <span class="id">fppl]</span> <span class="id">:=</span> <span class="id">fppl</span> <span class="id">_</span> <span class="id">e0;</span> <span class="id">have</span> <span class="id">{fpnl}[b</span> <span class="id">/=</span> <span class="id">b0</span> <span class="id">fpnl]</span> <span class="id">:=</span> <span class="id">fpnl</span> <span class="id">_</span> <span class="id">e0</span>.<br/>
<span class="id">near=&gt;</span> <span class="id">t</span>.<br/>
<span class="id">have</span> <span class="id">:</span> <span class="id">t</span> <span class="id">!=</span> <span class="id">p</span> <span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">t;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#nbhs_dnbhs_neq">nbhs_dnbhs_neq</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.neq_lt">neq_lt</a></span> <span class="id">=&gt;</span> <span class="id">/orP[tp|pt]</span>.<br/>
<span class="id">-</span> <span class="id">apply:</span> <span class="id">fpnl</span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">near:</span> <span class="id">t</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">b</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#69c431a9c94f6f30a655bd7ddb59037b">/</a></span> <span class="id">2</span>) <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.divr_gt0">divr_gt0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">z/=</span> <span class="id">+</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">/lt_le_trans;</span> <span class="id">apply</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_pdivrMr">ler_pdivrMr//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_pMr">ler_pMr//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler1n">ler1n</a></span>.<br/>
<span class="id">-</span> <span class="id">apply:</span> <span class="id">fppl</span> <span class="id">=&gt;//=;</span> <span class="id">near:</span> <span class="id">t</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#69c431a9c94f6f30a655bd7ddb59037b">/</a></span> <span class="id">2</span>) <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.divr_gt0">divr_gt0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">z/=</span> <span class="id">+</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">/lt_le_trans;</span> <span class="id">apply</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_pdivrMr">ler_pdivrMr//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_pMr">ler_pMr//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler1n">ler1n</a></span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realFieldType">fun_cvg_realFieldType</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="fun_cvg.cvgr_fun_cvg_seq" class="id"><a name="fun_cvg.cvgr_fun_cvg_seq" class="">cvgr_fun_cvg_seq</a></span>.<br/>
<span class="vernacular">Context</span> <span class="id">{R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType}</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="cvg_at_rightP" class="id"><a name="cvg_at_rightP" class="">cvg_at_rightP</a></span> (<span id="f:58" class="id"><a name="f:58" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.cvgr_fun_cvg_seq.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.cvgr_fun_cvg_seq.R">R</a></span>) (<span id="p:59" class="id"><a name="p:59" class="">p</a></span> <span id="l:60" class="id"><a name="l:60" class="">l</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.cvgr_fun_cvg_seq.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#f:58">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:61">x</a></span> @<span class="id">[x</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#p:59">p^'+]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:60">l</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="u:62" class="id"><a name="u:62" class="">u</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.cvgr_fun_cvg_seq.R">R^nat,</a></span> (<span class="gallina-kwd">forall</span> <span id="n:63" class="id"><a name="n:63" class="">n,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#u:62">u</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:63">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&gt;'_x">&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#p:59">p</a></span>) <span class="id">/\</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#u:62">u</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:64">n</a></span> @<span class="id">[n</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#p:59">p</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#f:58">f</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#u:62">u</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:65">n</a></span>) @<span class="id">[n</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:60">l</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
<span class="id">split=&gt;</span> <span class="id">[/cvgrPdist_le</span> <span class="id">fpl</span> <span class="id">u</span> <span class="id">[up</span> <span class="id">/cvgrPdist_lt</span> <span class="id">ucvg]|pfl]</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/cvgrPdist_le</span> <span class="id">=&gt;</span> <span class="id">e</span> <span class="id">e0</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[r</span> <span class="id">/=</span> <span class="id">r0</span> <span class="id">{}fpl]</span> <span class="id">:=</span> <span class="id">fpl</span> <span class="id">_</span> <span class="id">e0;</span> <span class="id">have</span> <span class="id">[s</span> <span class="id">/=</span> <span class="id">s0</span> <span class="id">{}ucvg]</span> <span class="id">:=</span> <span class="id">ucvg</span> <span class="id">_</span> <span class="id">r0</span>.<br/>
&nbsp;&nbsp;<span class="id">near=&gt;</span> <span class="id">t;</span> <span class="id">apply:</span> <span class="id">fpl</span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">apply:</span> <span class="id">ucvg</span> <span class="id">=&gt;</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">t;</span> <span class="gallina-kwd">exists</span> <span class="id">s</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.boolp.html#contrapT">contrapT</a></span> <span class="id">=&gt;</span> <span class="id">fpl;</span> <span class="id">move:</span> <span class="id">pfl;</span> <span class="id">apply/existsNP</span>.<br/>
<span class="id">suff:</span> <span class="gallina-kwd">exists2</span> <span id="x:69" class="id"><span id="x:66" class="id"><a name="x:69" class="">x</a></span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#59ba2b47d2814e66f8210a649ae6e6bc">:</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.cvgr_fun_cvg_seq.R">R</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#0bbe80633d78a4f277dbfba268ab7c04">^nat,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="k:67" class="id"><a name="k:67" class="">k,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:66">x</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#k:67">k</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&gt;'_x">&gt;</a></span> <span class="id">p</span>) <span class="id">/\</span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:66">x</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:68">n</a></span> @<span class="id">[n</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id">p</span> &amp; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181">~</a></span> <span class="id">f</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#x:69">x</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:70">n</a></span>) @<span class="id">[n</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id">l</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">[x_]</span> <span class="id">h;</span> <span class="gallina-kwd">exists</span> <span class="id">x_;</span> <span class="id">exact/not_implyP</span>.<br/>
<span class="id">have</span> <span class="id">[e</span> <span class="id">He]</span> <span class="id">:</span> <span class="gallina-kwd">exists</span> <span id="e:71" class="id"><a name="e:71" class="">e</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#dbe4e9c6d047a7b9bacd3b6dee92ccb8">{posnum</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.cvgr_fun_cvg_seq.R">R},</a></span> <span class="gallina-kwd">forall</span> <span id="d:72" class="id"><a name="d:72" class="">d</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#dbe4e9c6d047a7b9bacd3b6dee92ccb8">{posnum</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.cvgr_fun_cvg_seq.R">R},</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="xn:73" class="id"><a name="xn:73" class="">xn</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.cvgr_fun_cvg_seq.R">R,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681">[/\</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#xn:73">xn</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&gt;'_x">&gt;</a></span> <span class="id">p,</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|xn</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">p|</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#d:72">d</a></span>%<span class="id">:num</span> &amp; <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#xn:73">xn</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">l|</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#a3446a989be902579d41cbac1597f4cf">&gt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#e:71">e</a></span>%<span class="id">:num]</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.boolp.html#contrapT">contrapT;</a></span> <span class="id">apply:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contra_not">contra_not</a></span> <span class="id">fpl</span> <span class="id">=&gt;</span> <span class="id">/forallNP</span> <span class="id">h</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/cvgrPdist_le</span> <span class="id">=&gt;</span> <span class="id">e</span> <span class="id">e0;</span> <span class="id">have</span> <span class="id">/existsNP[d]</span> <span class="id">:=</span> <span class="id">h</span> (<span class="id"><a href="mathcomp.analysis.signed.html#PosNum">PosNum</a></span> <span class="id">e0</span>).<br/>
&nbsp;&nbsp;<span class="id">move/forallNP</span> <span class="id">=&gt;</span> <span class="id">{}h;</span> <span class="id">near=&gt;</span> <span class="id">t</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">/not_and3P[abs|abs|/negP]</span> <span class="id">:=</span> <span class="id">h</span> <span class="id">t</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">exfalso;</span> <span class="id">apply:</span> <span class="id">abs;</span> <span class="id">near:</span> <span class="id">t;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_gt">nbhs_right_gt</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">exfalso;</span> <span class="id">apply:</span> <span class="id">abs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">t;</span>  <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">d</span>%<span class="id">:num</span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">z/=;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.distrC">distrC</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-ltNge</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.distrC">distrC</a></span> <span class="id">=&gt;</span> <span class="id">/ltW</span>.<br/>
<span class="id">have</span> <span class="id">invn</span> <span class="id">n</span> <span class="id">:</span> <span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x_':&gt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:74">n</a></span>.<span class="id">+1</span>%<span class="id">:R^-1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x_':&gt;'_x">:&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.cvgr_fun_cvg_seq.R">R</a></span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.invr_gt0">invr_gt0</a></span>.<br/>
<span class="gallina-kwd">exists</span> (<span class="gallina-kwd">fun</span> <span id="n:76" class="id"><span id="n:75" class="id"><a name="n:76" class="">n</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrfun.html#sval">sval</a></span> (<span class="id"><a href="mathcomp.classical.boolp.html#cid">cid</a></span> (<span class="id">He</span> (<span class="id"><a href="mathcomp.analysis.signed.html#PosNum">PosNum</a></span> (<span class="id">invn</span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:75">n</a></span>))))).<br/>
&nbsp;&nbsp;<span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[k|];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/sval/=;</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.boolp.html#cid">cid</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">[]</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/cvgrPdist_lt</span> <span class="id">=&gt;</span> <span class="id">r</span> <span class="id">r0;</span> <span class="id">near=&gt;</span> <span class="id">t</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/sval/=;</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.boolp.html#cid">cid</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">[px</span> <span class="id">xpt</span> <span class="id">_]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.distrC">distrC</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">xpt</span>)<span class="id">//</span> <span class="id">-</span>(@<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.invrK">invrK</a></span> <span class="id">_</span> <span class="id">r</span>) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lef_pV2">lef_pV2</a></span> <span class="id">?posrE</span> <span class="id">?invr_gt0//</span>.<br/>
&nbsp;&nbsp;<span class="id">near:</span> <span class="id">t;</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrint.html#124262c1d6731d26a230b737e0b3e9b6">`|ceil</a></span> (<span class="id">r^-1</span>)<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrint.html#124262c1d6731d26a230b737e0b3e9b6">|</a></span>%<span class="id">N</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">s</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-ltnS</span> <span class="id">-</span>(@<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_nat">ltr_nat</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.cvgr_fun_cvg_seq.R">R</a></span>) <span class="id">=&gt;</span> <span class="id">/ltW;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrint.html#natr_absz">natr_absz</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.gtr0_norm">gtr0_norm</a></span> <span class="id">?ceil_gt0</span> <span class="id">?invr_gt0//</span> <span class="id"><a href="mathcomp.analysis.reals.html#ceil_ge">ceil_ge</a></span>.<br/>
<span class="id">move=&gt;</span> <span class="id">/cvgrPdist_lt/</span>(<span class="id">_</span> <span class="id">e</span>%<span class="id">:num</span> (<span class="id">ltac:</span>(<span class="gallina-kwd">by</span> <span class="id">[]</span>)))<span class="id">[]</span> <span class="id">n</span> <span class="id">_</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#leqnn">leqnn</a></span> <span class="id">_</span>)).<br/>
<span class="id">rewrite</span> <span class="id">/sval/=;</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.boolp.html#cid">cid</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x</span> <span class="id">[px</span> <span class="id">xpn]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.leNgt">leNgt</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.distrC">distrC</a></span> <span class="id">=&gt;</span> <span class="id">/negP</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="cvg_at_leftP" class="id"><a name="cvg_at_leftP" class="">cvg_at_leftP</a></span> (<span id="f:77" class="id"><a name="f:77" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.cvgr_fun_cvg_seq.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.cvgr_fun_cvg_seq.R">R</a></span>) (<span id="p:78" class="id"><a name="p:78" class="">p</a></span> <span id="l:79" class="id"><a name="l:79" class="">l</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.cvgr_fun_cvg_seq.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#f:77">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:80">x</a></span> @<span class="id">[x</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#p:78">p^'-]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:79">l</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="u:81" class="id"><a name="u:81" class="">u</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.cvgr_fun_cvg_seq.R">R^nat,</a></span> (<span class="gallina-kwd">forall</span> <span id="n:82" class="id"><a name="n:82" class="">n,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#u:81">u</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:82">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#p:78">p</a></span>) <span class="id">/\</span> <span class="id"><a href="mathcomp.analysis.realfun.html#u:81">u</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:83">n</a></span> @<span class="id">[n</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#p:78">p</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#f:77">f</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#u:81">u</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:84">n</a></span>) @<span class="id">[n</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:79">l</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
<span class="id">apply:</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#iff_trans">iff_trans</a></span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_at_leftNP">cvg_at_leftNP</a></span> <span class="id">f</span> <span class="id">p</span> <span class="id">l</span>)).<br/>
<span class="id">apply:</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#iff_trans">iff_trans</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#cvg_at_rightP">cvg_at_rightP</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>)).<br/>
<span class="id">split=&gt;</span> <span class="id">[pfl</span> <span class="id">u</span> <span class="id">[pu</span> <span class="id">up]|pfl</span> <span class="id">u</span> <span class="id">[pu</span> <span class="id">up]]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span> <span class="id">u</span>)<span class="id">;</span> <span class="id">apply:</span> <span class="id">pfl</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">split;</span> <span class="id">[move=&gt;</span> <span class="id">k;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrNr">ltrNr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK//|exact/cvgNP]</a></span>.<br/>
<span class="id">apply:</span> <span class="id">pfl</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">split;</span> <span class="id">[move=&gt;</span> <span class="id">k;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrNl">ltrNl//|apply/cvgNP</a></span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK]</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.cvgr_fun_cvg_seq">cvgr_fun_cvg_seq</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="fun_cvg.cvge_fun_cvg_seq" class="id"><a name="fun_cvg.cvge_fun_cvg_seq" class="">cvge_fun_cvg_seq</a></span>.<br/>
<span class="vernacular">Context</span> <span class="id">{R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType}</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="cvge_at_rightP" class="id"><a name="cvge_at_rightP" class="">cvge_at_rightP</a></span> (<span id="f:86" class="id"><a name="f:86" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.cvge_fun_cvg_seq.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.cvge_fun_cvg_seq.R">R</a></span>) (<span id="p:87" class="id"><a name="p:87" class="">p</a></span> <span id="l:88" class="id"><a name="l:88" class="">l</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.cvge_fun_cvg_seq.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#f:86">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:89">x</a></span> @<span class="id">[x</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#p:87">p^'+]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:88">l</a></span>%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="u:90" class="id"><a name="u:90" class="">u</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.cvge_fun_cvg_seq.R">R^nat,</a></span> (<span class="gallina-kwd">forall</span> <span id="n:91" class="id"><a name="n:91" class="">n,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#u:90">u</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:91">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&gt;'_x">&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#p:87">p</a></span>) <span class="id">/\</span> <span class="id"><a href="mathcomp.analysis.realfun.html#u:90">u</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:92">n</a></span> @<span class="id">[n</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#p:87">p</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#f:86">f</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#u:90">u</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:93">n</a></span>) @<span class="id">[n</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:88">l</a></span>%<span class="id">:E</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
<span class="id">split=&gt;</span> <span class="id">[/fine_cvgP</span> <span class="id">[ffin_num</span> <span class="id">fpl]</span> <span class="id">u</span> <span class="id">[pu</span> <span class="id">up]|h]</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/fine_cvgP;</span> <span class="id">split;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">move/cvg_at_rightP</span> <span class="id">:</span> <span class="id">fpl;</span> <span class="id">exact</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[e</span> <span class="id">/=</span> <span class="id">e0</span> <span class="id">{}ffin_num]</span> <span class="id">:=</span> <span class="id">ffin_num</span>.<br/>
&nbsp;&nbsp;<span class="id">move/cvgrPdist_lt</span> <span class="id">:</span> <span class="id">up</span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">_</span> <span class="id">e0</span>)<span class="id">[s</span> <span class="id">/=</span> <span class="id">s0</span> <span class="id">{}up];</span> <span class="id">near=&gt;</span> <span class="id">t</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id">ffin_num</span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">apply:</span> <span class="id">up</span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="id">near:</span> <span class="id">t;</span> <span class="gallina-kwd">exists</span> <span class="id">s</span>.<br/>
<span class="id">suff</span> <span class="id">H</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#be9d045413b70f39126ce7af3de2a77f">\forall</a></span> <span id="F:94" class="id"><a name="F:94" class="">F</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#be9d045413b70f39126ce7af3de2a77f">\near</a></span> <span class="id">p^'+,</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#F:94">F</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/fine_cvgP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply/cvg_at_rightP</span> <span class="id">=&gt;</span> <span class="id">u</span> <span class="id">/h</span> <span class="id">/fine_cvgP[]</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.boolp.html#contrapT">contrapT</a></span> <span class="id">=&gt;</span> <span class="id">/not_near_at_rightP</span> <span class="id">abs</span>.<br/>
<span class="id">have</span> <span class="id">invn</span> <span class="id">n</span> <span class="id">:</span> <span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x_':&gt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:95">n</a></span>.<span class="id">+1</span>%<span class="id">:R^-1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x_':&gt;'_x">:&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.cvge_fun_cvg_seq.R">R</a></span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.invr_gt0">invr_gt0</a></span>.<br/>
<span class="id">pose</span> <span class="id">y_</span> <span id="n:96" class="id"><a name="n:96" class="">n</a></span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrfun.html#sval">sval</a></span> (<span class="id"><a href="mathcomp.classical.boolp.html#cid2">cid2</a></span> (<span class="id">abs</span> (<span class="id"><a href="mathcomp.analysis.signed.html#PosNum">PosNum</a></span> (<span class="id">invn</span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:96">n</a></span>)))).<br/>
<span class="id">have</span> <span class="id">py_</span> <span class="id">k</span> <span class="id">:</span> <span class="id">p</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">y_</span> <span class="id"><a href="mathcomp.analysis.realfun.html#k:97">k</a></span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/y_</span> <span class="id">/sval/=;</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.boolp.html#cid2">cid2</a></span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">x</span> <span class="id">/andP[]</span>.<br/>
<span class="id">have</span> <span class="id">y_p</span> <span class="id">:</span> <span class="id">y_</span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:98">n</a></span> @<span class="id">[n</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id">p</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/cvgrPdist_lt</span> <span class="id">=&gt;</span> <span class="id">e</span> <span class="id">e0;</span> <span class="id">near=&gt;</span> <span class="id">t</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr0_norm">ltr0_norm//</a></span> <span class="id">?subr_lt0//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprB">opprB</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/y_</span> <span class="id">/sval/=;</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.boolp.html#cid2">cid2</a></span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">x</span> <span class="id">/andP[_</span> <span class="id">+</span> <span class="id">_]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrBlDr">ltrBlDr</a></span> <span class="id">=&gt;</span> <span class="id">/lt_le_trans;</span> <span class="id">apply</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerD2r">lerD2r</a></span> <span class="id">-</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.invrK">invrK</a></span> <span class="id">e</span>) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lef_pV2">lef_pV2//</a></span> <span class="id">?posrE</span> <span class="id">?invr_gt0//</span>.<br/>
&nbsp;&nbsp;<span class="id">near:</span> <span class="id">t</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrint.html#124262c1d6731d26a230b737e0b3e9b6">`|ceil</a></span> <span class="id">e^-1|</span>%<span class="id">N</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">k</span> <span class="id">/=</span> <span class="id">ek</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> (<span class="id"><a href="mathcomp.analysis.reals.html#ceil_ge">ceil_ge</a></span> <span class="id">_</span>))<span class="id">//</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|ceil</a></span> <span class="id">e^-1|</span>%<span class="id">:~R</span>)<span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ger0_norm">ger0_norm//</a></span> <span class="id">?ceil_ge0//</span> <span class="id">?invr_ge0//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">ek;rewrite</span> <span class="id">-</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#leq_add2r">leq_add2r</a></span> <span class="id">1</span>) <span class="id">!addn1</span> <span class="id">-</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_nat">ltr_nat</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.cvge_fun_cvg_seq.R">R</a></span>) <span class="id">=&gt;</span> <span class="id">/ltW</span>.<br/>
<span class="id">have</span> <span class="id">/fine_cvgP[[m</span> <span class="id">_</span> <span class="id">mfy_]</span> <span class="id">/=</span> <span class="id">_]</span> <span class="id">:=</span> <span class="id">h</span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#conj">conj</a></span> <span class="id">py_</span> <span class="id">y_p</span>).<br/>
<span class="id">near</span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span> <span class="id">=&gt;</span> <span class="id">n</span>.<br/>
<span class="id">have</span> <span class="id">mn</span> <span class="id">:</span> (<span class="id">m</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3">&lt;=</a></span> <span class="id">n</span>)%<span class="id">N</span> <span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">n;</span> <span class="gallina-kwd">exists</span> <span class="id">m</span>.<br/>
<span class="id">have</span> <span class="id">{mn}</span> <span class="id">:=</span> <span class="id">mfy_</span> <span class="id">_</span> <span class="id">mn</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/y_</span> <span class="id">/sval;</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.boolp.html#cid2">cid2</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">x</span> <span class="id">_</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="cvge_at_leftP" class="id"><a name="cvge_at_leftP" class="">cvge_at_leftP</a></span> (<span id="f:99" class="id"><a name="f:99" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.cvge_fun_cvg_seq.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.cvge_fun_cvg_seq.R">R</a></span>) (<span id="p:100" class="id"><a name="p:100" class="">p</a></span> <span id="l:101" class="id"><a name="l:101" class="">l</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.cvge_fun_cvg_seq.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#f:99">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:102">x</a></span> @<span class="id">[x</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#p:100">p^'-]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:101">l</a></span>%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="u:103" class="id"><a name="u:103" class="">u</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.cvge_fun_cvg_seq.R">R^nat,</a></span> (<span class="gallina-kwd">forall</span> <span id="n:104" class="id"><a name="n:104" class="">n,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#u:103">u</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:104">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#p:100">p</a></span>) <span class="id">/\</span> <span class="id"><a href="mathcomp.analysis.realfun.html#u:103">u</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:105">n</a></span> @<span class="id">[n</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#p:100">p</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#f:99">f</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#u:103">u</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:106">n</a></span>) @<span class="id">[n</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:101">l</a></span>%<span class="id">:E</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
<span class="id">apply:</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#iff_trans">iff_trans</a></span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_at_leftNP">cvg_at_leftNP</a></span> <span class="id">f</span> <span class="id">p</span> <span class="id">l</span>%<span class="id">:E</span>)).<br/>
<span class="id">apply:</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#iff_trans">iff_trans</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#cvge_at_rightP">cvge_at_rightP</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">l</span>))<span class="id">;</span> <span class="id">split=&gt;</span> <span class="id">h</span> <span class="id">u</span> <span class="id">[up</span> <span class="id">pu]</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">u</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#565ca4aa0f5062a899cb0ce9091bd2da">\-</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#565ca4aa0f5062a899cb0ce9091bd2da">\-</a></span> <span class="id">u</span>))%<span class="id">R;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">?/=;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id">h;</span> <span class="id">split;</span> <span class="id">[by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrNl">ltrNl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK|exact:</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgN">cvgN]</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id">h;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[n|];</span> <span class="id">[rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrNl">ltrNl|move/cvgN</a></span> <span class="id">:</span> <span class="id">pu;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK]</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.cvge_fun_cvg_seq">cvge_fun_cvg_seq</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="fun_cvg.fun_cvg_realType" class="id"><a name="fun_cvg.fun_cvg_realType" class="">fun_cvg_realType</a></span>.<br/>
<span class="vernacular">Context</span> <span class="id">{R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType}</a></span>.<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> <span class="id">f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realType.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realType.R">R</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="nondecreasing_cvgr" class="id"><a name="nondecreasing_cvgr" class="">nondecreasing_cvgr</a></span> <span id="f:108" class="id"><a name="f:108" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#:::'nondecreasing_fun'_x">nondecreasing_fun</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:108">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#has_ubound">has_ubound</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:108">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#f:108">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:109">r</a></span> @<span class="id">[r</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#423d7544dbaa8438f698fe5437adc41f">+oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:108">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
<span class="id">move=&gt;</span> <span class="id">ndf</span> <span class="id">ubf;</span> <span class="id">set</span> <span class="id">M</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">f</span>).<br/>
<span class="id">have</span> <span class="id">supf</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#has_sup">has_sup</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">f</span>) <span class="gallina-kwd">by</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="gallina-kwd">exists</span> (<span class="id">f</span> <span class="id">0</span>)<span class="id">,</span> <span class="id">0</span>.<br/>
<span class="id">apply/cvgrPdist_le</span> <span class="id">=&gt;</span> <span class="id">_/posnumP[e]</span>.<br/>
<span class="id">have</span> <span class="id">[p</span> <span class="id">Mefp]</span> <span class="id">:</span> <span class="gallina-kwd">exists</span> <span id="p:110" class="id"><a name="p:110" class="">p,</a></span> <span class="id">M</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">e</span>%<span class="id">:num</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#p:110">p</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[_</span> <span class="id">-[p</span> <span class="id">_]</span> <span class="id">&lt;-</span> <span class="id">/ltW</span> <span class="id">efp]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.reals.html#sup_adherent">sup_adherent</a></span> (<span class="id"><a href="mathcomp.analysis.signed.html#gt0">gt0</a></span> <span class="id">e</span>) <span class="id">supf</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">p;</span> <span class="id">rewrite</span> <span class="id">efp</span>.<br/>
<span class="id">near=&gt;</span> <span class="id">n;</span> <span class="id">have</span> <span class="id">pn</span> <span class="id">:</span> <span class="id">p</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">n</span> <span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">n;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_pinfty_ge">nbhs_pinfty_ge;</a></span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.num_real">num_real</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_distlC">ler_distlC</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">Mefp</span> (<span class="id">ndf</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>))<span class="id">//=</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">M</span>) <span class="id">?lerDl//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">/ubP</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.reals.html#sup_upper_bound">sup_upper_bound</a></span> <span class="id">supf;</span> <span class="id">apply;</span> <span class="gallina-kwd">exists</span> <span class="id">n</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="nonincreasing_at_right_cvgr" class="id"><a name="nonincreasing_at_right_cvgr" class="">nonincreasing_at_right_cvgr</a></span> <span id="f:111" class="id"><a name="f:111" class="">f</a></span> <span id="a:112" class="id"><a name="a:112" class="">a</a></span> (<span id="b:113" class="id"><a name="b:113" class="">b</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#itv_bound">itv_bound</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realType.R">R</a></span>) <span class="id">:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BRight">BRight</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:112">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POSyntax.::order_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:113">b</a></span>)%<span class="id">O</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#Interval">Interval</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BRight">BRight</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:112">a</a></span>) <span class="id"><a href="mathcomp.analysis.realfun.html#b:113">b</a></span> &amp;<span class="id">,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#:::'nonincreasing_fun'_x">nonincreasing_fun</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:111">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#has_ubound">has_ubound</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:111">f</a></span> @<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#Interval">Interval</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BRight">BRight</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:112">a</a></span>) <span class="id"><a href="mathcomp.analysis.realfun.html#b:113">b]</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#f:111">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:114">x</a></span> @<span class="id">[x</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:112">a</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#02fa8d8231c69eb0b6a7453874088890">^'+]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:111">f</a></span> @<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#Interval">Interval</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BRight">BRight</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:112">a</a></span>) <span class="id"><a href="mathcomp.analysis.realfun.html#b:113">b]</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
<span class="id">move=&gt;</span> <span class="id">ab</span> <span class="id">lef</span> <span class="id">ubf;</span> <span class="id">set</span> <span class="id">M</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> <span class="id">_</span>.<br/>
<span class="id">have</span> <span class="id">supf</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#has_sup">has_sup</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">[set</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:115">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">|</a></span> <span id="x:115" class="id"><a name="x:115" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#Interval">Interval</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BRight">BRight</a></span> <span class="id">a</span>) <span class="id">b]]</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">case:</span> <span class="id">b</span> <span class="id">ab</span> <span class="id">{lef</span> <span class="id">ubf</span> <span class="id">M}</span> <span class="id">=&gt;</span> <span class="id">[[|]</span> <span class="id">t</span> <span class="id">ta|[]]</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">exists</span> (<span class="id">f</span> ((<span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">t</span>) <span class="id">/</span> <span class="id">2</span>))<span class="id">,</span> ((<span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">t</span>) <span class="id">/</span> <span class="id">2</span>) <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">!midf_lt</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">exists</span> (<span class="id">f</span> ((<span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">t</span>) <span class="id">/</span> <span class="id">2</span>))<span class="id">,</span> ((<span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">t</span>) <span class="id">/</span> <span class="id">2</span>) <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.midf_lt">midf_lt//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.midf_le">midf_le//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id">f</span> (<span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">1</span>))<span class="id">,</span> (<span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">1</span>).<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id">f</span> (<span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">1</span>))<span class="id">,</span> (<span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">1</span>) <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrDl">ltrDl</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
<span class="id">apply/cvgrPdist_le</span> <span class="id">=&gt;</span> <span class="id">_/posnumP[e]</span>.<br/>
<span class="id">have</span> <span class="id">{supf}</span> <span class="id">[p</span> <span class="id">[ap</span> <span class="id">pb]]</span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="p:116" class="id"><a name="p:116" class="">p,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681">[/\</a></span> <span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#p:116">p,</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BLeft">BLeft</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#p:116">p</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POSyntax.::order_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">b</span>)%<span class="id">O</span> &amp; <span class="id">M</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">e</span>%<span class="id">:num</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#p:116">p]</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[_</span> <span class="id">-[p</span> <span class="id">apb]</span> <span class="id">&lt;-</span> <span class="id">/ltW</span> <span class="id">efp]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.reals.html#sup_adherent">sup_adherent</a></span> (<span class="id"><a href="mathcomp.analysis.signed.html#gt0">gt0</a></span> <span class="id">e</span>) <span class="id">supf</span>.<br/>
&nbsp;&nbsp;<span class="id">move:</span> <span class="id">apb;</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">-[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> &amp;&amp; <span class="id"><a href="mathcomp.analysis.realfun.html#X:117">X]/</a></span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BLeft">BLeft</a></span> <span class="id">p</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POSyntax.::order_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">b</span>)%<span class="id">O</span> <span class="id">=&gt;</span> <span class="id">/andP[ap</span> <span class="id">pb]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">p;</span> <span class="id">split</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerBlDr">lerBlDr</a></span> <span class="id">{}/M</span>.<br/>
<span class="id">move:</span> <span class="id">b</span> <span class="id">ab</span> <span class="id">pb</span> <span class="id">lef</span> <span class="id">ubf</span> <span class="id">=&gt;</span> <span class="id">[[|]</span> <span class="id">b|[//|]]</span> <span class="id">ab</span> <span class="id">pb</span> <span class="id">lef</span> <span class="id">ubf;</span> <span class="id">set</span> <span class="id">M</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">Mefp</span>.<br/>
<span class="id">-</span> <span class="id">near=&gt;</span> <span class="id">r;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_distl">ler_distl;</a></span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">suff:</span> <span class="id">f</span> <span class="id">r</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">M</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans;</a></span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerBlDr">lerBlDr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerDl">lerDl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.reals.html#sup_ub">sup_ub</a></span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="gallina-kwd">exists</span> <span class="id">r</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/andP;</span> <span class="id">split;</span> <span class="id">near:</span> <span class="id">r;</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_gt">nbhs_right_gt|exact:</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_lt">nbhs_right_lt]</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">Mefp</span>)<span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerD2r">lerD2r</a></span> <span class="id">lef//=;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">ap</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">r;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_le">nbhs_right_le</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply/andP;</span> <span class="id">split;</span> <span class="id">near:</span> <span class="id">r;</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_gt">nbhs_right_gt|exact:</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_lt">nbhs_right_lt]</a></span>.<br/>
<span class="id">-</span> <span class="id">near=&gt;</span> <span class="id">r;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_distl">ler_distl;</a></span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">suff:</span> <span class="id">f</span> <span class="id">r</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">M</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans;</a></span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerBlDr">lerBlDr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerDl">lerDl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.reals.html#sup_ub">sup_ub</a></span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="gallina-kwd">exists</span> <span class="id">r</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/andP;</span> <span class="id">split;</span> <span class="id">near:</span> <span class="id">r;</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_gt">nbhs_right_gt|exact:</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_le">nbhs_right_le]</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">Mefp</span>)<span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerD2r">lerD2r</a></span> <span class="id">lef//=;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">ap</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">r;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_le">nbhs_right_le</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/andP;</span> <span class="id">split;</span> <span class="id">near:</span> <span class="id">r;</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_gt">nbhs_right_gt|exact:</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_le">nbhs_right_le]</a></span>.<br/>
<span class="id">-</span> <span class="id">near=&gt;</span> <span class="id">r;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_distl">ler_distl;</a></span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">suff:</span> <span class="id">f</span> <span class="id">r</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">M</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans;</a></span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerBlDr">lerBlDr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerDl">lerDl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.reals.html#sup_ub">sup_ub</a></span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="gallina-kwd">exists</span> <span class="id">r</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">r;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_gt">nbhs_right_gt</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">Mefp</span>)<span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerD2r">lerD2r</a></span> <span class="id">lef//</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT;</a></span> <span class="id">near:</span> <span class="id">r;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_gt">nbhs_right_gt</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">ap</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">r;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_le">nbhs_right_le</a></span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="nonincreasing_at_right_is_cvgr" class="id"><a name="nonincreasing_at_right_is_cvgr" class="">nonincreasing_at_right_is_cvgr</a></span> <span id="f:118" class="id"><a name="f:118" class="">f</a></span> <span id="a:119" class="id"><a name="a:119" class="">a</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.topology.html#be9d045413b70f39126ce7af3de2a77f">\forall</a></span> <span id="x:120" class="id"><a name="x:120" class="">x</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#be9d045413b70f39126ce7af3de2a77f">\near</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:119">a^'+,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#ebff9f8c4fe58806999ff1c12ccee445">`]a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:120">x[</a></span> &amp;<span class="id">,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#:::'nonincreasing_fun'_x">nonincreasing_fun</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:118">f}</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.topology.html#be9d045413b70f39126ce7af3de2a77f">\forall</a></span> <span id="x:121" class="id"><a name="x:121" class="">x</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#be9d045413b70f39126ce7af3de2a77f">\near</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:119">a^'+,</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#has_ubound">has_ubound</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:118">f</a></span> @<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#d9e9ffb4ad57ed1d8357ed0c1824cf0c">`]a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:121">x[</a></span>)) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#cvg">cvg</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:118">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:122">x</a></span> @<span class="id">[x</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:119">a</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#02fa8d8231c69eb0b6a7453874088890">^'+]</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
<span class="id">move=&gt;</span> <span class="id">nif</span> <span class="id">ubf;</span> <span class="id">apply/cvg_ex;</span> <span class="id">near</span> <span class="id">a^'+</span> <span class="id">=&gt;</span> <span class="id">b</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">eexists;</span> <span class="id">apply:</span> (@<span class="id"><a href="mathcomp.analysis.realfun.html#nonincreasing_at_right_cvgr">nonincreasing_at_right_cvgr</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BLeft">BLeft</a></span> <span class="id">b</span>))<span class="id">;</span><br/>
&nbsp;&nbsp;<span class="id">[rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#bnd_simp">bnd_simp|near:</a></span> <span class="id">b</span>..<span class="id">]</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="nondecreasing_at_right_cvgr" class="id"><a name="nondecreasing_at_right_cvgr" class="">nondecreasing_at_right_cvgr</a></span> <span id="f:124" class="id"><a name="f:124" class="">f</a></span> <span id="a:125" class="id"><a name="a:125" class="">a</a></span> (<span id="b:126" class="id"><a name="b:126" class="">b</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#itv_bound">itv_bound</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realType.R">R</a></span>) <span class="id">:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BRight">BRight</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:125">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POSyntax.::order_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:126">b</a></span>)%<span class="id">O</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#Interval">Interval</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BRight">BRight</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:125">a</a></span>) <span class="id"><a href="mathcomp.analysis.realfun.html#b:126">b</a></span> &amp;<span class="id">,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#:::'nondecreasing_fun'_x">nondecreasing_fun</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:124">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#has_lbound">has_lbound</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:124">f</a></span> @<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#Interval">Interval</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BRight">BRight</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:125">a</a></span>) <span class="id"><a href="mathcomp.analysis.realfun.html#b:126">b]</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#f:124">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:127">x</a></span> @<span class="id">[x</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:125">a</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#02fa8d8231c69eb0b6a7453874088890">^'+]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:124">f</a></span> @<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#Interval">Interval</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BRight">BRight</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:125">a</a></span>) <span class="id"><a href="mathcomp.analysis.realfun.html#b:126">b]</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
<span class="id">move=&gt;</span> <span class="id">ab</span> <span class="id">nif</span> <span class="id">hlb;</span> <span class="id">set</span> <span class="id">M</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span> <span class="id">_</span>.<br/>
<span class="id">have</span> <span class="id">ndNf</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#Interval">Interval</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BRight">BRight</a></span> <span class="id">a</span>) <span class="id">b</span> &amp;<span class="id">,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#:::'nonincreasing_fun'_x">nonincreasing_fun</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#565ca4aa0f5062a899cb0ce9091bd2da">\-</a></span> <span class="id">f</span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">}</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r</span> <span class="id">s</span> <span class="id">rab</span> <span class="id">sab</span> <span class="id">/nif;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerN2">lerN2;</a></span> <span class="id">exact</span>.<br/>
<span class="id">have</span> <span class="id">hub</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#has_ubound">has_ubound</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">[set</a></span> (<span class="id">\-</span> <span class="id">f</span>) <span class="id"><a href="mathcomp.analysis.realfun.html#x:128">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">|</a></span> <span id="x:128" class="id"><a name="x:128" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#Interval">Interval</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BRight">BRight</a></span> <span class="id">a</span>) <span class="id">b]]</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/has_ub_lbN;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#image_comp">image_comp/=</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#has_lbound">has_lbound</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#X:129">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">f</span> @<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#Interval">Interval</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BRight">BRight</a></span> <span class="id">a</span>) <span class="id">b]</span>)<span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eq_imagel">eq_imagel</a></span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span>.<br/>
<span class="id">have</span> <span class="id">/cvgN</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#nonincreasing_at_right_cvgr">nonincreasing_at_right_cvgr</a></span> <span class="id">ab</span> <span class="id">ndNf</span> <span class="id">hub</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#X:130">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_]</span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span> (<span class="id">f</span> @<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#Interval">Interval</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BRight">BRight</a></span> <span class="id">a</span>) <span class="id">b]</span>))<span class="id">//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/inf;</span> <span class="id">congr</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> <span class="id">_</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#image_comp">image_comp/=;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eq_imagel">eq_imagel</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="nondecreasing_at_right_is_cvgr" class="id"><a name="nondecreasing_at_right_is_cvgr" class="">nondecreasing_at_right_is_cvgr</a></span> <span id="f:131" class="id"><a name="f:131" class="">f</a></span> <span id="a:132" class="id"><a name="a:132" class="">a</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.topology.html#be9d045413b70f39126ce7af3de2a77f">\forall</a></span> <span id="x:133" class="id"><a name="x:133" class="">x</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#be9d045413b70f39126ce7af3de2a77f">\near</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:132">a^'+,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#ebff9f8c4fe58806999ff1c12ccee445">`]a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:133">x[</a></span> &amp;<span class="id">,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#:::'nondecreasing_fun'_x">nondecreasing_fun</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:131">f}</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.topology.html#be9d045413b70f39126ce7af3de2a77f">\forall</a></span> <span id="x:134" class="id"><a name="x:134" class="">x</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#be9d045413b70f39126ce7af3de2a77f">\near</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:132">a^'+,</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#has_lbound">has_lbound</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:131">f</a></span> @<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#d9e9ffb4ad57ed1d8357ed0c1824cf0c">`]a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:134">x[</a></span>)) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#cvg">cvg</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:131">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:135">x</a></span> @<span class="id">[x</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:132">a</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#02fa8d8231c69eb0b6a7453874088890">^'+]</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
<span class="id">move=&gt;</span> <span class="id">ndf</span> <span class="id">lbf;</span> <span class="id">apply/cvg_ex;</span> <span class="id">near</span> <span class="id">a^'+</span> <span class="id">=&gt;</span> <span class="id">b</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">eexists;</span> <span class="id">apply:</span> (@<span class="id"><a href="mathcomp.analysis.realfun.html#nondecreasing_at_right_cvgr">nondecreasing_at_right_cvgr</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BLeft">BLeft</a></span> <span class="id">b</span>))<span class="id">;</span><br/>
&nbsp;&nbsp;<span class="id">[rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#bnd_simp">bnd_simp|near:</a></span> <span class="id">b</span>..<span class="id">]</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realType">fun_cvg_realType</a></span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.realfun.html#nondecreasing_at_right_cvgr">nondecreasing_at_right_cvgr</a></span> <span class="id">{R</span> <span class="id">f</span> <span class="id">a}</span> <span class="id">b</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.realfun.html#nondecreasing_at_right_cvgr">nondecreasing_at_right_cvgr</a></span> <span class="id">{R</span> <span class="id">f</span> <span class="id">a}</span> <span class="id">b</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="fun_cvg.fun_cvg_ereal" class="id"><a name="fun_cvg.fun_cvg_ereal" class="">fun_cvg_ereal</a></span>.<br/>
<span class="vernacular">Context</span> <span class="id">{R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType}</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="nondecreasing_cvge" class="id"><a name="nondecreasing_cvge" class="">nondecreasing_cvge</a></span> (<span id="f:138" class="id"><a name="f:138" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#:::'nondecreasing_fun'_x">nondecreasing_fun</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:138">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:138">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:139">r</a></span> @<span class="id">[r</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#423d7544dbaa8438f698fe5437adc41f">+oo</a></span>%<span class="id">R]</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:138">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
<span class="id">move=&gt;</span> <span class="id">ndf;</span> <span class="id">set</span> <span class="id">S</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">f;</span> <span class="id">set</span> <span class="id">l</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#S">S</a></span>.<br/>
<span class="id">have</span> <span class="id">[Spoo|Spoo]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="id">S</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[N</span> <span class="id">Nf]</span> <span class="id">:</span> <span class="gallina-kwd">exists</span> <span id="N:140" class="id"><a name="N:140" class="">N,</a></span> <span class="gallina-kwd">forall</span> <span id="n:141" class="id"><a name="n:141" class="">n,</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#n:141">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#a3446a989be902579d41cbac1597f4cf">&gt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#N:140">N</a></span>)%<span class="id">R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:141">n</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case:</span> <span class="id">Spoo</span> <span class="id">=&gt;</span> <span class="id">N</span> <span class="id">_</span> <span class="id">uNoo;</span> <span class="gallina-kwd">exists</span> <span class="id">N</span> <span class="id">=&gt;</span> <span class="id">n</span> <span class="id">Nn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">:=</span> <span class="id">ndf</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Nn;</span> <span class="id">rewrite</span> <span class="id">uNoo</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leye_eq">leye_eq</a></span> <span class="id">=&gt;</span> <span class="id">/eqP</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id">l</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/l</span> <span class="id">/ereal_sup;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#supremum_pinfty">supremum_pinfty</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="mathcomp.analysis.realfun.html#cvg_shiftr">cvg_shiftr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|N|</a></span>)<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_near_cst">cvg_near_cst</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">N;</span> <span class="id">split;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.num_real">num_real</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">/ltW</span> <span class="id">Nx;</span> <span class="id">rewrite</span> <span class="id">Nf//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_wpDr">ler_wpDr</a></span>.<br/>
<span class="id">have</span> <span class="id">[lpoo|lpoo]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> <span class="id">l</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">lpoo;</span> <span class="id">apply/cvgeyPge</span> <span class="id">=&gt;</span> <span class="id">M</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">/ereal_sup_gt[_</span> <span class="id">[n</span> <span class="id">_]</span> <span class="id">&lt;-</span> <span class="id">Mun]</span> <span class="id">:</span> <span class="id">M</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">l</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">lpoo//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltry">ltry</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">n;</span> <span class="id">split;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.num_real">num_real</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">m</span> <span class="id">/=</span> <span class="id">nm;</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">Mun</span>))<span class="id">//</span> <span class="id">ndf//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
<span class="id">have</span> <span class="id">[fnoo|fnoo]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/l</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">S</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo]</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup1">ereal_sup1</a></span> <span class="id">fnoo;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_cst">cvg_cst</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[_</span> <span class="id">[n</span> <span class="id">_]</span> <span class="id">&lt;-</span> <span class="id">/[!fnoo]//|_</span> <span class="id">-&gt;]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/S</span> <span class="id">fnoo;</span> <span class="gallina-kwd">exists</span> <span class="id">0</span>%<span class="id">R</span>.<br/>
<span class="id">have</span> <span class="id">[/ereal_sup_ninfty</span> <span class="id">lnoo|lnoo]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> <span class="id">l</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">exfalso;</span> <span class="id">apply/fnoo/funext</span> <span class="id">=&gt;</span> <span class="id">n;</span> <span class="id">rewrite</span> (<span class="id">lnoo</span> (<span class="id">f</span> <span class="id">n</span>))<span class="id">//;</span> <span class="gallina-kwd">exists</span> <span class="id">n</span>.<br/>
<span class="id">have</span> <span class="id">l_fin_num</span> <span class="id">:</span> <span class="id">l</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numE">fin_numE</a></span> <span class="id">lpoo</span> <span class="id">lnoo</span>.<br/>
<span class="id">set</span> <span class="id">A</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="n:145" class="id"><span id="n:144" class="id"><span id="n:142" class="id"><a name="n:145" class="">n</a></span></span></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:142">n</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo];</a></span> <span class="id">set</span> <span class="id">B</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="n:147" class="id"><span id="n:146" class="id"><span id="n:143" class="id"><a name="n:147" class="">n</a></span></span></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:143">n</a></span> <span class="id">!=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo]</a></span>.<br/>
<span class="id">have</span> <span class="id">f_fin_num</span> <span class="id">n</span> <span class="id">:</span> <span class="id">B</span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:148">n</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:148">n</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">Bn;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numE">fin_numE</a></span> <span class="id">Bn/=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contra_notN">contra_notN</a></span> <span class="id">Spoo</span> <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">unpoo;</span> <span class="gallina-kwd">exists</span> <span class="id">n</span>.<br/>
<span class="id">have</span> <span class="id">[x</span> <span class="id">Bx]</span> <span class="id">:</span> <span class="id">B</span> <span class="id">!=set0</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/set0P/negP</span> <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">B0;</span> <span class="id">apply/fnoo/funext</span> <span class="id">=&gt;</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/eqP/negPn/negP</span> <span class="id">=&gt;</span> <span class="id">unnoo</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move/seteqP</span> <span class="id">:</span> <span class="id">B0</span> <span class="id">=&gt;</span> <span class="id">[+</span> <span class="id">_]</span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">n</span>)<span class="id">;</span> <span class="id">apply</span>.<br/>
<span class="id">have</span> <span class="id">xB</span> <span class="id">r</span> <span class="id">:</span> (<span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:149">r</a></span>)%<span class="id">R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">B</span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:149">r</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">/ndf</span> <span class="id">xr;</span> <span class="id">apply/negP</span> <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">urnoo</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">xr;</span> <span class="id">rewrite</span> <span class="id">urnoo</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leeNy_eq">leeNy_eq;</a></span> <span class="id">exact/negP</span>.<br/>
<span class="id">rewrite</span> <span class="id">-</span>(@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">_</span> <span class="id">l</span>)<span class="id">//;</span> <span class="id">apply/fine_cvgP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">x;</span> <span class="id">split;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.num_real">num_real</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r</span> <span class="id">A1r;</span> <span class="id">rewrite</span> <span class="id">f_fin_num</span> <span class="id">//;</span> <span class="id">exact/xB/ltW</span>.<br/>
<span class="id">set</span> <span class="id">g</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="n:152" class="id"><span id="n:151" class="id"><span id="n:150" class="id"><a name="n:152" class="">n</a></span></span></span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#n:150">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">x</span>)%<span class="id">R</span> <span class="gallina-kwd">then</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">f</span> <span class="id">x</span>) <span class="gallina-kwd">else</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:150">n</a></span>).<br/>
<span class="id">have</span> <span class="id">&lt;-</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">g</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id">l</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin_inj">EFin_inj;</a></span> <span class="id">rewrite</span> <span class="id">-ereal_sup_EFin//;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id">l</span>) <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">_</span> <span class="id">[m</span> <span class="id">_</span> <span class="id">&lt;-];</span> <span class="id">rewrite</span> <span class="id">/g</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[mx|xm]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.ltP">ltP</a></span> <span class="id">m</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_le">fine_le//</a></span> <span class="id">?f_fin_num//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub;</a></span> <span class="gallina-kwd">exists</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_le">fine_le//</a></span> <span class="id">?f_fin_num//;</span> <span class="id">first</span> <span class="id">exact/xB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub;</a></span> <span class="gallina-kwd">exists</span> <span class="id">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id">g</span> <span class="id">0</span>%<span class="id">R</span>)<span class="id">,</span> <span class="id">0</span>%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//;</a></span> <span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.eq_le">eq_le;</a></span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#le_ereal_sup">le_ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">/=</span> <span class="id">[_</span> <span class="id">[m</span> <span class="id">_]</span> <span class="id">&lt;-]</span> <span class="id">&lt;-</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/g;</span> <span class="id">have</span> <span class="id">[_|xm]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.ltP">ltP</a></span> <span class="id">m</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//</a></span> <span class="id">?f_fin_num//;</span> <span class="gallina-kwd">exists</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//</a></span> <span class="id">?f_fin_num//;</span> <span class="id">[exists</span> <span class="id">m|exact/xB]</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">_</span> <span class="id">[m</span> <span class="id">_]</span> <span class="id">&lt;-</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[mx|xm]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.ltP">ltP</a></span> <span class="id">m</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> (<span class="id">ndf</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">mx</span>)))<span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">f</span> <span class="id">x</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//</a></span> <span class="id">f_fin_num</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">m</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id">/g</span> <span class="id">mx</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">f</span> <span class="id">m</span>)) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">m</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id">/g</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.ltNge">ltNge</a></span> <span class="id">xm</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">?f_fin_num//;</span> <span class="id">exact:</span> <span class="id">xB</span>.<br/>
<span class="id">suff:</span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:153">x</a></span> @<span class="id">[x</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#423d7544dbaa8438f698fe5437adc41f">+oo</a></span>%<span class="id">R]</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">g</span>).<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_trans">cvg_trans;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#near_eq_cvg">near_eq_cvg;</a></span> <span class="id">near=&gt;</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/g</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifF">ifF//;</a></span> <span class="id">apply/negbTE;</span> <span class="id">rewrite</span> <span class="id">-leNgt</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">n;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_pinfty_ge">nbhs_pinfty_ge;</a></span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.num_real">num_real</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#nondecreasing_cvgr">nondecreasing_cvgr</a></span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn;</span> <span class="id">rewrite</span> <span class="id">/g</span> <span class="id">/=;</span> <span class="id">have</span> <span class="id">[_|xm]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.ltP">ltP</a></span> <span class="id">m</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">have</span> <span class="id">[nx|nx]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.ltP">ltP</a></span> <span class="id">n</span> <span class="id">x;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_le">fine_le//</a></span> <span class="id">f_fin_num</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_le">fine_le//</a></span> <span class="id">?f_fin_num//;</span> <span class="id">[exact:</span> <span class="id">xB|exact:</span> <span class="id">ndf]</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.ltNge">ltNge</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">xm</span> <span class="id">mn</span>)<span class="id">//=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_le">fine_le</a></span> <span class="id">?f_fin_num//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">exact:</span> <span class="id">xB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id">xB;</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">xm</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">exact/ndf</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id">l</span>) <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">_</span> <span class="id">[m</span> <span class="id">_</span> <span class="id">&lt;-];</span> <span class="id">rewrite</span> <span class="id">/g</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-lee_fin</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">l_fin_num</span>)<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[_|xm]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.ltP">ltP</a></span> <span class="id">m</span> <span class="id">x;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//</a></span> <span class="id">?f_fin_num//;</span> <span class="id">eexists</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//</a></span> <span class="id">?f_fin_num//;</span> <span class="id">[exists</span> <span class="id">m|exact/xB]</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="nondecreasing_is_cvge" class="id"><a name="nondecreasing_is_cvge" class="">nondecreasing_is_cvge</a></span> (<span id="f:154" class="id"><a name="f:154" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#:::'nondecreasing_fun'_x">nondecreasing_fun</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:154">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#cvg">cvg</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:154">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:155">r</a></span> @<span class="id">[r</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#423d7544dbaa8438f698fe5437adc41f">+oo]</a></span>))%<span class="id">R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">u_nd</span> <span class="id">u_ub;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvgP">cvgP;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#nondecreasing_cvge">nondecreasing_cvge</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="nondecreasing_at_right_cvge" class="id"><a name="nondecreasing_at_right_cvge" class="">nondecreasing_at_right_cvge</a></span> (<span id="f:157" class="id"><a name="f:157" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span>) <span id="a:158" class="id"><a name="a:158" class="">a</a></span> (<span id="b:159" class="id"><a name="b:159" class="">b</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#itv_bound">itv_bound</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BRight">BRight</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:158">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POSyntax.::order_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:159">b</a></span>)%<span class="id">O</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#Interval">Interval</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BRight">BRight</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:158">a</a></span>) <span class="id"><a href="mathcomp.analysis.realfun.html#b:159">b</a></span> &amp;<span class="id">,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#:::'nondecreasing_fun'_x">nondecreasing_fun</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:157">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#f:157">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:160">x</a></span> @<span class="id">[x</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:158">a</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#02fa8d8231c69eb0b6a7453874088890">^'+]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf">ereal_inf</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:157">f</a></span> @<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#Interval">Interval</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BRight">BRight</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:158">a</a></span>) <span class="id"><a href="mathcomp.analysis.realfun.html#b:159">b]</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
<span class="id">move=&gt;</span> <span class="id">ab</span> <span class="id">ndf;</span> <span class="id">set</span> <span class="id">S</span> <span class="id">:=</span> (<span class="id">X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf">ereal_inf</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#X:161">X</a></span>)<span class="id">;</span> <span class="id">set</span> <span class="id">l</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf">ereal_inf</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#S">S</a></span>.<br/>
<span class="id">have</span> <span class="id">[Snoo|Snoo]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="id">S</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span>).<br/>
&nbsp;&nbsp;<span class="id">case:</span> (<span class="id">Snoo</span>) <span class="id">=&gt;</span> <span class="id">N/=</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">-[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> &amp;&amp; <span class="id"><a href="mathcomp.analysis.realfun.html#X:162">X]/</a></span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BLeft">BLeft</a></span> <span class="id">N</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POSyntax.::order_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">b</span>)%<span class="id">O</span> <span class="id">=&gt;</span> <span class="id">/andP[aN</span> <span class="id">Nb]</span> <span class="id">fNpoo</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">Nf</span> <span class="id">n</span> <span class="id">:</span> (<span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#2204180cdceca384f1146e14bfad202d">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:163">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#2204180cdceca384f1146e14bfad202d">&lt;=</a></span> <span class="id">N</span>)%<span class="id">R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:163">n</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">/andP[an</span> <span class="id">nN];</span> <span class="id">apply/eqP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.eq_le">eq_le</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leNye">leNye</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id">-fNpoo</span> <span class="id">ndf//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">-[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> &amp;&amp; <span class="id"><a href="mathcomp.analysis.realfun.html#X:164">X]/</a></span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BLeft">BLeft</a></span> <span class="id">n</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POSyntax.::order_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">b</span>)%<span class="id">O</span> <span class="id">an</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> <span class="id">Nb</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">-[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> &amp;&amp; <span class="id"><a href="mathcomp.analysis.realfun.html#X:165">X]/</a></span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BLeft">BLeft</a></span> <span class="id">N</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POSyntax.::order_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">b</span>)%<span class="id">O</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">an</span> <span class="id">nN</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id">l</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/l</span> <span class="id">/ereal_inf</span> <span class="id">/ereal_sup</span> <span class="id"><a href="mathcomp.analysis.ereal.html#supremum_pinfty">supremum_pinfty//=;</a></span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_near_cst">cvg_near_cst;</a></span> <span class="gallina-kwd">exists</span> (<span class="id">N</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">a</span>)%<span class="id">R</span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.subr_gt0">subr_gt0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">/=</span> <span class="id">+</span> <span class="id">ay;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr0_norm">ltr0_norm</a></span> <span class="id">?subr_lt0//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprB">opprB</a></span> <span class="id">=&gt;</span> <span class="id">ayNa</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">Nf//</span> <span class="id">ay/=</span> <span class="id">-</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subrK">subrK</a></span> <span class="id">a</span> <span class="id">y</span>) <span class="id">-lerBrDr</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
<span class="id">have</span> <span class="id">[lnoo|lnoo]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> <span class="id">l</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">lnoo;</span> <span class="id">apply/cvgeNyPle</span> <span class="id">=&gt;</span> <span class="id">M</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">/ereal_inf_lt[x</span> <span class="id">[y]]/=</span> <span class="id">:</span> <span class="id">M</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&gt;'_x">&gt;</a></span> <span class="id">l</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">lnoo</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltNyr">ltNyr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">-[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> &amp;&amp; <span class="id"><a href="mathcomp.analysis.realfun.html#X:166">X]/</a></span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BLeft">BLeft</a></span> <span class="id">y</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POSyntax.::order_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">b</span>)%<span class="id">O/=</span> <span class="id">=&gt;</span> <span class="id">/andP[ay</span> <span class="id">yb]</span> <span class="id">&lt;-</span> <span class="id">fyM</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">y</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">a</span>)%<span class="id">R</span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.subr_gt0">subr_gt0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">z</span> <span class="id">/=</span> <span class="id">+</span> <span class="id">az</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr0_norm">ltr0_norm</a></span> <span class="id">?subr_lt0//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprB">opprB</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrBlDr">ltrBlDr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subrK">subrK</a></span> <span class="id">=&gt;</span> <span class="id">zy</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">fyM</span>))<span class="id">//</span> <span class="id">ndf</span> <span class="id">?ltW//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">-[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> &amp;&amp; <span class="id"><a href="mathcomp.analysis.realfun.html#X:167">X]/</a></span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BLeft">BLeft</a></span> <span class="id">z</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POSyntax.::order_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">b</span>)%<span class="id">O/=</span> <span class="id">az/=</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_trans">lt_trans</a></span> <span class="id">_</span> <span class="id">yb</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">-[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> &amp;&amp; <span class="id"><a href="mathcomp.analysis.realfun.html#X:168">X]/</a></span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BLeft">BLeft</a></span> <span class="id">y</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POSyntax.::order_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">b</span>)%<span class="id">O/=</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_trans">lt_trans</a></span> <span class="id">az</span> <span class="id">zy</span>).<br/>
<span class="id">have</span> <span class="id">[fpoo|fpoo]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#8c08d4203604dbed63e7afa9b689d858">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#Interval">Interval</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BRight">BRight</a></span> <span class="id">a</span>) <span class="id">b,</span> <span class="gallina-kwd">forall</span> <span id="x:169" class="id"><a name="x:169" class="">x,</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:169">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo}</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">{}/l</span> <span class="gallina-kwd">in</span> <span class="id">lnoo</span> <span class="id">*;</span> <span class="id">rewrite</span> <span class="id">{}/S</span> <span class="gallina-kwd">in</span> <span class="id">Snoo</span> <span class="id">lnoo</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf">ereal_inf</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#X:170">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo]</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf1">ereal_inf1;</a></span> <span class="id">apply/cvgeyPgey;</span> <span class="id">near=&gt;</span> <span class="id">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> <span class="id">b</span> <span class="id">ab</span> <span class="id">{ndf</span> <span class="id">lnoo</span> <span class="id">Snoo}</span> <span class="id">fpoo</span> <span class="id">=&gt;</span> <span class="id">[[|]</span> <span class="id">b|[//|]]</span> <span class="id">ab</span> <span class="id">fpoo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">near=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">fpoo</span> <span class="id">?leey//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/andP;</span> <span class="id">split;</span> <span class="id">near:</span> <span class="id">x;</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_gt">nbhs_right_gt|exact:</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_lt">nbhs_right_lt]</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">near=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">fpoo</span> <span class="id">?leey//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/andP;</span> <span class="id">split;</span> <span class="id">near:</span> <span class="id">x;</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_gt">nbhs_right_gt|exact:</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_le">nbhs_right_le]</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">near=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">fpoo</span> <span class="id">?leey//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">x;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_gt">nbhs_right_gt</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[_</span> <span class="id">[n</span> <span class="id">_]</span> <span class="id">&lt;-</span> <span class="id">/[!fpoo]//|_</span> <span class="id">-&gt;]</span>.<br/>
&nbsp;&nbsp;<span class="id">move:</span> <span class="id">b</span> <span class="id">ab</span> <span class="id">ndf</span> <span class="id">lnoo</span> <span class="id">Snoo</span> <span class="id">fpoo</span> <span class="id">=&gt;</span> <span class="id">[[|]</span> <span class="id">s|[//|]]</span> <span class="id">ab</span> <span class="id">ndf</span> <span class="id">lnoo</span> <span class="id">Snoo</span> <span class="id">fpoo</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> ((<span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">s</span>) <span class="id">/</span> <span class="id">2</span>)%<span class="id">R;</span> <span class="id">rewrite</span> <span class="id">?fpoo//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">!midf_lt</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> ((<span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">s</span>) <span class="id">/</span> <span class="id">2</span>)%<span class="id">R;</span> <span class="id">rewrite</span> <span class="id">?fpoo//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">!</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.midf_lt">midf_lt,</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.midf_le">midf_le</a></span>)<span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">1</span>)%<span class="id">R;</span> <span class="id">rewrite</span> <span class="id">?fpoo//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrDl">ltrDl</a></span>.<br/>
<span class="id">have</span> <span class="id">[/ereal_inf_pinfty</span> <span class="id">lpoo|lpoo]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> <span class="id">l</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">exfalso;</span> <span class="id">apply/fpoo</span> <span class="id">=&gt;</span> <span class="id">r</span> <span class="id">rab;</span> <span class="id">rewrite</span> (<span class="id">lpoo</span> (<span class="id">f</span> <span class="id">r</span>))<span class="id">//;</span> <span class="gallina-kwd">exists</span> <span class="id">r</span>.<br/>
<span class="id">have</span> <span class="id">l_fin_num</span> <span class="id">:</span> <span class="id">l</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numE">fin_numE</a></span> <span class="id">lpoo</span> <span class="id">lnoo</span>.<br/>
<span class="id">set</span> <span class="id">A</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="r:173" class="id"><span id="r:172" class="id"><span id="r:171" class="id"><a name="r:173" class="">r</a></span></span></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681">[/\</a></span> (<span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:171">r</a></span>)%<span class="id">R,</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BLeft">BLeft</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:171">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POSyntax.::order_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">b</span>)%<span class="id">O</span> &amp; <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:171">r</a></span> <span class="id">!=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo]]</a></span>.<br/>
<span class="id">have</span> <span class="id">f_fin_num</span> <span class="id">r</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:174">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">A</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:174">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">/A/=</span> <span class="id">=&gt;</span> <span class="id">-[ar</span> <span class="id">rb]</span> <span class="id">frnoo;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numE">fin_numE</a></span> <span class="id">frnoo</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contra_notN">contra_notN</a></span> <span class="id">Snoo</span> <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">frpoo</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">r</span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">-[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> &amp;&amp; <span class="id"><a href="mathcomp.analysis.realfun.html#X:175">X]/</a></span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BLeft">BLeft</a></span> <span class="id">r</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POSyntax.::order_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">b</span>)%<span class="id">O</span> <span class="id">ar</span> <span class="id">rb</span>.<br/>
<span class="id">have</span> <span class="id">[x</span> <span class="id">[ax</span> <span class="id">xb</span> <span class="id">fxpoo]]</span> <span class="id">:</span> <span class="id">A</span> <span class="id">!=set0</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/set0P/negP</span> <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">A0;</span> <span class="id">apply/fpoo</span> <span class="id">=&gt;</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">-[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> &amp;&amp; <span class="id"><a href="mathcomp.analysis.realfun.html#X:176">X]/</a></span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BLeft">BLeft</a></span> <span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POSyntax.::order_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">b</span>)%<span class="id">O</span> <span class="id">=&gt;</span> <span class="id">/andP[ax</span> <span class="id">xb]</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/eqP/negPn/negP</span> <span class="id">=&gt;</span> <span class="id">unnoo</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move/seteqP</span> <span class="id">:</span> <span class="id">A0</span> <span class="id">=&gt;</span> <span class="id">[+</span> <span class="id">_]</span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">x</span>)<span class="id">;</span> <span class="id">apply;</span> <span class="id">rewrite</span> <span class="id">/A/=</span> <span class="id">ax</span>.<br/>
<span class="id">have</span> <span class="id">axA</span> <span class="id">r</span> <span class="id">:</span> (<span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#2204180cdceca384f1146e14bfad202d">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:177">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#2204180cdceca384f1146e14bfad202d">&lt;=</a></span> <span class="id">x</span>)%<span class="id">R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:177">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">/andP[ar</span> <span class="id">rx];</span> <span class="id">move:</span> (<span class="id">rx</span>) <span class="id">=&gt;</span> <span class="id">/ndf</span> <span class="id">rafx;</span> <span class="id">rewrite</span> <span class="id">/A</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE;</a></span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> <span class="id">xb</span>).<br/>
&nbsp;&nbsp;<span class="id">apply/negP</span> <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">urnoo</span>.<br/>
&nbsp;&nbsp;<span class="id">move:</span> <span class="id">rafx;</span> <span class="id">rewrite</span> <span class="id">urnoo</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">-[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> &amp;&amp; <span class="id"><a href="mathcomp.analysis.realfun.html#X:178">X]/</a></span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BLeft">BLeft</a></span> <span class="id">r</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POSyntax.::order_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">b</span>)%<span class="id">O</span> <span class="id">ar/=</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">-[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> &amp;&amp; <span class="id"><a href="mathcomp.analysis.realfun.html#X:179">X]/</a></span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BLeft">BLeft</a></span> <span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POSyntax.::order_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">b</span>)%<span class="id">O</span> <span class="id">ax/=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leye_eq">leye_eq</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id">fxpoo</span>) <span class="id">-falseE;</span> <span class="id">apply;</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> <span class="id">xb</span>).<br/>
<span class="id">rewrite</span> <span class="id">-</span>(@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">_</span> <span class="id">l</span>)<span class="id">//;</span> <span class="id">apply/fine_cvgP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">a</span>)%<span class="id">R</span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.subr_gt0">subr_gt0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">z</span> <span class="id">/=</span> <span class="id">+</span> <span class="id">az</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr0_norm">ltr0_norm</a></span> <span class="id">?subr_lt0//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprB">opprB</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrBlDr">ltrBlDr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subrK">subrK//</a></span> <span class="id">=&gt;</span> <span class="id">zx</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">f_fin_num//</span> <span class="id">axA//</span> <span class="id">az/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
<span class="id">set</span> <span class="id">g</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="n:182" class="id"><span id="n:181" class="id"><span id="n:180" class="id"><a name="n:182" class="">n</a></span></span></span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> (<span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:180">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x_'&lt;'_x">&lt;</a></span> <span class="id">x</span>)%<span class="id">R</span> <span class="gallina-kwd">then</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:180">n</a></span>) <span class="gallina-kwd">else</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">f</span> <span class="id">x</span>).<br/>
<span class="id">have</span> <span class="id">&lt;-</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">[set</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:183">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">|</a></span> <span id="x:183" class="id"><a name="x:183" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#Interval">Interval</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BRight">BRight</a></span> <span class="id">a</span>) <span class="id">b]]</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id">l</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin_inj">EFin_inj;</a></span> <span class="id">rewrite</span> <span class="id">-ereal_inf_EFin//;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id">l</span>) <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">_</span> <span class="id">[m</span> <span class="id">_</span> <span class="id">&lt;-];</span> <span class="id">rewrite</span> <span class="id">/g</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">[/andP[am</span> <span class="id">mx]|]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_le">fine_le//</a></span> <span class="id">?f_fin_num//;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">axA//</span> <span class="id">am</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">mx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf_lb">ereal_inf_lb;</a></span> <span class="gallina-kwd">exists</span> <span class="id">m</span> <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">-[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> &amp;&amp; <span class="id"><a href="mathcomp.analysis.realfun.html#X:184">X]/</a></span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BLeft">BLeft</a></span> <span class="id">m</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POSyntax.::order_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">b</span>)%<span class="id">O</span> <span class="id">am/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> <span class="id">xb</span>) <span class="id">?ltW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span> <span class="id">-!leNgt</span> <span class="id">=&gt;</span> <span class="id">/orP[ma|xm]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_le">fine_le//</a></span> <span class="id">?f_fin_num</span> <span class="id">?inE//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf_lb">ereal_inf_lb;</a></span> <span class="gallina-kwd">exists</span> <span class="id">x</span> <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">-[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> &amp;&amp; <span class="id"><a href="mathcomp.analysis.realfun.html#X:185">X]/</a></span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BLeft">BLeft</a></span> <span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POSyntax.::order_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">b</span>)%<span class="id">O</span> <span class="id">ax</span> <span class="id">xb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_le">fine_le//</a></span> <span class="id">?f_fin_num</span> <span class="id">?inE//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf_lb">ereal_inf_lb;</a></span> <span class="gallina-kwd">exists</span> <span class="id">x</span> <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">-[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> &amp;&amp; <span class="id"><a href="mathcomp.analysis.realfun.html#X:186">X]/</a></span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BLeft">BLeft</a></span> <span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POSyntax.::order_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">b</span>)%<span class="id">O</span> <span class="id">ax</span> <span class="id">xb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id">{}/l</span> <span class="gallina-kwd">in</span> <span class="id">lnoo</span> <span class="id">lpoo</span> <span class="id">l_fin_num</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">{}/S</span> <span class="gallina-kwd">in</span> <span class="id">Snoo</span> <span class="id">lnoo</span> <span class="id">lpoo</span> <span class="id">l_fin_num</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">{}/A</span> <span class="gallina-kwd">in</span> <span class="id">f_fin_num</span> <span class="id">axA</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> <span class="id">b</span> <span class="id">ab</span> <span class="id">{xb</span> <span class="id">ndf</span> <span class="id">lnoo</span> <span class="id">lpoo</span> <span class="id">l_fin_num</span> <span class="id">f_fin_num</span> <span class="id">Snoo</span> <span class="id">fpoo</span> <span class="id">axA}</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">[[|]</span> <span class="id">s|[//|]]</span> <span class="id">ab</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">exists</span> (<span class="id">g</span> ((<span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">s</span>) <span class="id">/</span> <span class="id">2</span>))%<span class="id">R,</span> ((<span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">s</span>) <span class="id">/</span> <span class="id">2</span>)%<span class="id">R</span> <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">!midf_lt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">exists</span> (<span class="id">g</span> ((<span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">s</span>) <span class="id">/</span> <span class="id">2</span>))%<span class="id">R,</span> ((<span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">s</span>) <span class="id">/</span> <span class="id">2</span>)%<span class="id">R</span> <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">!</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.midf_lt">midf_lt,</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.midf_le">midf_le</a></span>)<span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">exists</span> (<span class="id">g</span> (<span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">1</span>)%<span class="id">R</span>)<span class="id">,</span> (<span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">1</span>)%<span class="id">R</span> <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrDl">ltrDl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//;</a></span> <span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.eq_le">eq_le;</a></span> <span class="id">apply/andP;</span> <span class="id">split;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#le_ereal_inf">le_ereal_inf</a></span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">/=</span> <span class="id">[_</span> <span class="id">[m</span> <span class="id">_]</span> <span class="id">&lt;-]</span> <span class="id">&lt;-</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/g;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">[/andP[am</span> <span class="id">mx]|]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//</a></span> <span class="id">?f_fin_num//;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">axA//</span> <span class="id">am</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">m</span> <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">-[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> &amp;&amp; <span class="id"><a href="mathcomp.analysis.realfun.html#X:187">X]/</a></span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BLeft">BLeft</a></span> <span class="id">m</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POSyntax.::order_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">b</span>)%<span class="id">O</span> <span class="id">am/=</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_trans">lt_trans</a></span> <span class="id">_</span> <span class="id">xb</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span> <span class="id">-!leNgt</span> <span class="id">=&gt;</span> <span class="id">/orP[ma|xm]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">f_fin_num</span> <span class="id">?inE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">x</span> <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">-[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> &amp;&amp; <span class="id"><a href="mathcomp.analysis.realfun.html#X:188">X]/</a></span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BLeft">BLeft</a></span> <span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POSyntax.::order_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">b</span>)%<span class="id">O</span> <span class="id">ax</span> <span class="id">xb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">x</span> <span class="id">=&gt;</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">-[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> &amp;&amp; <span class="id"><a href="mathcomp.analysis.realfun.html#X:189">X]/</a></span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BLeft">BLeft</a></span> <span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POSyntax.::order_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">b</span>)%<span class="id">O</span> <span class="id">ax</span> <span class="id">xb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//</a></span> <span class="id">f_fin_num</span> <span class="id">?inE</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#lb_ereal_inf">lb_ereal_inf</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">y</span> <span class="id">[m]</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">-[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> &amp;&amp; <span class="id"><a href="mathcomp.analysis.realfun.html#X:190">X]/</a></span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BLeft">BLeft</a></span> <span class="id">m</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POSyntax.::order_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">b</span>)%<span class="id">O</span> <span class="id">=&gt;</span> <span class="id">/andP[am</span> <span class="id">mb]</span> <span class="id">&lt;-{y}</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[mx|xm]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.ltP">ltP</a></span> <span class="id">m</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf_lb">ereal_inf_lb</a></span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">f</span> <span class="id">m</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//</a></span> <span class="id">f_fin_num//</span> <span class="id">axA//</span> <span class="id">am</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">mx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">m;</span> <span class="id">[rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">am|rewrite</span> <span class="id">/g</span> <span class="id">am</span> <span class="id">mx]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id">f</span> <span class="id">x</span>))<span class="id">//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id">ndf</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv//=</a></span> <span class="id">?ax</span> <span class="id">?am</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf_lb">ereal_inf_lb</a></span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">f</span> <span class="id">x</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//</a></span> <span class="id">f_fin_num</span> <span class="id">?inE</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">x;</span> <span class="id">[rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">ax|rewrite</span> <span class="id">/g</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltxx">ltxx</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbF">andbF]</a></span>.<br/>
<span class="id">suff:</span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:191">x</a></span> @<span class="id">[x</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id">a^'+]</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">[set</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:192">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">|</a></span> <span id="x:192" class="id"><a name="x:192" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#Interval">Interval</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BRight">BRight</a></span> <span class="id">a</span>) <span class="id">b]]</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_trans">cvg_trans;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#near_eq_cvg">near_eq_cvg;</a></span> <span class="id">near=&gt;</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/g</span> <span class="id">/=;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">[//|]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span> <span class="id">-!leNgt</span> <span class="id">=&gt;</span> <span class="id">/orP[na|xn]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> <span class="id">na;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.leNgt">leNgt</a></span> <span class="id">=&gt;</span> <span class="id">/negP;</span> <span class="id">apply</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">n;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_gt">nbhs_right_gt</a></span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span> <span class="id">nx</span> <span class="id">:</span> (<span class="id">n</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">x</span>)%<span class="id">R</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.ltNge">ltNge</a></span> <span class="id">xn</span> <span class="gallina-kwd">in</span> <span class="id">nx</span>.<br/>
&nbsp;&nbsp;<span class="id">near:</span> <span class="id">n;</span> <span class="gallina-kwd">exists</span> ((<span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">a</span>) <span class="id">/</span> <span class="id">2</span>)%<span class="id">R;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.divr_gt0">divr_gt0//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.subr_gt0">subr_gt0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">/=</span> <span class="id">/[swap]</span> <span class="id">ay</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr0_norm">ltr0_norm//</a></span> <span class="id">?subr_lt0//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprB">opprB</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrBlDr">ltrBlDr</a></span> <span class="id">=&gt;</span> <span class="id">/lt_le_trans;</span> <span class="id">apply</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-lerBrDr</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_pdivrMr">ler_pdivrMr//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_pMr">ler_pMr//</a></span> <span class="id">?ler1n//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.subr_gt0">subr_gt0</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#nondecreasing_at_right_cvgr">nondecreasing_at_right_cvgr</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">m</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id">!in_itv/=</span> <span class="id">-[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> &amp;&amp; <span class="id"><a href="mathcomp.analysis.realfun.html#X:193">X]/</a></span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BLeft">BLeft</a></span> <span class="id">m</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POSyntax.::order_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">b</span>)%<span class="id">O</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_</span> &amp;&amp; <span class="id"><a href="mathcomp.analysis.realfun.html#X:194">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_]/</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BLeft">BLeft</a></span> <span class="id">n</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POSyntax.::order_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">b</span>)%<span class="id">O</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">/andP[am</span> <span class="id">mb]</span> <span class="id">/andP[an</span> <span class="id">nb]</span> <span class="id">mn</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/g</span> <span class="id">/=;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">[/andP[_</span> <span class="id">mx]|]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">am</span> <span class="id">mn</span>) <span class="id">/=;</span> <span class="id">have</span> <span class="id">[nx|nn0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.ltP">ltP</a></span> <span class="id">n</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_le">fine_le</a></span> <span class="id">?f_fin_num</span> <span class="id">?ndf//;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">axA//</span> <span class="id">am</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">mx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">axA//</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">nx</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">am</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">am</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">an</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_le">fine_le</a></span> <span class="id">?f_fin_num//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">axA//</span> <span class="id">am</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">mx</span> <span class="id">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id">ndf//;</span> <span class="id">last</span> <span class="id">exact/ltW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!in_itv/=</span> <span class="id">am</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!in_itv/=</span> <span class="id">ax</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span> <span class="id">-!leNgt</span> <span class="id">=&gt;</span> <span class="id">/orP[|xm];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.leNgt">leNgt</a></span> <span class="id">am</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">am</span> <span class="id">mn</span>)<span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.ltNge">ltNge</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">xm</span> <span class="id">mn</span>).<br/>
<span class="id">-</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id">l</span>) <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">_</span> <span class="id">[m</span> <span class="id">_</span> <span class="id">&lt;-];</span> <span class="id">rewrite</span> <span class="id">/g</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-lee_fin</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">l_fin_num</span>)<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf_lb">ereal_inf_lb</a></span>.<br/>
&nbsp;&nbsp;<span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">[/andP[am</span> <span class="id">mn0]|]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">f_fin_num//</span> <span class="id">axA//</span> <span class="id">am</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">mn0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">m</span> <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">-[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> &amp;&amp; <span class="id"><a href="mathcomp.analysis.realfun.html#X:195">X]/</a></span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BLeft">BLeft</a></span> <span class="id">m</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POSyntax.::order_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">b</span>)%<span class="id">O</span> <span class="id">am</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_trans">lt_trans</a></span> <span class="id">_</span> <span class="id">xb</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span> <span class="id">-!leNgt</span> <span class="id">=&gt;</span> <span class="id">/orP[ma|xm]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//;</a></span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">x</span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">ax</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">f_fin_num</span> <span class="id">?inE</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//</a></span> <span class="id">?f_fin_num</span> <span class="id">?inE//;</span> <span class="gallina-kwd">exists</span> <span class="id">x</span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">ax</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="nondecreasing_at_right_is_cvge" class="id"><a name="nondecreasing_at_right_is_cvge" class="">nondecreasing_at_right_is_cvge</a></span> (<span id="f:196" class="id"><a name="f:196" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span>) (<span id="a:197" class="id"><a name="a:197" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.topology.html#be9d045413b70f39126ce7af3de2a77f">\forall</a></span> <span id="x:198" class="id"><a name="x:198" class="">x</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#be9d045413b70f39126ce7af3de2a77f">\near</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:197">a^'+,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#ebff9f8c4fe58806999ff1c12ccee445">`]a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:198">x[</a></span> &amp;<span class="id">,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#:::'nondecreasing_fun'_x">nondecreasing_fun</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:196">f}</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#cvg">cvg</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:196">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:199">x</a></span> @<span class="id">[x</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:197">a</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#02fa8d8231c69eb0b6a7453874088890">^'+]</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
<span class="id">move=&gt;</span> <span class="id">ndf;</span> <span class="id">apply/cvg_ex;</span> <span class="id">near</span> <span class="id">a^'+</span> <span class="id">=&gt;</span> <span class="id">b</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">eexists;</span> <span class="id">apply:</span> (@<span class="id"><a href="mathcomp.analysis.realfun.html#nondecreasing_at_right_cvge">nondecreasing_at_right_cvge</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BLeft">BLeft</a></span> <span class="id">b</span>))<span class="id">;</span><br/>
&nbsp;&nbsp;<span class="id">[rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#bnd_simp">bnd_simp|near:</a></span> <span class="id">b</span>..<span class="id">]</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="nonincreasing_at_right_cvge" class="id"><a name="nonincreasing_at_right_cvge" class="">nonincreasing_at_right_cvge</a></span> (<span id="f:201" class="id"><a name="f:201" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span>) <span id="a:202" class="id"><a name="a:202" class="">a</a></span> (<span id="b:203" class="id"><a name="b:203" class="">b</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#itv_bound">itv_bound</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BRight">BRight</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:202">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POSyntax.::order_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:203">b</a></span>)%<span class="id">O</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#Interval">Interval</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BRight">BRight</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:202">a</a></span>) <span class="id"><a href="mathcomp.analysis.realfun.html#b:203">b</a></span> &amp;<span class="id">,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#:::'nonincreasing_fun'_x">nonincreasing_fun</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:201">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#f:201">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:204">x</a></span> @<span class="id">[x</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:202">a</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#02fa8d8231c69eb0b6a7453874088890">^'+]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:201">f</a></span> @<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#Interval">Interval</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BRight">BRight</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:202">a</a></span>) <span class="id"><a href="mathcomp.analysis.realfun.html#b:203">b]</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
<span class="id">move=&gt;</span> <span class="id">ab</span> <span class="id">nif;</span> <span class="id">have</span> <span class="id">ndNf</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#Interval">Interval</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BRight">BRight</a></span> <span class="id">a</span>) <span class="id">b</span> &amp;<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#7f2550512fc22f98c0de9a527bb1f752">{homo</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#bf80dd271000fa448e03c4c14365c369">\-</a></span> <span class="id">f</span>) <span class="id">:</span> <span id="n:207" class="id"><span id="n:205" class="id"><a name="n:207" class="">n</a></span></span> <span id="m:208" class="id"><span id="m:206" class="id"><a name="m:208" class="">m</a></span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#7f2550512fc22f98c0de9a527bb1f752">/</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#n:205">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#m:206">m</a></span>)%<span class="id">R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#7f2550512fc22f98c0de9a527bb1f752">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:207">n</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#m:208">m}}</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r</span> <span class="id">s</span> <span class="id">rab</span> <span class="id">sab</span> <span class="id">/nif;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leeN2">leeN2;</a></span> <span class="id">exact</span>.<br/>
<span class="id">have</span> <span class="id">/cvgeN</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#nondecreasing_at_right_cvge">nondecreasing_at_right_cvge</a></span> <span class="id">ab</span> <span class="id">ndNf</span>.<br/>
<span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span>.<br/>
<span class="id">set</span> <span class="id">lhs</span> <span class="id">:=</span> (<span class="id">X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#X:209">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_</span>)<span class="id">;</span> <span class="id">set</span> <span class="id">rhs</span> <span class="id">:=</span> (<span class="id">X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#X:210">X</a></span>).<br/>
<span class="id">suff</span> <span class="id">:</span> <span class="id">lhs</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">rhs</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">-&gt;</span>.<br/>
<span class="id">rewrite</span> <span class="id">{}/rhs</span> <span class="id">{}/lhs;</span> <span class="id">rewrite</span> <span class="id">/ereal_inf</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK;</a></span> <span class="id">congr</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#image_comp">image_comp/=;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eq_imagel">eq_imagel</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">_</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="nonincreasing_at_right_is_cvge" class="id"><a name="nonincreasing_at_right_is_cvge" class="">nonincreasing_at_right_is_cvge</a></span> (<span id="f:211" class="id"><a name="f:211" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span>) <span id="a:212" class="id"><a name="a:212" class="">a</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.topology.html#be9d045413b70f39126ce7af3de2a77f">\forall</a></span> <span id="x:213" class="id"><a name="x:213" class="">x</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#be9d045413b70f39126ce7af3de2a77f">\near</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:212">a^'+,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#ebff9f8c4fe58806999ff1c12ccee445">`]a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:213">x[</a></span> &amp;<span class="id">,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#:::'nonincreasing_fun'_x">nonincreasing_fun</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:211">f}</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#cvg">cvg</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:211">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:214">x</a></span> @<span class="id">[x</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:212">a</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#02fa8d8231c69eb0b6a7453874088890">^'+]</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
<span class="id">move=&gt;</span> <span class="id">nif;</span> <span class="id">apply/cvg_ex;</span> <span class="id">near</span> <span class="id">a^'+</span> <span class="id">=&gt;</span> <span class="id">b</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">eexists;</span> <span class="id">apply:</span> (@<span class="id"><a href="mathcomp.analysis.realfun.html#nonincreasing_at_right_cvge">nonincreasing_at_right_cvge</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BLeft">BLeft</a></span> <span class="id">b</span>))<span class="id">;</span><br/>
&nbsp;&nbsp;<span class="id">[rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#bnd_simp">bnd_simp|near:</a></span> <span class="id">b</span>..<span class="id">]</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal">fun_cvg_ereal</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg">fun_cvg</a></span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.realfun.html#nondecreasing_at_right_cvge">nondecreasing_at_right_cvge</a></span> <span class="id">{R</span> <span class="id">f</span> <span class="id">a}</span> <span class="id">b</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.realfun.html#nondecreasing_at_right_is_cvge">nondecreasing_at_right_is_cvge</a></span> <span class="id">{R</span> <span class="id">f</span> <span class="id">a}</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.realfun.html#nonincreasing_at_right_cvge">nonincreasing_at_right_cvge</a></span> <span class="id">{R</span> <span class="id">f</span> <span class="id">a}</span> <span class="id">b</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.realfun.html#nonincreasing_at_right_is_cvge">nonincreasing_at_right_is_cvge</a></span> <span class="id">{R</span> <span class="id">f</span> <span class="id">a}</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="lime_sup_inf" class="id"><a name="lime_sup_inf" class="">lime_sup_inf</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="lime_sup_inf.R" class="id"><a name="lime_sup_inf.R" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">f</span> <span class="id">g</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.R">R</a></span>) (<span class="id">a</span> <span class="id">r</span> <span class="id">s</span> <span class="id">l</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.R">R</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="lime_sup" class="id"><a name="lime_sup" class="">lime_sup</a></span> <span id="f:217" class="id"><a name="f:217" class="">f</a></span> <span id="a:218" class="id"><a name="a:218" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.R">R</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#limf_esup">limf_esup</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:217">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:218">a^'</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="lime_inf" class="id"><a name="lime_inf" class="">lime_inf</a></span> <span id="f:219" class="id"><a name="f:219" class="">f</a></span> <span id="a:220" class="id"><a name="a:220" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.R">R</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup">lime_sup</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#bf80dd271000fa448e03c4c14365c369">\-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:219">f</a></span>) <span class="id"><a href="mathcomp.analysis.realfun.html#a:220">a</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="lime_sup_inf.sup_ball" class="id"><a name="lime_sup_inf.sup_ball" class="">sup_ball</a></span> <span id="f:221" class="id"><a name="f:221" class="">f</a></span> <span id="a:222" class="id"><a name="a:222" class="">a</a></span> <span id="r:223" class="id"><a name="r:223" class="">r</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">[set</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:221">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:224">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">|</a></span> <span id="x:224" class="id"><a name="x:224" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:222">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:223">r</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#a493d7760e57e2fda3971f50b830b776">`\</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:222">a]</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="lime_sup_inf.sup_ball_le" class="id"><a name="lime_sup_inf.sup_ball_le" class="">sup_ball_le</a></span> <span id="f:225" class="id"><a name="f:225" class="">f</a></span> <span id="a:226" class="id"><a name="a:226" class="">a</a></span> <span id="r:227" class="id"><a name="r:227" class="">r</a></span> <span id="s:228" class="id"><a name="s:228" class="">s</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#r:227">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:228">s</a></span>)%<span class="id">R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.sup_ball">sup_ball</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:225">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:226">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:227">r</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.sup_ball">sup_ball</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:225">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:226">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:228">s</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
<span class="id">move=&gt;</span> <span class="id">rs;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">_</span> <span class="id">/=</span> <span class="id">[t</span> <span class="id">[rt</span> <span class="id">ta]</span> <span class="id">&lt;-]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> <span class="id">t</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#le_ball">le_ball</a></span> <span class="id">rt</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="lime_sup_inf.sup_ball_is_cvg" class="id"><a name="lime_sup_inf.sup_ball_is_cvg" class="">sup_ball_is_cvg</a></span> <span id="f:229" class="id"><a name="f:229" class="">f</a></span> <span id="a:230" class="id"><a name="a:230" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg">cvg</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.sup_ball">sup_ball</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:229">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:230">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#e:231">e</a></span> @<span class="id">[e</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id">0^'+]</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#nondecreasing_at_right_is_cvge">nondecreasing_at_right_is_cvge;</a></span> <span class="id">near=&gt;</span> <span class="id">e</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">y;</span> <span class="id">rewrite</span> <span class="id">!in_itv/=</span> <span class="id">=&gt;</span> <span class="id">/andP[x0</span> <span class="id">xe]</span> <span class="id">/andP[y0</span> <span class="id">ye]</span> <span class="id">/sup_ball_le</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="lime_sup_inf.inf_ball" class="id"><a name="lime_sup_inf.inf_ball" class="">inf_ball</a></span> <span id="f:233" class="id"><a name="f:233" class="">f</a></span> <span id="a:234" class="id"><a name="a:234" class="">a</a></span> <span id="r:235" class="id"><a name="r:235" class="">r</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.sup_ball">sup_ball</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#bf80dd271000fa448e03c4c14365c369">\-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:233">f</a></span>) <span class="id"><a href="mathcomp.analysis.realfun.html#a:234">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:235">r</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="lime_sup_inf.inf_ballE" class="id"><a name="lime_sup_inf.inf_ballE" class="">inf_ballE</a></span> <span id="f:236" class="id"><a name="f:236" class="">f</a></span> <span id="a:237" class="id"><a name="a:237" class="">a</a></span> <span id="r:238" class="id"><a name="r:238" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.inf_ball">inf_ball</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:236">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:237">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:238">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf">ereal_inf</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">[set</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:236">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:239">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">|</a></span> <span id="x:239" class="id"><a name="x:239" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:237">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:238">r</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#a493d7760e57e2fda3971f50b830b776">`\</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:237">a]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/inf_ball</span> <span class="id">/ereal_inf;</span> <span class="id">congr</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id">_</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">/sup_ball</span> <span class="id">-image_comp</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="lime_sup_inf.inf_ball_le" class="id"><a name="lime_sup_inf.inf_ball_le" class="">inf_ball_le</a></span> <span id="f:240" class="id"><a name="f:240" class="">f</a></span> <span id="a:241" class="id"><a name="a:241" class="">a</a></span> <span id="r:242" class="id"><a name="r:242" class="">r</a></span> <span id="s:243" class="id"><a name="s:243" class="">s</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#s:243">s</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:242">r</a></span>)%<span class="id">R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.inf_ball">inf_ball</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:240">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:241">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:242">r</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.inf_ball">inf_ball</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:240">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:241">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:243">s</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">sr;</span> <span class="id">rewrite</span> <span class="id">/inf_ball</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leeNl">leeNl</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.sup_ball_le">sup_ball_le</a></span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="lime_sup_inf.inf_ball_is_cvg" class="id"><a name="lime_sup_inf.inf_ball_is_cvg" class="">inf_ball_is_cvg</a></span> <span id="f:244" class="id"><a name="f:244" class="">f</a></span> <span id="a:245" class="id"><a name="a:245" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg">cvg</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.inf_ball">inf_ball</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:244">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:245">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#e:246">e</a></span> @<span class="id">[e</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id">0^'+]</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#nonincreasing_at_right_is_cvge">nonincreasing_at_right_is_cvge;</a></span> <span class="id">near=&gt;</span> <span class="id">e</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">y;</span> <span class="id">rewrite</span> <span class="id">!in_itv/=</span> <span class="id">=&gt;</span> <span class="id">/andP[x0</span> <span class="id">xe]</span> <span class="id">/andP[y0</span> <span class="id">ye]</span> <span class="id">/inf_ball_le</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="lime_sup_inf.le_sup_ball" class="id"><a name="lime_sup_inf.le_sup_ball" class="">le_sup_ball</a></span> <span id="f:248" class="id"><a name="f:248" class="">f</a></span> <span id="g:249" class="id"><a name="g:249" class="">g</a></span> <span id="a:250" class="id"><a name="a:250" class="">a</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.topology.html#be9d045413b70f39126ce7af3de2a77f">\forall</a></span> <span id="r:251" class="id"><a name="r:251" class="">r</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#be9d045413b70f39126ce7af3de2a77f">\near</a></span> <span class="id">0^'+,</span> <span class="gallina-kwd">forall</span> <span id="y:252" class="id"><a name="y:252" class="">y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.R">R,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:252">y</a></span> <span class="id">!=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:250">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:250">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:251">r</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:252">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:248">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:252">y</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:249">g</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:252">y</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#be9d045413b70f39126ce7af3de2a77f">\forall</a></span> <span id="r:253" class="id"><a name="r:253" class="">r</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#be9d045413b70f39126ce7af3de2a77f">\near</a></span> <span class="id">0^'+,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.sup_ball">sup_ball</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:248">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:250">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:253">r</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.sup_ball">sup_ball</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:249">g</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:250">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:253">r</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
<span class="id">move=&gt;</span> <span class="id">[e/=</span> <span class="id">e0</span> <span class="id">fg]</span>.<br/>
<span class="id">near=&gt;</span> <span class="id">r;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">_</span> <span class="id">[s</span> <span class="id">[pas</span> <span class="id">/=</span> <span class="id">/eqP</span> <span class="id">ps]]</span> <span class="id">&lt;-</span>.<br/>
<span class="id">rewrite</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id">g</span> <span class="id">s</span>))<span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id">fg</span> <span class="id">r</span>)<span class="id">//=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.sub0r">sub0r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.normrN">normrN</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.gtr0_norm">gtr0_norm</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> <span class="id">s</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact/eqP</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="lime_sup_lim" class="id"><a name="lime_sup_lim" class="">lime_sup_lim</a></span> <span id="f:254" class="id"><a name="f:254" class="">f</a></span> <span id="a:255" class="id"><a name="a:255" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup">lime_sup</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:254">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:255">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.sup_ball">sup_ball</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:254">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:255">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#e:256">e</a></span> @<span class="id">[e</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id">0^'+]</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
<span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.eq_le">eq_le;</a></span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#lime_ge">lime_ge</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">near=&gt;</span> <span class="id">e;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf_lb">ereal_inf_lb</a></span> <span class="id">=&gt;</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id">a</span> <span class="id">e</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#a493d7760e57e2fda3971f50b830b776">`\</a></span> <span class="id">a</span>) <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#dnbhs_ball">dnbhs_ball</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#lb_ereal_inf">lb_ereal_inf</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">_</span> <span class="id">[A</span> <span class="id">[r</span> <span class="id">/=</span> <span class="id">r0</span> <span class="id">arA]</span> <span class="id">&lt;-]</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#lime_le">lime_le</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">near=&gt;</span> <span class="id">e</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#le_ereal_sup">le_ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">[s</span> <span class="id">[ase</span> <span class="id">/eqP</span> <span class="id">sa]</span> <span class="id">&lt;-</span> <span class="id">/=]</span>.<br/>
<span class="gallina-kwd">exists</span> <span class="id">s</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id">arA</span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">apply:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">ase</span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">e;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_le">nbhs_right_le</a></span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="lime_inf_lim" class="id"><a name="lime_inf_lim" class="">lime_inf_lim</a></span> <span id="f:257" class="id"><a name="f:257" class="">f</a></span> <span id="a:258" class="id"><a name="a:258" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_inf">lime_inf</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:257">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:258">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.inf_ball">inf_ball</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:257">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:258">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#e:259">e</a></span> @<span class="id">[e</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id">0^'+]</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
<span class="id">rewrite</span> <span class="id">/lime_inf</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_lim">lime_sup_lim</a></span> <span class="id">-limeN;</span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.sup_ball_is_cvg">sup_ball_is_cvg</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/sup_ball;</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">-image_comp</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="lime_supE" class="id"><a name="lime_supE" class="">lime_supE</a></span> <span id="f:260" class="id"><a name="f:260" class="">f</a></span> <span id="a:261" class="id"><a name="a:261" class="">a</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup">lime_sup</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:260">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:261">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf">ereal_inf</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">[set</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.sup_ball">sup_ball</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:260">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:261">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#e:262">e</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">|</a></span> <span id="e:262" class="id"><a name="e:262" class="">e</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eca7c03119ea7bbb2c5bd6c3655e6974">`]0,</a></span> <span class="id">+oo[</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">]</a></span>%<span class="id">R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_lim">lime_sup_lim;</a></span> <span class="id">apply/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#nondecreasing_at_right_cvge">nondecreasing_at_right_cvge</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">y;</span> <span class="id">rewrite</span> <span class="id">!in_itv/=</span> <span class="id">!andbT</span> <span class="id">=&gt;</span> <span class="id">x0</span> <span class="id">y0;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.sup_ball_le">sup_ball_le</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="lime_infE" class="id"><a name="lime_infE" class="">lime_infE</a></span> <span id="f:263" class="id"><a name="f:263" class="">f</a></span> <span id="a:264" class="id"><a name="a:264" class="">a</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#lime_inf">lime_inf</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:263">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:264">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">[set</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.inf_ball">inf_ball</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:263">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:264">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#e:265">e</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">|</a></span> <span id="e:265" class="id"><a name="e:265" class="">e</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eca7c03119ea7bbb2c5bd6c3655e6974">`]0,</a></span> <span class="id">+oo[</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">]</a></span>%<span class="id">R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/lime_inf</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_supE">lime_supE</a></span> <span class="id">/ereal_inf</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#image_comp">image_comp</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="lime_infN" class="id"><a name="lime_infN" class="">lime_infN</a></span> <span id="f:266" class="id"><a name="f:266" class="">f</a></span> <span id="a:267" class="id"><a name="a:267" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_inf">lime_inf</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#bf80dd271000fa448e03c4c14365c369">\-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:266">f</a></span>) <span class="id"><a href="mathcomp.analysis.realfun.html#a:267">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup">lime_sup</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:266">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:267">a</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</span></div>
<div class="proofscript" id="proof34">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/lime_sup</span> <span class="id">-limf_einfN</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="lime_supN" class="id"><a name="lime_supN" class="">lime_supN</a></span> <span id="f:268" class="id"><a name="f:268" class="">f</a></span> <span id="a:269" class="id"><a name="a:269" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup">lime_sup</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#bf80dd271000fa448e03c4c14365c369">\-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:268">f</a></span>) <span class="id"><a href="mathcomp.analysis.realfun.html#a:269">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_inf">lime_inf</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:268">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:269">a</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</span></div>
<div class="proofscript" id="proof35">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/lime_inf</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="lime_sup_ge0" class="id"><a name="lime_sup_ge0" class="">lime_sup_ge0</a></span> <span id="f:270" class="id"><a name="f:270" class="">f</a></span> <span id="a:271" class="id"><a name="a:271" class="">a</a></span> <span class="id">:</span> (<span class="gallina-kwd">forall</span> <span id="x:272" class="id"><a name="x:272" class="">x,</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:270">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:272">x</a></span>) <span class="id">-&gt;</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup">lime_sup</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:270">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:271">a</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</span></div>
<div class="proofscript" id="proof36">
<span class="id">move=&gt;</span> <span class="id">f0;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_supE">lime_supE;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#lb_ereal_inf">lb_ereal_inf</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">x</span> <span class="id">[e</span> <span class="id">/=]</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id">=&gt;</span> <span class="id">e0</span> <span class="id">&lt;-{x};</span> <span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup1">ereal_sup1</a></span> <span class="id">0</span>) <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_le">ereal_sup_le</a></span> <span class="id">//=</span>.<br/>
<span class="gallina-kwd">exists</span> (<span class="id">f</span> (<span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">e</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#69c431a9c94f6f30a655bd7ddb59037b">/</a></span> <span class="id">2</span>)%<span class="id">R</span>)<span class="id">;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup1">ereal_sup1</a></span> <span class="id">f0</span>.<br/>
<span class="gallina-kwd">exists</span> (<span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">e</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#69c431a9c94f6f30a655bd7ddb59037b">/</a></span> <span class="id">2</span>)%<span class="id">R</span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/ball/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprD">opprD</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrA">addrA</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subrr">subrr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.sub0r">sub0r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.normrN">normrN</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.gtr0_norm">gtr0_norm</a></span> <span class="id">?divr_gt0//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_pdivrMr">ltr_pdivrMr//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_pMr">ltr_pMr//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr1n">ltr1n</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.gt_eqF">gt_eqF//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_pwDr">ltr_pwDr//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.divr_gt0">divr_gt0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="lime_inf_ge0" class="id"><a name="lime_inf_ge0" class="">lime_inf_ge0</a></span> <span id="f:273" class="id"><a name="f:273" class="">f</a></span> <span id="a:274" class="id"><a name="a:274" class="">a</a></span> <span class="id">:</span> (<span class="gallina-kwd">forall</span> <span id="x:275" class="id"><a name="x:275" class="">x,</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:273">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:275">x</a></span>) <span class="id">-&gt;</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_inf">lime_inf</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:273">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:274">a</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</span></div>
<div class="proofscript" id="proof37">
<span class="id">move=&gt;</span> <span class="id">f0;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_inf_lim">lime_inf_lim;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#lime_ge">lime_ge;</a></span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.inf_ball_is_cvg">inf_ball_is_cvg</a></span>.<br/>
<span class="id">near=&gt;</span> <span class="id">b;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.inf_ballE">inf_ballE</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#lb_ereal_inf">lb_ereal_inf</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">_</span> <span class="id">[r</span> <span class="id">[abr/=</span> <span class="id">ra]]</span> <span class="id">&lt;-;</span> <span class="id">exact:</span> <span class="id">f0</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="lime_supD" class="id"><a name="lime_supD" class="">lime_supD</a></span> <span id="f:276" class="id"><a name="f:276" class="">f</a></span> <span id="g:277" class="id"><a name="g:277" class="">g</a></span> <span id="a:278" class="id"><a name="a:278" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup">lime_sup</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:276">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:278">a</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#95c149a6c3d7e16b8d29b2e8ca838dd4">+?</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup">lime_sup</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:277">g</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:278">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup">lime_sup</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:276">f</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#a03b5d62fe4ea52edbfd5608db7ebe2f">\+</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:277">g</a></span>)%<span class="id">E</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:278">a</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup">lime_sup</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:276">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:278">a</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup">lime_sup</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:277">g</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:278">a</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</span></div>
<div class="proofscript" id="proof38">
<span class="id">move=&gt;</span> <span class="id">fg;</span> <span class="id">rewrite</span> <span class="id">!lime_sup_lim</span> <span class="id">-limeD//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-!lime_sup_lim</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#lee_lim">lee_lim</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#nondecreasing_at_right_is_cvge">nondecreasing_at_right_is_cvge;</a></span> <span class="id">near=&gt;</span> <span class="id">e</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">y;</span> <span class="id">rewrite</span> <span class="id">!in_itv/=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/andP[?</span> <span class="id">?]</span> <span class="id">/andP[?</span> <span class="id">?]</span> <span class="id">xy;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leeD">leeD</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.sup_ball_le">sup_ball_le</a></span>.<br/>
<span class="id">-</span> <span class="id">near=&gt;</span> <span class="id">a0;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">/=</span> <span class="id">[a1</span> <span class="id">[a1ae</span> <span class="id">a1a]]</span> <span class="id">&lt;-</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leeD">leeD;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> <span class="id">a1</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="lime_sup_le" class="id"><a name="lime_sup_le" class="">lime_sup_le</a></span> <span id="f:279" class="id"><a name="f:279" class="">f</a></span> <span id="g:280" class="id"><a name="g:280" class="">g</a></span> <span id="a:281" class="id"><a name="a:281" class="">a</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.topology.html#be9d045413b70f39126ce7af3de2a77f">\forall</a></span> <span id="r:282" class="id"><a name="r:282" class="">r</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#be9d045413b70f39126ce7af3de2a77f">\near</a></span> <span class="id">0^'+,</span> <span class="gallina-kwd">forall</span> <span id="y:283" class="id"><a name="y:283" class="">y,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:283">y</a></span> <span class="id">!=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:281">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:281">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:282">r</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:283">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:279">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:283">y</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:280">g</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:283">y</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup">lime_sup</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:279">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:281">a</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup">lime_sup</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:280">g</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:281">a</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</span></div>
<div class="proofscript" id="proof39">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">fg;</span> <span class="id">rewrite</span> <span class="id">!lime_sup_lim;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#lee_lim">lee_lim</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.le_sup_ball">le_sup_ball</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="lime_inf_sup" class="id"><a name="lime_inf_sup" class="">lime_inf_sup</a></span> <span id="f:284" class="id"><a name="f:284" class="">f</a></span> <span id="a:285" class="id"><a name="a:285" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_inf">lime_inf</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:284">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:285">a</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup">lime_sup</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:284">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:285">a</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</span></div>
<div class="proofscript" id="proof40">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_inf_lim">lime_inf_lim</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_lim">lime_sup_lim;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#lee_lim">lee_lim</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">near=&gt;</span> <span class="id">r;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_le">ereal_sup_le//</a></span>.<br/>
<span class="id">have</span> <span class="id">?</span> <span class="id">:</span> <span class="gallina-kwd">exists2</span> <span id="x:287" class="id"><span id="x:286" class="id"><a name="x:287" class="">x,</a></span></span> <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id">a</span> <span class="id">r</span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:286">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:286">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id">a</span> &amp; <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:287">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">f</span> (<span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">r</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#69c431a9c94f6f30a655bd7ddb59037b">/</a></span> <span class="id">2</span>)%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">r</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#69c431a9c94f6f30a655bd7ddb59037b">/</a></span> <span class="id">2</span>)%<span class="id">R</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/ball/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprD">opprD</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrA">addrA</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subrr">subrr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.sub0r">sub0r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.normrN">normrN</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.gtr0_norm">gtr0_norm</a></span> <span class="id">?divr_gt0//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_pdivrMr">ltr_pdivrMr//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_pMr">ltr_pMr//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr1n">ltr1n</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.gt_eqF">gt_eqF//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_pwDr">ltr_pwDr//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.divr_gt0">divr_gt0</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id">f</span> (<span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id">r</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#69c431a9c94f6f30a655bd7ddb59037b">/</a></span> <span class="id">2</span>)) <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.inf_ballE">inf_ballE</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf_lb">ereal_inf_lb</a></span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Lemma</span> <span id="lim_lime_sup'" class="id"><a name="lim_lime_sup'" class="">lim_lime_sup'</a></span> <span id="f:288" class="id"><a name="f:288" class="">f</a></span> <span id="a:289" class="id"><a name="a:289" class="">a</a></span> <span id="l:290" class="id"><a name="l:290" class="">l</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#f:288">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:291">r</a></span> @<span class="id">[r</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:289">a]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:290">l</a></span>%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup">lime_sup</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:288">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:289">a</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:290">l</a></span>%<span class="id">:E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</span></div>
<div class="proofscript" id="proof41">
<span class="id">move=&gt;</span> <span class="id">fpA;</span> <span class="id">apply/lee_addgt0Pr</span> <span class="id">=&gt;</span> <span class="id">e</span> <span class="id">e0;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_lim">lime_sup_lim</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#lime_le">lime_le</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">move/fine_cvg</span> <span class="id">:</span> (<span class="id">fpA</span>) <span class="id">=&gt;</span> <span class="id">/cvgrPdist_le</span> <span class="id">fpA1</span>.<br/>
<span class="id">move/fcvg_is_fine</span> <span class="id">:</span> (<span class="id">fpA</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#near_map">near_map</a></span> <span class="id">=&gt;</span> <span class="id">-[d</span> <span class="id">d0]</span> <span class="id">fpA2</span>.<br/>
<span class="id">have</span> <span class="id">:=</span> <span class="id">fpA1</span> <span class="id">_</span> <span class="id">e0</span> <span class="id">=&gt;</span> <span class="id">-[q</span> <span class="id">/=</span> <span class="id">q0]</span> <span class="id">H</span>.<br/>
<span class="id">near=&gt;</span> <span class="id">x;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">_</span> <span class="id">[y</span> <span class="id">[pry</span> <span class="id">/=</span> <span class="id">yp</span> <span class="id">&lt;-]]</span>.<br/>
<span class="id">have</span> <span class="id">?</span> <span class="id">:</span> <span class="id">f</span> <span class="id">y</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id">fpA2</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/ball_</span> <span class="id">/=</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">pry</span>)<span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">x;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_le">nbhs_right_le</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-lee_subel_addl//</span> <span class="id">-</span>(@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">_</span> (<span class="id">f</span> <span class="id">y</span>)) <span class="id">//</span> <span class="id">-EFinB</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_norm">ler_norm</a></span> <span class="id">_</span>))<span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.distrC">distrC</a></span> <span class="id">H//</span> <span class="id">/ball_/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_distlC">ltr_distlC</a></span>.<br/>
<span class="id">move:</span> <span class="id">pry;</span> <span class="id">rewrite</span> <span class="id">/ball/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_distlC">ltr_distlC</a></span> <span class="id">=&gt;</span> <span class="id">/andP[pay</span> <span class="id">ypa]</span>.<br/>
<span class="id">have</span> <span class="id">xq</span> <span class="id">:</span> (<span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">q</span>)%<span class="id">R</span> <span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">x;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_le">nbhs_right_le</a></span>.<br/>
<span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> <span class="id">pay</span>)<span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerB">lerB</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">ypa</span>)<span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerD2l">lerD2l</a></span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Lemma</span> <span id="lim_lime_inf'" class="id"><a name="lim_lime_inf'" class="">lim_lime_inf'</a></span> <span id="f:292" class="id"><a name="f:292" class="">f</a></span> <span id="a:293" class="id"><a name="a:293" class="">a</a></span> (<span id="l:294" class="id"><a name="l:294" class="">l</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#f:292">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:295">r</a></span> @<span class="id">[r</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:293">a]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:294">l</a></span>%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:294">l</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_inf">lime_inf</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:292">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:293">a</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</span></div>
<div class="proofscript" id="proof42">
<span class="id">move=&gt;</span> <span class="id">fpA;</span> <span class="id">apply/lee_subgt0Pr</span> <span class="id">=&gt;</span> <span class="id">e</span> <span class="id">e0;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_inf_lim">lime_inf_lim</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#lime_ge">lime_ge</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">move/fine_cvg</span> <span class="id">:</span> (<span class="id">fpA</span>) <span class="id">=&gt;</span> <span class="id">/cvgrPdist_le</span> <span class="id">fpA1</span>.<br/>
<span class="id">move/fcvg_is_fine</span> <span class="id">:</span> (<span class="id">fpA</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#near_map">near_map</a></span> <span class="id">=&gt;</span> <span class="id">-[d</span> <span class="id">d0]</span> <span class="id">fpA2</span>.<br/>
<span class="id">have</span> <span class="id">:=</span> <span class="id">fpA1</span> <span class="id">_</span> <span class="id">e0</span> <span class="id">=&gt;</span> <span class="id">-[q</span> <span class="id">/=</span> <span class="id">q0]</span> <span class="id">H</span>.<br/>
<span class="id">near=&gt;</span> <span class="id">x</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.inf_ballE">inf_ballE</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#lb_ereal_inf">lb_ereal_inf</a></span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">_</span> <span class="id">[y</span> <span class="id">[pry</span> <span class="id">/=</span> <span class="id">yp</span> <span class="id">&lt;-]]</span>.<br/>
<span class="id">have</span> <span class="id">?</span> <span class="id">:</span> <span class="id">f</span> <span class="id">y</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id">fpA2</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/ball_</span> <span class="id">/=</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">pry</span>)<span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">x;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_le">nbhs_right_le</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-</span>(@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">_</span> (<span class="id">f</span> <span class="id">y</span>)) <span class="id">//</span> <span class="id">-EFinB</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerBlDr">lerBlDr</a></span> <span class="id">-lerBlDl</span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_norm">ler_norm</a></span> <span class="id">_</span>))<span class="id">//</span> <span class="id">H//</span> <span class="id">/ball_/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_distlC">ltr_distlC</a></span>.<br/>
<span class="id">move:</span> <span class="id">pry;</span> <span class="id">rewrite</span> <span class="id">/ball/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_distlC">ltr_distlC</a></span> <span class="id">=&gt;</span> <span class="id">/andP[pay</span> <span class="id">ypa]</span>.<br/>
<span class="id">have</span> <span class="id">xq</span> <span class="id">:</span> (<span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">q</span>)%<span class="id">R</span> <span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">x;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_le">nbhs_right_le</a></span>.<br/>
<span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> <span class="id">pay</span>)<span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerB">lerB</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">ypa</span>)<span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerD2l">lerD2l</a></span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="lim_lime_inf" class="id"><a name="lim_lime_inf" class="">lim_lime_inf</a></span> <span id="f:296" class="id"><a name="f:296" class="">f</a></span> <span id="a:297" class="id"><a name="a:297" class="">a</a></span> (<span id="l:298" class="id"><a name="l:298" class="">l</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#f:296">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:299">r</a></span> @<span class="id">[r</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:297">a]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:298">l</a></span>%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_inf">lime_inf</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:296">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:297">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:298">l</a></span>%<span class="id">:E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</span></div>
<div class="proofscript" id="proof43">
<span class="id">move=&gt;</span> <span class="id">h;</span> <span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.eq_le">eq_le</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lim_lime_inf'">lim_lime_inf'//</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#lime_inf_sup">lime_inf_sup</a></span> <span class="id">_</span> <span class="id">_</span>))<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lim_lime_sup'">lim_lime_sup'</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="lim_lime_sup" class="id"><a name="lim_lime_sup" class="">lim_lime_sup</a></span> <span id="f:300" class="id"><a name="f:300" class="">f</a></span> <span id="a:301" class="id"><a name="a:301" class="">a</a></span> (<span id="l:302" class="id"><a name="l:302" class="">l</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#f:300">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:303">r</a></span> @<span class="id">[r</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:301">a]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:302">l</a></span>%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup">lime_sup</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:300">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:301">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:302">l</a></span>%<span class="id">:E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof44')">Proof.</span></div>
<div class="proofscript" id="proof44">
<span class="id">move=&gt;</span> <span class="id">h;</span> <span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.eq_le">eq_le</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lim_lime_sup'">lim_lime_sup'//=</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#lime_inf_sup">lime_inf_sup</a></span> <span class="id">_</span> <span class="id">_</span>))<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lim_lime_inf'">lim_lime_inf'</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Lemma</span> <span id="lime_supP" class="id"><a name="lime_supP" class="">lime_supP</a></span> <span id="f:304" class="id"><a name="f:304" class="">f</a></span> <span id="a:305" class="id"><a name="a:305" class="">a</a></span> <span id="l:306" class="id"><a name="l:306" class="">l</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup">lime_sup</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:304">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:305">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:306">l</a></span>%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">forall</span> <span id="e:307" class="id"><a name="e:307" class="">e</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#dbe4e9c6d047a7b9bacd3b6dee92ccb8">{posnum</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.R">R},</a></span> <span class="gallina-kwd">exists</span> <span id="d:308" class="id"><a name="d:308" class="">d</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#dbe4e9c6d047a7b9bacd3b6dee92ccb8">{posnum</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.R">R},</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:309" class="id"><a name="x:309" class="">x,</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:305">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#d:308">d</a></span>%<span class="id">:num</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#a493d7760e57e2fda3971f50b830b776">`\</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:305">a</a></span>) <span class="id"><a href="mathcomp.analysis.realfun.html#x:309">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:304">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:309">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:306">l</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#e:307">e</a></span>%<span class="id">:num</span>%<span class="id">:E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof45')">Proof.</span></div>
<div class="proofscript" id="proof45">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_supE">lime_supE</a></span> <span class="id">=&gt;</span> <span class="id">fal</span>.<br/>
<span class="id">have</span> <span class="id">H</span> (<span id="e:310" class="id"><a name="e:310" class="">e</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#dbe4e9c6d047a7b9bacd3b6dee92ccb8">{posnum</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.R">R}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="d:311" class="id"><a name="d:311" class="">d</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#dbe4e9c6d047a7b9bacd3b6dee92ccb8">{posnum</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.R">R},</a></span> <span class="id">l</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#df42a38c1c08db7c50c9021fc7951d60">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.sup_ball">sup_ball</a></span> <span class="id">f</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.realfun.html#d:311">d</a></span>%<span class="id">:num</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#df42a38c1c08db7c50c9021fc7951d60">&lt;</a></span> <span class="id">l</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#e:310">e</a></span>%<span class="id">:num</span>%<span class="id">:E</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.boolp.html#contrapT">contrapT</a></span> <span class="id">=&gt;</span> <span class="id">/forallNP</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf">ereal_inf</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">[set</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.sup_ball">sup_ball</a></span> <span class="id">f</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:312">r</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">|</a></span> <span id="r:312" class="id"><a name="r:312" class="">r</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eca7c03119ea7bbb2c5bd6c3655e6974">`]0</a></span>%<span class="id">R,</span> <span class="id">+oo[]</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">fal</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">/lb_ereal_inf_adherent-/</span>(<span class="id">_</span> <span class="id">e</span>%<span class="id">:num</span> <span class="id">ltac:</span>(<span class="gallina-kwd">by</span> <span class="id">[]</span>))<span class="id">[y]</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="id">case=&gt;</span> <span class="id">r;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id">=&gt;</span> <span class="id">r0</span> <span class="id">&lt;-{y}</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.ltNge">ltNge</a></span> <span class="id">=&gt;</span> <span class="id">/negP;</span> <span class="id">apply</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">/negP</span> <span class="id">:=</span> <span class="id">H</span> (<span class="id"><a href="mathcomp.analysis.signed.html#PosNum">PosNum</a></span> <span class="id">r0</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span> <span class="id">=&gt;</span> <span class="id">/orP[|]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-ltNge</span> <span class="id">=&gt;</span> <span class="id">farl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf">ereal_inf</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">[set</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.sup_ball">sup_ball</a></span> <span class="id">f</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:313">r</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">|</a></span> <span id="r:313" class="id"><a name="r:313" class="">r</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eca7c03119ea7bbb2c5bd6c3655e6974">`]0</a></span>%<span class="id">R,</span> <span class="id">+oo[]</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">l</span>%<span class="id">:E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> <span class="id">farl</span>)<span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf_lb">ereal_inf_lb</a></span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> <span class="id">r</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">r0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">fal</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltxx">ltxx</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-leNgt;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans;</a></span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leeD2r">leeD2r//</a></span> <span class="id">fal</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">e;</span> <span class="id">have</span> <span class="id">[d</span> <span class="id">/andP[lfp</span> <span class="id">fpe]]</span> <span class="id">:=</span> <span class="id">H</span> <span class="id">e</span>.<br/>
<span class="gallina-kwd">exists</span> <span class="id">d</span> <span class="id">=&gt;</span> <span class="id">r</span> <span class="id">/=</span> <span class="id">[]</span> <span class="id">prd</span> <span class="id">rp</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> <span class="id">fpe</span>)<span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> <span class="id">r</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Lemma</span> <span id="lime_infP" class="id"><a name="lime_infP" class="">lime_infP</a></span> <span id="f:314" class="id"><a name="f:314" class="">f</a></span> <span id="a:315" class="id"><a name="a:315" class="">a</a></span> <span id="l:316" class="id"><a name="l:316" class="">l</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#lime_inf">lime_inf</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:314">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:315">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:316">l</a></span>%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">forall</span> <span id="e:317" class="id"><a name="e:317" class="">e</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#dbe4e9c6d047a7b9bacd3b6dee92ccb8">{posnum</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.R">R},</a></span> <span class="gallina-kwd">exists</span> <span id="d:318" class="id"><a name="d:318" class="">d</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#dbe4e9c6d047a7b9bacd3b6dee92ccb8">{posnum</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.R">R},</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:319" class="id"><a name="x:319" class="">x,</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:315">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#d:318">d</a></span>%<span class="id">:num</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#a493d7760e57e2fda3971f50b830b776">`\</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:315">a</a></span>) <span class="id"><a href="mathcomp.analysis.realfun.html#x:319">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:316">l</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#e:317">e</a></span>%<span class="id">:num</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:314">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:319">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof46')">Proof.</span></div>
<div class="proofscript" id="proof46">
<span class="id">move=&gt;</span> <span class="id">/</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#congr1">congr1</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe">oppe</a></span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">-lime_supN</span> <span class="id">=&gt;</span> <span class="id">/lime_supP</span> <span class="id">=&gt;</span> <span class="id">H</span> <span class="id">e</span>.<br/>
<span class="id">have</span> <span class="id">[d</span> <span class="id">{}H]</span> <span class="id">:=</span> <span class="id">H</span> <span class="id">e</span>.<br/>
<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">d</span> <span class="id">=&gt;</span> <span class="id">r</span> <span class="id">/H;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lteNl">lteNl</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeD">oppeD//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinN">EFinN</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="lime_sup_inf_at_right" class="id"><a name="lime_sup_inf_at_right" class="">lime_sup_inf_at_right</a></span> <span id="f:320" class="id"><a name="f:320" class="">f</a></span> <span id="a:321" class="id"><a name="a:321" class="">a</a></span> <span id="l:322" class="id"><a name="l:322" class="">l</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup">lime_sup</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:320">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:321">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:322">l</a></span>%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_inf">lime_inf</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:320">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:321">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:322">l</a></span>%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:320">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:323">x</a></span> @<span class="id">[x</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:321">a^'+]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:322">l</a></span>%<span class="id">:E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof47')">Proof.</span></div>
<div class="proofscript" id="proof47">
<span class="id">move=&gt;</span> <span class="id">supfpl</span> <span class="id">inffpl;</span> <span class="id">apply/cvge_at_rightP</span> <span class="id">=&gt;</span> <span class="id">u</span> <span class="id">[pu</span> <span class="id">up]</span>.<br/>
<span class="id">have</span> <span class="id">fu</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#be9d045413b70f39126ce7af3de2a77f">\forall</a></span> <span id="n:324" class="id"><a name="n:324" class="">n</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#be9d045413b70f39126ce7af3de2a77f">\near</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo,</a></span> <span class="id">f</span> (<span class="id">u</span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:324">n</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[dsup</span> <span class="id">Hdsup]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_supP">lime_supP</a></span> <span class="id">supfpl</span> (<span class="id"><a href="mathcomp.analysis.signed.html#PosNum">PosNum</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr01">ltr01</a></span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[dinf</span> <span class="id">Hdinf]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_infP">lime_infP</a></span> <span class="id">inffpl</span> (<span class="id"><a href="mathcomp.analysis.signed.html#PosNum">PosNum</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr01">ltr01</a></span>).<br/>
&nbsp;&nbsp;<span class="id">near=&gt;</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numE">fin_numE;</a></span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply/eqP</span> <span class="id">=&gt;</span> <span class="id">fxnoo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">suff</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id">a</span> <span class="id">dinf</span>%<span class="id">:num</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#a493d7760e57e2fda3971f50b830b776">`\</a></span> <span class="id">a</span>) (<span class="id">u</span> <span class="id">n</span>) <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/Hdinf;</span> <span class="id">rewrite</span> <span class="id">fxnoo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">split;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.gt_eqF">gt_eqF</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">n;</span> <span class="id">move/cvgrPdist_lt</span> <span class="id">:</span> <span class="id">up;</span> <span class="id">exact</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/eqP</span> <span class="id">=&gt;</span> <span class="id">fxnoo</span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id">a</span> <span class="id">dsup</span>%<span class="id">:num</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#a493d7760e57e2fda3971f50b830b776">`\</a></span> <span class="id">a</span>) (<span class="id">u</span> <span class="id">n</span>) <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/Hdsup;</span> <span class="id">rewrite</span> <span class="id">fxnoo</span>.<br/>
&nbsp;&nbsp;<span class="id">split;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.gt_eqF">gt_eqF</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">n;</span> <span class="id">move/cvgrPdist_lt</span> <span class="id">:</span> <span class="id">up;</span> <span class="id">exact</span>.<br/>
<span class="id">apply/fine_cvgP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id">fu</span>.<br/>
<span class="id">apply/cvgrPdist_le</span> <span class="id">=&gt;</span> <span class="id">_/posnumP[e]</span>.<br/>
<span class="id">have</span> <span class="id">[d1</span> <span class="id">Hd1]</span> <span class="id">:</span> <span class="gallina-kwd">exists</span> <span id="d1:325" class="id"><a name="d1:325" class="">d1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#dbe4e9c6d047a7b9bacd3b6dee92ccb8">{posnum</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.R">R},</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">l</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id">e</span>%<span class="id">:num</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf">ereal_inf</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">[set</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:326">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">|</a></span> <span id="x:326" class="id"><a name="x:326" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.realfun.html#d1:325">d1</a></span>%<span class="id">:num</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#a493d7760e57e2fda3971f50b830b776">`\</a></span> <span class="id">a]</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">:</span> <span class="id">l</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id">e</span>%<span class="id">:num</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_inf">lime_inf</a></span> <span class="id">f</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">inffpl</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_subl_addr">lte_subl_addr//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lteDl">lteDl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_infE">lime_infE</a></span> <span class="id">=&gt;</span> <span class="id">/ereal_sup_gt[x</span> <span class="id">/=</span> <span class="id">[r]];</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">r0</span> <span class="id">&lt;-{x}</span> <span class="id">H;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.signed.html#PosNum">PosNum</a></span> <span class="id">r0</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW//</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-inf_ballE</span>.<br/>
<span class="id">have</span> <span class="id">[d2</span> <span class="id">Hd2]</span> <span class="id">:</span> <span class="gallina-kwd">exists</span> <span id="d2:327" class="id"><a name="d2:327" class="">d2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#dbe4e9c6d047a7b9bacd3b6dee92ccb8">{posnum</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf.R">R},</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">[set</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:328">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">|</a></span> <span id="x:328" class="id"><a name="x:328" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.realfun.html#d2:327">d2</a></span>%<span class="id">:num</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#a493d7760e57e2fda3971f50b830b776">`\</a></span> <span class="id">a]</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id">l</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id">e</span>%<span class="id">:num</span>%<span class="id">:E</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup">lime_sup</a></span> <span class="id">f</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">l</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id">e</span>%<span class="id">:num</span>%<span class="id">:E</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">supfpl</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lteDl">lteDl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_supE">lime_supE</a></span> <span class="id">=&gt;</span> <span class="id">/ereal_inf_lt[x</span> <span class="id">/=</span> <span class="id">[r]];</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r0</span> <span class="id">&lt;-{x}</span> <span class="id">H;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.signed.html#PosNum">PosNum</a></span> <span class="id">r0</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
<span class="id">pose</span> <span class="id">d</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Def.minr">minr</a></span> <span class="id">d1</span>%<span class="id">:num</span> <span class="id">d2</span>%<span class="id">:num</span>.<br/>
<span class="id">have</span> <span class="id">d0</span> <span class="id">:</span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">d</span>)%<span class="id">R</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.lt_minr">lt_minr;</a></span> <span class="id">apply/andP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
<span class="id">move/cvgrPdist_lt</span> <span class="id">:</span> <span class="id">up</span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">_</span> <span class="id">d0</span>)<span class="id">[m</span> <span class="id">_]</span> <span class="id">{}ucvg</span>.<br/>
<span class="id">near=&gt;</span> <span class="id">n</span>.<br/>
<span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_distlC">ler_distlC;</a></span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-lee_fin</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinB">EFinB</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">Hd1</span>)<span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf">ereal_inf</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">[set</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:329">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">|</a></span> <span id="x:331" class="id"><span id="x:330" class="id"><span id="x:329" class="id"><a name="x:331" class="">x</a></span></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id">a</span> <span class="id">d</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#a493d7760e57e2fda3971f50b830b776">`\</a></span> <span class="id">a]</span>))<span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#le_ereal_inf">le_ereal_inf</a></span> <span class="id">=&gt;</span> <span class="id">_/=</span> <span class="id">[r</span> <span class="id">[adr</span> <span class="id">ra]</span> <span class="id">&lt;-];</span> <span class="gallina-kwd">exists</span> <span class="id">r</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/ball/=</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">adr</span>)<span class="id">//</span> <span class="id">/d</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.le_minl">le_minl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lexx">lexx</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf_lb">ereal_inf_lb</a></span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> (<span class="id">u</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">split;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_eqF">lt_eqF</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id">ucvg</span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">near:</span> <span class="id">n;</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">m</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//;</a></span> <span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">n</span>.<br/>
<span class="id">rewrite</span> <span class="id">-lee_fin</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id">Hd2</span>)<span class="id">//</span>.<br/>
<span class="id">rewrite</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">[set</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:332">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">|</a></span> <span id="x:334" class="id"><span id="x:333" class="id"><span id="x:332" class="id"><a name="x:334" class="">x</a></span></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id">a</span> <span class="id">d</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#a493d7760e57e2fda3971f50b830b776">`\</a></span> <span class="id">a]</span>))<span class="id">//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#le_ereal_sup">le_ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">z/=</span> <span class="id">[r</span> <span class="id">[adr</span> <span class="id">rp]</span> <span class="id">&lt;-{z}];</span> <span class="gallina-kwd">exists</span> <span class="id">r</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/ball/=</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">adr</span>)<span class="id">//</span> <span class="id">/d</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.le_minl">le_minl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lexx">lexx</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">orbT</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> (<span class="id">u</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">split;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_eqF">lt_eqF</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id">ucvg</span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">near:</span> <span class="id">n;</span> <span class="gallina-kwd">exists</span> <span class="id">m</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//;</a></span> <span class="id">near:</span> <span class="id">n</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="lime_sup_inf_at_left" class="id"><a name="lime_sup_inf_at_left" class="">lime_sup_inf_at_left</a></span> <span id="f:335" class="id"><a name="f:335" class="">f</a></span> <span id="a:336" class="id"><a name="a:336" class="">a</a></span> <span id="l:337" class="id"><a name="l:337" class="">l</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup">lime_sup</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:335">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:336">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:337">l</a></span>%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_inf">lime_inf</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:335">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:336">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:337">l</a></span>%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:335">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:338">x</a></span> @<span class="id">[x</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:336">a^'-]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:337">l</a></span>%<span class="id">:E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof48')">Proof.</span></div>
<div class="proofscript" id="proof48">
<span class="id">move=&gt;</span> <span class="id">supfal</span> <span class="id">inffal;</span> <span class="id">apply/cvg_at_leftNP/lime_sup_inf_at_right</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/lime_sup</span> <span class="id">-limf_esup_dnbhsN</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/lime_inf</span> <span class="id">/lime_sup</span> <span class="id">-</span>(<span class="id"><a href="mathcomp.analysis.normedtype.html#limf_esup_dnbhsN">limf_esup_dnbhsN</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#b9ea624cf1ed6f77d648bedb1e978b55">-</a></span>%<span class="id">E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id">f</span>)) <span class="id"><a href="mathcomp.analysis.normedtype.html#limf_esupN">limf_esupN</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#lime_sup_inf">lime_sup_inf</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="derivable_oo_continuous_bnd" class="id"><a name="derivable_oo_continuous_bnd" class="">derivable_oo_continuous_bnd</a></span>.<br/>
<span class="vernacular">Context</span> <span class="id">{R</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.NumField.Exports.numFieldType">numFieldType}</a></span> <span class="id">{V</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#R:339">R}</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="derivable_oo_continuous_bnd" class="id"><a name="derivable_oo_continuous_bnd" class="">derivable_oo_continuous_bnd</a></span> (<span id="f:341" class="id"><a name="f:341" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#derivable_oo_continuous_bnd.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#derivable_oo_continuous_bnd.V">V</a></span>) (<span id="x:342" class="id"><a name="x:342" class="">x</a></span> <span id="y:343" class="id"><a name="y:343" class="">y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#derivable_oo_continuous_bnd.R">R</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681">[/\</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#8c08d4203604dbed63e7afa9b689d858">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#ebff9f8c4fe58806999ff1c12ccee445">`]x,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:343">y[,</a></span> <span class="gallina-kwd">forall</span> <span id="x:344" class="id"><a name="x:344" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:341">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:344">x</a></span> <span class="id">1},</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#f:341">f</a></span> @ <span class="id"><a href="mathcomp.analysis.realfun.html#x:342">x^'+</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:341">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:342">x</a></span> &amp; <span class="id"><a href="mathcomp.analysis.realfun.html#f:341">f</a></span> @ <span class="id"><a href="mathcomp.analysis.realfun.html#y:343">y^'-</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:341">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:343">y]</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="derivable_oo_continuous_bnd_within" class="id"><a name="derivable_oo_continuous_bnd_within" class="">derivable_oo_continuous_bnd_within</a></span> (<span id="f:345" class="id"><a name="f:345" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#derivable_oo_continuous_bnd.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#derivable_oo_continuous_bnd.V">V</a></span>) (<span id="x:346" class="id"><a name="x:346" class="">x</a></span> <span id="y:347" class="id"><a name="y:347" class="">y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#derivable_oo_continuous_bnd.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#derivable_oo_continuous_bnd">derivable_oo_continuous_bnd</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:345">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:346">x</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:347">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[x,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:347">y],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:345">f}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof49')">Proof.</span></div>
<div class="proofscript" id="proof49">
<span class="id">move=&gt;</span> <span class="id">[fxy</span> <span class="id">fxr</span> <span class="id">fyl];</span> <span class="id">apply/subspace_continuousP</span> <span class="id">=&gt;</span> <span class="id">z</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">=&gt;</span> <span class="id">/andP[];</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt</a></span> <span class="id">=&gt;</span> <span class="id">/predU1P[&lt;-{z}</span> <span class="id">xy|]</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_at_right_within">cvg_at_right_within</a></span> <span class="id">fxr;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_trans">cvg_trans;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_app">cvg_app</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#within_subset">within_subset</a></span> <span class="id">=&gt;</span> <span class="id">z/=;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">=&gt;</span> <span class="id">/andP[]</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">/[swap]</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt</a></span> <span class="id">=&gt;</span> <span class="id">/predU1P[-&gt;{z}</span> <span class="id">xy|zy</span> <span class="id">xz]</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_at_left_within">cvg_at_left_within</a></span> <span class="id">fyl;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_trans">cvg_trans;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_app">cvg_app</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#within_subset">within_subset</a></span> <span class="id">=&gt;</span> <span class="id">z/=;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">=&gt;</span> <span class="id">/andP[]</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_within_filter">cvg_within_filter</a></span>.<br/>
<span class="id">apply/differentiable_continuous;</span> <span class="id">rewrite</span> <span class="id">-derivable1_diffP</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id">fxy;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">xz</span> <span class="id">zy</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#derivable_oo_continuous_bnd">derivable_oo_continuous_bnd</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="real_inverse_functions" class="id"><a name="real_inverse_functions" class="">real_inverse_functions</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="real_inverse_functions.R" class="id"><a name="real_inverse_functions.R" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>.<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">a</span> <span class="id">b</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>) (<span class="id">f</span> <span class="id">g</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>).<br/>
<br/>
<div class="doc">This lemma should be used with caution. Generally `{within I, continuous f}`
   is what one would intend. So having `{in I, continuous f}` as a condition
   may indicate potential issues at the endpoints of the interval. </div>
<span class="vernacular">Lemma</span> <span id="continuous_subspace_itv" class="id"><a name="continuous_subspace_itv" class="">continuous_subspace_itv</a></span> (<span id="I:349" class="id"><a name="I:349" class="">I</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#interval">interval</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>) (<span id="f:350" class="id"><a name="f:350" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#8c08d4203604dbed63e7afa9b689d858">{in</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#I:349">I,</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:350">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#I:349">I],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:350">f}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof50')">Proof.</span></div>
<div class="proofscript" id="proof50">
<span class="id">move=&gt;</span> <span class="id">ctsf;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_in_subspaceT">continuous_in_subspaceT</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">Ix;</span> <span class="id">apply:</span> <span class="id">ctsf</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">Ix;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="itv_continuous_inj_le" class="id"><a name="itv_continuous_inj_le" class="">itv_continuous_inj_le</a></span> <span id="f:351" class="id"><a name="f:351" class="">f</a></span> (<span id="I:352" class="id"><a name="I:352" class="">I</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#interval">interval</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">exists</span> <span id="x:353" class="id"><a name="x:353" class="">x</a></span> <span id="y:354" class="id"><a name="y:354" class="">y,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#554fc3f3cf0a27fe0863b7741d119014">[/\</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:353">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#I:352">I,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:354">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#I:352">I,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:353">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:354">y</a></span> &amp; <span class="id"><a href="mathcomp.analysis.realfun.html#f:351">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:353">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:351">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:354">y]</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#I:352">I],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:351">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#I:352">I</a></span> &amp;<span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:351">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#I:352">I</a></span> &amp;<span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#02b248fee5f27b186ea3a36733c25088">{mono</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:351">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#02b248fee5f27b186ea3a36733c25088">:</a></span> <span id="x:357" class="id"><span id="x:355" class="id"><a name="x:357" class="">x</a></span></span> <span id="y:358" class="id"><span id="y:356" class="id"><a name="y:358" class="">y</a></span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#02b248fee5f27b186ea3a36733c25088">/</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:355">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:356">y}}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof51')">Proof.</span></div>
<div class="proofscript" id="proof51">
<span class="id">gen</span> <span class="id">have</span> <span class="id">fxy</span> <span class="id">:</span> <span class="id">f</span> <span class="id">/</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id">I</span> &amp;<span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f}</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id">I</span> &amp;<span class="id">,</span> <span class="gallina-kwd">forall</span> <span id="x:359" class="id"><a name="x:359" class="">x</a></span> <span id="y:360" class="id"><a name="y:360" class="">y,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:359">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:360">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:359">x</a></span> <span class="id">!=</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:360">y}</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">fI</span> <span class="id">x</span> <span class="id">y</span> <span class="id">xI</span> <span class="id">yI</span> <span class="id">xLy;</span> <span class="id">apply/negP</span> <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">/fI</span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">xI</span> <span class="id">yI</span>) <span class="id">xy</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">xLy;</span> <span class="id">rewrite</span> <span class="id">xy</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltxx">ltxx</a></span>.<br/>
<span class="id">gen</span> <span class="id">have</span> <span class="id">main</span> <span class="id">:</span> <span class="id">f</span> <span class="id">/</span> <span class="gallina-kwd">forall</span> <span id="c:361" class="id"><a name="c:361" class="">c,</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> <span class="id">I],</span> <span class="id">continuous</span> <span class="id">f}</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id">I</span> &amp;<span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f}</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id">I</span> &amp;<span class="id">,</span> <span class="gallina-kwd">forall</span> <span id="a:362" class="id"><a name="a:362" class="">a</a></span> <span id="b:363" class="id"><a name="b:363" class="">b,</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:362">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:363">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:362">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:361">c</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:361">c</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:363">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:362">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:361">c</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:361">c</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:363">b}</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">c</span> <span class="id">fC</span> <span class="id">fI</span> <span class="id">a</span> <span class="id">b</span> <span class="id">aI</span> <span class="id">bI</span> <span class="id">faLfb</span> <span class="id">aLc</span> <span class="id">cLb</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">intP</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#interval_is_interval">interval_is_interval</a></span> <span class="id">aI</span> <span class="id">bI</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">cI</span> <span class="id">:</span> <span class="id">c</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">I</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">intP//</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">aLc</span>) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">ctsACf</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[a,</a></span> <span class="id">c],</span> <span class="id">continuous</span> <span class="id">f}</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspaceW">continuous_subspaceW</a></span> <span class="id">_</span> <span class="id">fC</span>) <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">/itvP</span> <span class="id">axc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">intP//</span> <span class="id">axc/=</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">cLb</span>))<span class="id">//</span> <span class="id">axc</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">ctsCBf</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[c,</a></span> <span class="id">b],</span> <span class="id">continuous</span> <span class="id">f}</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspaceW">continuous_subspaceW</a></span> <span class="id">_</span> <span class="id">fC</span>) <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">/itvP</span> <span class="id">axc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">intP//</span> <span class="id">axc</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">aLc</span>)) <span class="id">?axc</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[aLb</span> <span class="id">alb']</span> <span class="id">:</span> <span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">b</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">b</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_trans">lt_trans</a></span> <span class="id">aLc</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[faLfc|fcLfa|/eqP</span> <span class="id">faEfc]</span> <span class="id">/=</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrgtP">ltrgtP</a></span> (<span class="id">f</span> <span class="id">a</span>) (<span class="id">f</span> <span class="id">c</span>).<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">split;</span> <span class="id">rewrite</span> <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_neqAle">lt_neqAle</a></span> <span class="id">fxy</span> <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.leNgt">leNgt;</a></span> <span class="id">apply/negP</span> <span class="id">=&gt;</span> <span class="id">fbLfc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">:=</span> <span class="id">fbLfc;</span> <span class="id">suff</span> <span class="id">/eqP</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id">c</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180">==</a></span> <span class="id">b</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltxx">ltxx</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.eq_le">eq_le</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">cLb</span>) <span class="id">/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[d</span> <span class="id">/andP[ad</span> <span class="id">dc]</span> <span class="id">fdEfb]</span> <span class="id">:</span> <span class="gallina-kwd">exists2</span> <span id="d:365" class="id"><span id="d:364" class="id"><a name="d:365" class="">d,</a></span></span> <span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#5285549f1bd0c3f181a17cc59d549bc0">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#d:364">d</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#5285549f1bd0c3f181a17cc59d549bc0">&lt;=</a></span> <span class="id">c</span> &amp; <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#d:365">d</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">f</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">aLc'</span> <span class="id">:</span> <span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">c</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#IVT">IVT</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrgtP">ltrgtP</a></span> <span class="id">faLfc;</span> <span class="id">rewrite</span> <span class="id">//</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">faLfb</span>) <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-</span>(<span class="id">fI</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">fdEfb</span>) <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> <span class="id">ad</span> <span class="id">dc;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt</a></span> <span class="id">=&gt;/predU1P[&lt;-//|</span> <span class="id">/ltW</span> <span class="id">L]</span> <span class="id">dc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">intP//</span> <span class="id">L</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">cLb</span>)).<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">have</span> <span class="id">[fbLfc</span> <span class="id">|</span> <span class="id">fcLfb</span> <span class="id">|</span> <span class="id">fbEfc]</span> <span class="id">/=</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrgtP">ltrgtP</a></span> (<span class="id">f</span> <span class="id">b</span>) (<span class="id">f</span> <span class="id">c</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_trans">lt_trans</a></span> <span class="id">fbLfc</span> <span class="id">fcLfa;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.ltNge">ltNge</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">faLfb</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="id">have</span> <span class="id">[d</span> <span class="id">/andP[cLd</span> <span class="id">dLb]</span> <span class="id">/eqP]</span> <span class="id">:</span> <span class="gallina-kwd">exists2</span> <span id="d:367" class="id"><span id="d:366" class="id"><a name="d:367" class="">d,</a></span></span> <span class="id">c</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#5285549f1bd0c3f181a17cc59d549bc0">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#d:366">d</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#5285549f1bd0c3f181a17cc59d549bc0">&lt;=</a></span> <span class="id">b</span> &amp; <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#d:367">d</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">f</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">cLb'</span> <span class="id">:</span> <span class="id">c</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">b</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#IVT">IVT</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrgtP">ltrgtP</a></span> <span class="id">fcLfb;</span> <span class="id">rewrite</span> <span class="id">//</span> <span class="id">!ltW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">/</span>(<span class="id">fxy</span> <span class="id">f</span> <span class="id">fI</span>) <span class="id">:</span> <span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">d</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">aLc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">suff</span> <span class="id">dI'</span> <span class="id">:</span> <span class="id">d</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">I</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym=&gt;</a></span> <span class="id">/</span>(<span class="id">_</span> <span class="id">aI</span> <span class="id">dI'</span>) <span class="id">=&gt;</span> <span class="id">/negbTE</span> <span class="id">-&gt;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> <span class="id">dLb;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt</a></span> <span class="id">=&gt;</span> <span class="id">/predU1P[-&gt;//|/ltW</span> <span class="id">db]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">intP//</span> <span class="id">db</span>  (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">aLc</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">fcLfa;</span> <span class="id">rewrite</span> <span class="id">-fbEfc</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.ltNge">ltNge</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">faLfb</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move/</span>(<span class="id">fxy</span> <span class="id">_</span> <span class="id">fI</span>) <span class="id">:</span> <span class="id">aLc=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">aI</span> <span class="id">cI</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">faEfc</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">[u</span> <span class="id">[v</span> <span class="id">[uI</span> <span class="id">vI</span> <span class="id">ulv</span> <span class="id">+]]]</span> <span class="id">fC</span> <span class="id">fI;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt</a></span> <span class="id">=&gt;</span> <span class="id">/predU1P[fufv|fuLfv]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move/fI:</span> <span class="id">fufv</span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">uI</span> <span class="id">vI</span>) <span class="id">uv;</span> <span class="id">move:</span> <span class="id">ulv;</span> <span class="id">rewrite</span> <span class="id">uv</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltxx">ltxx</a></span>.<br/>
<span class="id">have</span> <span class="id">aux</span> <span class="id">a</span> <span class="id">c</span> <span class="id">b</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:368">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">I</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:370">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">I</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:368">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:369">c</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:369">c</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:370">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;(<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:368">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:369">c</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:368">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:370">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:369">c</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:370">b</a></span>) <span class="id">/\</span><br/>
&nbsp;&nbsp;&nbsp;(<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:369">c</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:370">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:368">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:370">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:368">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:369">c</a></span>).<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">aI</span> <span class="id">bI</span> <span class="id">aLc</span> <span class="id">cLb;</span> <span class="id">have</span> <span class="id">aLb</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_trans">lt_trans</a></span> <span class="id">aLc</span> <span class="id">cLb</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">cI</span> <span class="id">:</span> <span class="id">c</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">I</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#interval_is_interval">interval_is_interval</a></span> <span class="id">aI</span> <span class="id">bI</span>)<span class="id">//</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">aLc</span>)<span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">fanfb</span> <span class="id">:</span> <span class="id">f</span> <span class="id">a</span> <span class="id">!=</span> <span class="id">f</span> <span class="id">b</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> (<span class="id">fxy</span> <span class="id">f</span> <span class="id">fI</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">decr</span> <span class="id">:</span> <span class="id">f</span> <span class="id">b</span>  <span class="id">&lt;</span> <span class="id">f</span> <span class="id">a</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">f</span> <span class="id">b</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">f</span> <span class="id">c</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id">f</span> <span class="id">c</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">f</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">ofC</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> <span class="id">I],</span> <span class="id">continuous</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-f</a></span>)<span class="id">}</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">?;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_comp">continuous_comp;</a></span> <span class="id">[exact:</span> <span class="id">fC</span> <span class="id">|</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#continuousN">continuousN]</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">ofI</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id">I</span> &amp;<span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-f</a></span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">}</a></span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;&gt;</span> <span class="id">?</span> <span class="id">?</span> <span class="id">/oppr_inj/fI</span> <span class="id">-&gt;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.realfun.html#X:371">X</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_]</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span> (<span class="id">f</span> <span class="id">b</span>)) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrNl">ltrNl</a></span> <span class="id">=&gt;</span> <span class="id">ofaLofb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">:=</span> <span class="id">main</span> <span class="id">_</span> <span class="id">c</span> <span class="id">ofC</span> <span class="id">ofI</span> <span class="id">a</span> <span class="id">b</span> <span class="id">aI</span> <span class="id">bI</span> <span class="id">ofaLofb</span> <span class="id">aLc</span> <span class="id">cLb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> (<span class="id">do</span> <span class="id">2</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrNl">ltrNl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#and_comm">and_comm</a></span>.<br/>
&nbsp;&nbsp;<span class="id">split=&gt;</span> <span class="id">[faLfc|fcLfb]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">suff</span> <span class="id">L</span> <span class="id">:</span> <span class="id">f</span> <span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">f</span> <span class="id">b</span> <span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">[]</span> <span class="id">:=</span> <span class="id">main</span> <span class="id">f</span> <span class="id">c</span> <span class="id">fC</span> <span class="id">fI</span> <span class="id">a</span> <span class="id">b</span> <span class="id">aI</span> <span class="id">bI</span> <span class="id">L</span> <span class="id">aLc</span> <span class="id">cLb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.ltgtP">ltgtP</a></span> <span class="id">decr</span> <span class="id">fanfb</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">fbfa</span> <span class="id">[]//;</span> <span class="id">case:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.ltgtP">ltgtP</a></span> <span class="id">faLfc</span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span> <span class="id">L</span> <span class="id">:</span> <span class="id">f</span> <span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">f</span> <span class="id">b</span> <span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">[]</span> <span class="id">:=</span> <span class="id">main</span> <span class="id">f</span> <span class="id">c</span> <span class="id">fC</span> <span class="id">fI</span> <span class="id">a</span> <span class="id">b</span> <span class="id">aI</span> <span class="id">bI</span> <span class="id">L</span> <span class="id">aLc</span> <span class="id">cLb</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.ltgtP">ltgtP</a></span> <span class="id">decr</span> <span class="id">fanfb</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">fbfa</span> <span class="id">[]//;</span> <span class="id">case:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.ltgtP">ltgtP</a></span> <span class="id">fcLfb</span>.<br/>
<span class="id">have{main</span> <span class="id">fC}</span> <span class="id">whole</span> <span class="id">a</span> <span class="id">c</span> <span class="id">b</span> <span class="id">:=</span> <span class="id">main</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:373">c</a></span> <span class="id">fC</span> <span class="id">fI</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:372">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:374">b</a></span>.<br/>
<span class="id">have</span> <span class="id">low</span> <span class="id">a</span> <span class="id">c</span> <span class="id">b</span> <span class="id">:</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:375">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:376">c</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:375">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">I</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:377">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">I</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#a:375">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:376">c</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:376">c</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:377">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:375">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:377">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:376">c</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:377">b</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">L</span> <span class="id">aI</span> <span class="id">bI</span> <span class="id">ac</span> <span class="id">cb;</span> <span class="id">case:</span> (<span class="id">aux</span> <span class="id">a</span> <span class="id">c</span> <span class="id">b</span> <span class="id">aI</span> <span class="id">bI</span> <span class="id">ac</span> <span class="id">cb</span>)<span class="id">=&gt;</span> <span class="id">[/</span>(<span class="id">_</span> <span class="id">L</span>)<span class="id">]</span>.<br/>
<span class="id">have</span> <span class="id">high</span> <span class="id">a</span> <span class="id">c</span> <span class="id">b</span> <span class="id">:</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:379">c</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:380">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:378">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">I</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:380">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">I</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#a:378">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:379">c</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:379">c</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:380">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:378">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:380">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:378">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:379">c</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">L</span> <span class="id">aI</span> <span class="id">bI</span> <span class="id">ac</span> <span class="id">cb;</span> <span class="id">case:</span> (<span class="id">aux</span> <span class="id">a</span> <span class="id">c</span> <span class="id">b</span> <span class="id">aI</span> <span class="id">bI</span> <span class="id">ac</span> <span class="id">cb</span>)<span class="id">=&gt;</span> <span class="id">[_</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">L</span>)<span class="id">]</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.le_mono_in">le_mono_in</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">y</span> <span class="id">xI</span> <span class="id">yI</span> <span class="id">xLy</span>.<br/>
<span class="id">have</span> <span class="id">[uLx</span> <span class="id">|</span> <span class="id">xLu</span> <span class="id">|</span> <span class="id">xu]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrgtP">ltrgtP</a></span> <span class="id">u</span> <span class="id">x</span>.<br/>
<span class="id">-</span> <span class="id">suff</span> <span class="id">fuLfx</span> <span class="id">:</span> <span class="id">f</span> <span class="id">u</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">f</span> <span class="id">x</span> <span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">[]</span> <span class="id">:=</span> <span class="id">low</span> <span class="id">u</span> <span class="id">x</span> <span class="id">y</span> <span class="id">fuLfx</span> <span class="id">uI</span> <span class="id">yI</span> <span class="id">uLx</span> <span class="id">xLy</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[xLv</span> <span class="id">|</span> <span class="id">vLx</span> <span class="id">|</span> <span class="id">-&gt;</span> <span class="id">//]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrgtP">ltrgtP</a></span> <span class="id">x</span> <span class="id">v;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">case:</span> (<span class="id">whole</span> <span class="id">u</span> <span class="id">x</span> <span class="id">v</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case:</span> (<span class="id">low</span> <span class="id">u</span> <span class="id">v</span> <span class="id">x</span>).<br/>
<span class="id">-</span> <span class="id">have</span> <span class="id">fxLfu</span> <span class="id">:</span> <span class="id">f</span> <span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">f</span> <span class="id">u</span> <span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">[]</span> <span class="id">:=</span> <span class="id">high</span> <span class="id">x</span> <span class="id">u</span> <span class="id">v</span> <span class="id">fuLfv</span> <span class="id">xI</span> <span class="id">vI</span> <span class="id">xLu</span> <span class="id">ulv</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[yLu</span> <span class="id">|</span> <span class="id">uLy</span> <span class="id">|</span> <span class="id">-&gt;</span> <span class="id">//]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrgtP">ltrgtP</a></span> <span class="id">y</span> <span class="id">u;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">case:</span> (<span class="id">whole</span> <span class="id">x</span> <span class="id">y</span> <span class="id">u</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case:</span> (<span class="id">low</span> <span class="id">x</span> <span class="id">u</span> <span class="id">y</span>).<br/>
<span class="id">move:</span> <span class="id">xLy;</span> <span class="id">rewrite</span> <span class="id">-xu</span> <span class="id">=&gt;</span> <span class="id">uLy</span>.<br/>
<span class="id">have</span> <span class="id">[yLv</span> <span class="id">|</span> <span class="id">vLy</span> <span class="id">|</span> <span class="id">-&gt;</span> <span class="id">//]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrgtP">ltrgtP</a></span> <span class="id">y</span> <span class="id">v;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">case:</span> (<span class="id">whole</span> <span class="id">u</span> <span class="id">y</span> <span class="id">v</span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">case:</span> (<span class="id">low</span> <span class="id">u</span> <span class="id">v</span> <span class="id">y</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="itv_continuous_inj_ge" class="id"><a name="itv_continuous_inj_ge" class="">itv_continuous_inj_ge</a></span> <span id="f:381" class="id"><a name="f:381" class="">f</a></span> (<span id="I:382" class="id"><a name="I:382" class="">I</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#interval">interval</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">exists</span> <span id="x:383" class="id"><a name="x:383" class="">x</a></span> <span id="y:384" class="id"><a name="y:384" class="">y,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#554fc3f3cf0a27fe0863b7741d119014">[/\</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:383">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#I:382">I,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:384">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#I:382">I,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:383">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:384">y</a></span> &amp; <span class="id"><a href="mathcomp.analysis.realfun.html#f:381">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:384">y</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:381">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:383">x]</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#I:382">I],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:381">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#I:382">I</a></span> &amp;<span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:381">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#I:382">I</a></span> &amp;<span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#04245d0240efdac4719fcf73ee860591">{mono</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:381">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#04245d0240efdac4719fcf73ee860591">:</a></span> <span id="x:387" class="id"><span id="x:386" class="id"><a name="x:387" class="">x</a></span></span> <span id="y:388" class="id"><span id="y:385" class="id"><a name="y:388" class="">y</a></span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#04245d0240efdac4719fcf73ee860591">/~</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:386">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:385">y}}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof52')">Proof.</span></div>
<div class="proofscript" id="proof52">
<span class="id">move=&gt;</span> <span class="id">[a</span> <span class="id">[b</span> <span class="id">[aI</span> <span class="id">bI</span> <span class="id">ab</span> <span class="id">fbfa]]]</span> <span class="id">fC</span> <span class="id">fI</span> <span class="id">x</span> <span class="id">y</span> <span class="id">xI</span> <span class="id">yI</span>.<br/>
<span class="id">suff</span> <span class="id">:</span> (<span class="id">-</span> <span class="id">f</span>) <span class="id">y</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> (<span class="id">-</span> <span class="id">f</span>) <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id">y</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">x</span>) <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerNl">lerNl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_continuous_inj_le">itv_continuous_inj_le</a></span> <span class="id">xI</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">[|x1</span> <span class="id">x1I</span> <span class="id">|</span> <span class="id">x1</span> <span class="id">x2</span> <span class="id">x1I</span> <span class="id">x2I]</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">a,</span> <span class="id">b;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerNl">lerNl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply/continuousN/fC</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move/oppr_inj;</span> <span class="id">apply/fI</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="itv_continuous_inj_mono" class="id"><a name="itv_continuous_inj_mono" class="">itv_continuous_inj_mono</a></span> <span id="f:389" class="id"><a name="f:389" class="">f</a></span> (<span id="I:390" class="id"><a name="I:390" class="">I</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#interval">interval</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#I:390">I],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:389">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#I:390">I</a></span> &amp;<span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:389">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#monotonous">monotonous</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#I:390">I</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:389">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof53')">Proof.</span></div>
<div class="proofscript" id="proof53">
<span class="id">move=&gt;</span> <span class="id">fC</span> <span class="id">fI</span>.<br/>
<span class="id">case:</span> (<span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="gallina-kwd">exists</span> <span id="a:395" class="id"><span id="a:393" class="id"><span id="a:391" class="id"><a name="a:395" class="">a</a></span></span></span> <span id="b:396" class="id"><span id="b:394" class="id"><span id="b:392" class="id"><a name="b:396" class="">b,</a></span></span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681">[/\</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:391">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">I</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681">,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:392">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">I</span> &amp; <span class="id"><a href="mathcomp.analysis.realfun.html#a:391">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:392">b]</a></span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">N2I;</span> <span class="id">left</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">y</span> <span class="id">xI</span> <span class="id">yI;</span> <span class="id">suff</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">y</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">?lexx</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.boolp.html#contra_notP">contra_notP</a></span> <span class="id">N2I</span> <span class="id">=&gt;</span> <span class="id">/eqP;</span> <span class="id">case:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.ltgtP">ltgtP;</a></span> <span class="id">[exists</span> <span class="id">x,</span> <span class="id">y|exists</span> <span class="id">y,</span> <span class="id">x|]</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">[a</span> <span class="id">[b</span> <span class="id">[aI</span> <span class="id">bI</span> <span class="id">lt_ab]]]</span>.<br/>
<span class="id">have</span> <span class="id">/orP[faLfb|fbLfa]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.le_total">le_total</a></span> (<span class="id">f</span> <span class="id">a</span>) (<span class="id">f</span> <span class="id">b</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">left;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_continuous_inj_le">itv_continuous_inj_le</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="gallina-kwd">exists</span> <span class="id">a,</span> <span class="id">b;</span> <span class="id">rewrite</span> <span class="id">?faLfb</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">right;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_continuous_inj_ge">itv_continuous_inj_ge</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="gallina-kwd">exists</span> <span class="id">a,</span> <span class="id">b;</span> <span class="id">rewrite</span> <span class="id">?fbLfa</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="segment_continuous_inj_le" class="id"><a name="segment_continuous_inj_le" class="">segment_continuous_inj_le</a></span> <span id="f:397" class="id"><a name="f:397" class="">f</a></span> <span id="a:398" class="id"><a name="a:398" class="">a</a></span> <span id="b:399" class="id"><a name="b:399" class="">b</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#f:397">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:398">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:397">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:399">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:399">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:397">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:399">b]</a></span> &amp;<span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:397">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:399">b]</a></span> &amp;<span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#02b248fee5f27b186ea3a36733c25088">{mono</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:397">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#02b248fee5f27b186ea3a36733c25088">:</a></span> <span id="x:402" class="id"><span id="x:400" class="id"><a name="x:402" class="">x</a></span></span> <span id="y:403" class="id"><span id="y:401" class="id"><a name="y:403" class="">y</a></span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#02b248fee5f27b186ea3a36733c25088">/</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:400">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:401">y}}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof54')">Proof.</span></div>
<div class="proofscript" id="proof54">
<span class="id">move=&gt;</span> <span class="id">fafb</span> <span class="id">fct</span> <span class="id">finj;</span> <span class="id">have</span> <span class="id">[//|]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_continuous_inj_mono">itv_continuous_inj_mono</a></span> <span class="id">fct</span> <span class="id">finj</span>.<br/>
<span class="id">have</span> <span class="id">[aLb|bLa|&lt;-]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrgtP">ltrgtP</a></span> <span class="id">a</span> <span class="id">b;</span> <span class="id">first</span> <span class="id">1</span> <span class="id">last</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">_</span> <span class="id">x</span> <span class="id">?;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#itv_ge">itv_ge//</a></span> <span class="id">-ltNge</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">_</span> <span class="id">x</span> <span class="id">y</span> <span class="id">/itvxxP-&gt;</span> <span class="id">/itvxxP-&gt;;</span> <span class="id">rewrite</span> <span class="id">!lexx</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">a</span> <span class="id">b</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">!bound_itvE</span> <span class="id">fafb</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/</span>(<span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">aLb</span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">aLb</span>))<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_geF">lt_geF</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="segment_continuous_inj_ge" class="id"><a name="segment_continuous_inj_ge" class="">segment_continuous_inj_ge</a></span> <span id="f:404" class="id"><a name="f:404" class="">f</a></span> <span id="a:405" class="id"><a name="a:405" class="">a</a></span> <span id="b:406" class="id"><a name="b:406" class="">b</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#f:404">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:405">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#a3446a989be902579d41cbac1597f4cf">&gt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:404">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:406">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:406">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:404">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:406">b]</a></span> &amp;<span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:404">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:406">b]</a></span> &amp;<span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#04245d0240efdac4719fcf73ee860591">{mono</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:404">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#04245d0240efdac4719fcf73ee860591">:</a></span> <span id="x:409" class="id"><span id="x:408" class="id"><a name="x:409" class="">x</a></span></span> <span id="y:410" class="id"><span id="y:407" class="id"><a name="y:410" class="">y</a></span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#04245d0240efdac4719fcf73ee860591">/~</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:408">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:407">y}}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof55')">Proof.</span></div>
<div class="proofscript" id="proof55">
<span class="id">move=&gt;</span> <span class="id">fafb</span> <span class="id">fct</span> <span class="id">finj;</span> <span class="id">have</span> <span class="id">[|//]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_continuous_inj_mono">itv_continuous_inj_mono</a></span> <span class="id">fct</span> <span class="id">finj</span>.<br/>
<span class="id">have</span> <span class="id">[aLb|bLa|&lt;-]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrgtP">ltrgtP</a></span> <span class="id">a</span> <span class="id">b;</span> <span class="id">first</span> <span class="id">1</span> <span class="id">last</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">_</span> <span class="id">x</span> <span class="id">?;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#itv_ge">itv_ge//</a></span> <span class="id">-ltNge</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">_</span> <span class="id">x</span> <span class="id">y</span> <span class="id">/itvxxP-&gt;</span> <span class="id">/itvxxP-&gt;;</span> <span class="id">rewrite</span> <span class="id">!lexx</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">b</span> <span class="id">a</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">!bound_itvE</span> <span class="id">fafb</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/</span>(<span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">aLb</span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">aLb</span>))<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_geF">lt_geF</a></span>.<br/>
Qed.</div>
<br/>
<div class="doc">The condition "f a &lt;= f b" is unnecessary because the last
    interval condition is vacuously true otherwise. </div>
<span class="vernacular">Lemma</span> <span id="segment_can_le" class="id"><a name="segment_can_le" class="">segment_can_le</a></span> <span id="a:411" class="id"><a name="a:411" class="">a</a></span> <span id="b:412" class="id"><a name="b:412" class="">b</a></span> <span id="f:413" class="id"><a name="f:413" class="">f</a></span> <span id="g:414" class="id"><a name="g:414" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:411">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:412">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:412">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:413">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#8c08d4203604dbed63e7afa9b689d858">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:412">b],</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:413">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:414">g}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:411">a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:413">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:412">b]</a></span> &amp;<span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#02b248fee5f27b186ea3a36733c25088">{mono</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:414">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#02b248fee5f27b186ea3a36733c25088">:</a></span> <span id="x:417" class="id"><span id="x:415" class="id"><a name="x:417" class="">x</a></span></span> <span id="y:418" class="id"><span id="y:416" class="id"><a name="y:418" class="">y</a></span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#02b248fee5f27b186ea3a36733c25088">/</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:415">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:416">y}}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof56')">Proof.</span></div>
<div class="proofscript" id="proof56">
<span class="id">move=&gt;</span> <span class="id">aLb</span> <span class="id">ctf</span> <span class="id">fK;</span> <span class="id">have</span> <span class="id">[fbLfa</span> <span class="id">|</span> <span class="id">faLfb]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrP">ltrP</a></span> (<span class="id">f</span> <span class="id">b</span>) (<span class="id">f</span> <span class="id">a</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">y;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#itv_ge">itv_ge//</a></span> <span class="id">-ltNge</span>.<br/>
<span class="id">have</span> <span class="id">[aab</span> <span class="id">bab]</span> <span class="id">:</span> <span class="id">a</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id">b]</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id">b</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id">b]</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!bound_itvE</span>.<br/>
<span class="id">case:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.ltgtP">ltgtP</a></span> <span class="id">faLfb</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">[faLfb</span> <span class="id">_|-&gt;</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">/itvxxP-&gt;</span> <span class="id">/itvxxP-&gt;];</span> <span class="id">rewrite</span> <span class="id">?lexx//</span>.<br/>
<span class="id">have</span> <span class="id">lt_ab</span> <span class="id">:</span> <span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">b</span> <span class="gallina-kwd">by</span> <span class="id">case:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.ltgtP">ltgtP</a></span> <span class="id">a</span> <span class="id">b</span>) <span class="id">aLb</span> <span class="id">faLfb</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">-&gt;;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltxx">ltxx</a></span>.<br/>
<span class="id">have</span> <span class="id">w</span> <span class="id">:</span> <span class="gallina-kwd">exists</span> <span id="x:419" class="id"><a name="x:419" class="">x</a></span> <span id="y:420" class="id"><a name="y:420" class="">y,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#554fc3f3cf0a27fe0863b7741d119014">[/\</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:419">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id">b],</span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:420">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id">b],</span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:419">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:420">y</a></span> &amp; <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:419">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:420">y]</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">a,</span> <span class="id">b;</span> <span class="id">rewrite</span> <span class="id">!bound_itvE</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">faLfb</span>).<br/>
<span class="id">have</span> <span class="id">fle</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_continuous_inj_le">itv_continuous_inj_le</a></span> <span class="id">w</span> <span class="id">ctf</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#can_in_inj">can_in_inj</a></span> <span class="id">fK</span>).<br/>
<span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">y</span> <span class="id">xin</span> <span class="id">yin;</span> <span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#IVT">IVT</a></span> <span class="id">aLb</span> <span class="id">ctf</span>.<br/>
<span class="id">case:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrgtP">ltrgtP</a></span> (<span class="id">f</span> <span class="id">a</span>) (<span class="id">f</span> <span class="id">b</span>)) <span class="id">faLfb</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">_</span> <span class="id">_</span> <span class="id">ivt</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">[[u</span> <span class="id">uin</span> <span class="id">&lt;-]</span> <span class="id">[v</span> <span class="id">vin</span> <span class="id">&lt;-]]</span> <span class="id">:=</span> (<span class="id">ivt</span> <span class="id">_</span> <span class="id">xin,</span> <span class="id">ivt</span> <span class="id">_</span> <span class="id">yin</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">!fK//</span> <span class="id">!fle</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Section</span> <span id="real_inverse_functions.negation_itv" class="id"><a name="real_inverse_functions.negation_itv" class="">negation_itv</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Definition</span> <span id="itvN_oppr" class="id"><a name="itvN_oppr" class="">itvN_oppr</a></span> <span id="a:421" class="id"><a name="a:421" class="">a</a></span> <span id="b:422" class="id"><a name="b:422" class="">b</a></span> <span class="id">:=</span> @<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.opp">GRing.opp</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Lemma</span> <span id="itv_oppr_is_fun" class="id"><a name="itv_oppr_is_fun" class="">itv_oppr_is_fun</a></span> <span id="a:423" class="id"><a name="a:423" class="">a</a></span> <span id="b:424" class="id"><a name="b:424" class="">b</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#isFun">isFun</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:424">b,</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:423">a]</a></span>%<span class="id">classic</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:424">b]</a></span>%<span class="id">classic</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#itvN_oppr">itvN_oppr</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:423">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:424">b</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof57')">Proof.</span></div>
<div class="proofscript" id="proof57">
 <span class="gallina-kwd">by</span> <span class="id">split=&gt;</span> <span class="id">x</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#oppr_itvcc">oppr_itvcc</a></span>. Qed.</div>
<span id="realfun_itvN_oppr__canonical__functions_Fun" class="id"><span id="HB_unnamed_factory_2" class="id"><span id="real_inverse_functions.negation_itv.hb_instance_1.b" class="id"><span id="real_inverse_functions.negation_itv.hb_instance_1.a" class="id"><span id="real_inverse_functions.negation_itv.hb_instance_1" class="id"><a name="realfun_itvN_oppr__canonical__functions_Fun" class="hierarchy-builder">HB.instance</a></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="a:425" class="id"><a name="a:425" class="">a</a></span> <span id="b:426" class="id"><a name="b:426" class="">b</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_oppr_is_fun">itv_oppr_is_fun</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:425">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:426">b</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.negation_itv">negation_itv</a></span>.<br/>
<br/>
<div class="doc">The condition "f b &lt;= f a" is unnecessary---see seg...increasing above    </div>
<span class="vernacular">Lemma</span> <span id="segment_can_ge" class="id"><a name="segment_can_ge" class="">segment_can_ge</a></span> <span id="a:427" class="id"><a name="a:427" class="">a</a></span> <span id="b:428" class="id"><a name="b:428" class="">b</a></span> <span id="f:429" class="id"><a name="f:429" class="">f</a></span> <span id="g:430" class="id"><a name="g:430" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:427">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:428">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:428">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:429">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#8c08d4203604dbed63e7afa9b689d858">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:428">b],</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:429">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:430">g}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:428">b,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:429">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:427">a]</a></span> &amp;<span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#04245d0240efdac4719fcf73ee860591">{mono</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:430">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#04245d0240efdac4719fcf73ee860591">:</a></span> <span id="x:433" class="id"><span id="x:432" class="id"><a name="x:433" class="">x</a></span></span> <span id="y:434" class="id"><span id="y:431" class="id"><a name="y:434" class="">y</a></span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#04245d0240efdac4719fcf73ee860591">/~</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:432">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:431">y}}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof58')">Proof.</span></div>
<div class="proofscript" id="proof58">
<span class="id">move=&gt;</span> <span class="id">aLb</span> <span class="id">fC</span> <span class="id">fK</span> <span class="id">x</span> <span class="id">y</span> <span class="id">xfbfa</span> <span class="id">yfbfa;</span> <span class="id">rewrite</span> <span class="id">-lerN2</span>.<br/>
<span class="id">apply:</span> (@<span class="id"><a href="mathcomp.analysis.realfun.html#segment_can_le">segment_can_le</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id">b</span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id">a</span>) (<span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#a8ac36d488c8d5cdcfec5adcde894e5f">-</a></span>%<span class="id">R</span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id">g</span>))<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/=</span> <span class="id">?lerN2</span> <span class="id">?opprK</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">fun_neg</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#subspace">subspace</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[-b,-a]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#subspace">subspace</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[a,b]</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itvN_oppr">itvN_oppr</a></span> <span class="id">a</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">z;</span> <span class="id">apply:</span> (@<span class="id"><a href="mathcomp.analysis.topology.html#continuous_comp">continuous_comp</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#739e3f87af495186e77648f03c94dd88">[fun</a></span> <span class="id">of</span> <span class="id">fun_neg]</span>)<span class="id">;</span> <span class="id">last</span> <span class="id">exact:</span> <span class="id">fC</span>.<br/>
&nbsp;&nbsp;<span class="id">exact/subspaceT_continuous/continuous_subspaceT/opp_continuous</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">z</span> <span class="id">zab;</span> <span class="id">rewrite</span> <span class="id">-[-</span> <span class="id">g]/</span>(@<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.opp">GRing.opp</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id">g</span>)<span class="id">/=</span> <span class="id">fK</span> <span class="id">?opprK//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#oppr_itvcc">oppr_itvcc</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="segment_can_mono" class="id"><a name="segment_can_mono" class="">segment_can_mono</a></span> <span id="a:435" class="id"><a name="a:435" class="">a</a></span> <span id="b:436" class="id"><a name="b:436" class="">b</a></span> <span id="f:437" class="id"><a name="f:437" class="">f</a></span> <span id="g:438" class="id"><a name="g:438" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:435">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:436">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:436">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:437">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#8c08d4203604dbed63e7afa9b689d858">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:436">b],</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:437">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:438">g}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#monotonous">monotonous</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:437">f</a></span> @<span class="id">`[a,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:436">b]</a></span>) <span class="id"><a href="mathcomp.analysis.realfun.html#g:438">g</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof59')">Proof.</span></div>
<div class="proofscript" id="proof59">
<span class="id">move=&gt;</span> <span class="id">le_ab</span> <span class="id">fct</span> <span class="id">fK;</span> <span class="id">rewrite</span> <span class="id">/monotonous/=;</span> <span class="id">case:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrgtP">ltrgtP</a></span> <span class="id">=&gt;</span> <span class="id">fab;</span> <span class="id">[left|right</span>..<span class="id">];</span><br/>
&nbsp;&nbsp;<span class="id">do</span> <span class="id">?by</span> <span class="id">[apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#segment_can_le">segment_can_le|apply:</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#segment_can_ge">segment_can_ge]</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">y</span> <span class="id">/itvxxP&lt;-</span> <span class="id">/itvxxP&lt;-;</span> <span class="id">rewrite</span> <span class="id">!lexx</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="segment_continuous_surjective" class="id"><a name="segment_continuous_surjective" class="">segment_continuous_surjective</a></span> <span id="a:439" class="id"><a name="a:439" class="">a</a></span> <span id="b:440" class="id"><a name="b:440" class="">b</a></span> <span id="f:441" class="id"><a name="f:441" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:439">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:440">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:440">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:441">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:440">b]</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:441">f</a></span> @<span class="id">`[a,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:440">b]</a></span>) <span class="id"><a href="mathcomp.analysis.realfun.html#f:441">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof60')">Proof.</span></div>
<div class="proofscript" id="proof60">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?</span> <span class="id">fct</span> <span class="id">y/=</span> <span class="id">/IVT[]//</span> <span class="id">x;</span> <span class="gallina-kwd">exists</span> <span class="id">x</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="segment_continuous_le_surjective" class="id"><a name="segment_continuous_le_surjective" class="">segment_continuous_le_surjective</a></span> <span id="a:442" class="id"><a name="a:442" class="">a</a></span> <span id="b:443" class="id"><a name="b:443" class="">b</a></span> <span id="f:444" class="id"><a name="f:444" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:442">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:443">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:444">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:442">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:444">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:443">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:443">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:444">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:443">b]</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:442">a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:444">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:443">b]</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:444">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof61')">Proof.</span></div>
<div class="proofscript" id="proof61">
<span class="id">move=&gt;</span> <span class="id">le_ab</span> <span class="id">f_ab</span> <span class="id">/</span>(<span class="id"><a href="mathcomp.analysis.realfun.html#segment_continuous_surjective">segment_continuous_surjective</a></span> <span class="id">le_ab</span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.min_idPl">min_idPl</a></span> <span class="id">_</span>)<span class="id">//</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.max_idPr">max_idPr</a></span> <span class="id">_</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="segment_continuous_ge_surjective" class="id"><a name="segment_continuous_ge_surjective" class="">segment_continuous_ge_surjective</a></span> <span id="a:445" class="id"><a name="a:445" class="">a</a></span> <span id="b:446" class="id"><a name="b:446" class="">b</a></span> <span id="f:447" class="id"><a name="f:447" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:445">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:446">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:447">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:446">b</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:447">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:445">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:446">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:447">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:446">b]</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:446">b,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:447">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:445">a]</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:447">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof62')">Proof.</span></div>
<div class="proofscript" id="proof62">
<span class="id">move=&gt;</span> <span class="id">le_ab</span> <span class="id">f_ab</span> <span class="id">/</span>(<span class="id"><a href="mathcomp.analysis.realfun.html#segment_continuous_surjective">segment_continuous_surjective</a></span> <span class="id">le_ab</span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.min_idPr">min_idPr</a></span> <span class="id">_</span>)<span class="id">//</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.max_idPl">max_idPl</a></span> <span class="id">_</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="continuous_inj_image_segment" class="id"><a name="continuous_inj_image_segment" class="">continuous_inj_image_segment</a></span> <span id="a:448" class="id"><a name="a:448" class="">a</a></span> <span id="b:449" class="id"><a name="b:449" class="">b</a></span> <span id="f:450" class="id"><a name="f:450" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:448">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:449">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:449">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:450">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:449">b]</a></span> &amp;<span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:450">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#f:450">f</a></span> @<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:449">b]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:450">f</a></span> @<span class="id">`[a,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:449">b]</a></span>%<span class="id">classic</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof63')">Proof.</span></div>
<div class="proofscript" id="proof63">
<span class="id">move=&gt;</span> <span class="id">leab</span> <span class="id">fct</span> <span class="id">finj;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#mono_surj_image_segment">mono_surj_image_segment</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_continuous_inj_mono">itv_continuous_inj_mono</a></span>.<br/>
<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#segment_continuous_surjective">segment_continuous_surjective</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="continuous_inj_image_segmentP" class="id"><a name="continuous_inj_image_segmentP" class="">continuous_inj_image_segmentP</a></span> <span id="a:451" class="id"><a name="a:451" class="">a</a></span> <span id="b:452" class="id"><a name="b:452" class="">b</a></span> <span id="f:453" class="id"><a name="f:453" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:451">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:452">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:452">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:453">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:452">b]</a></span> &amp;<span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:453">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="y:454" class="id"><a name="y:454" class="">y,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#reflect">reflect</a></span> (<span class="gallina-kwd">exists2</span> <span id="x:456" class="id"><span id="x:455" class="id"><a name="x:456" class="">x,</a></span></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:455">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:452">b]</a></span> &amp; <span class="id"><a href="mathcomp.analysis.realfun.html#f:453">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:456">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:454">y</a></span>) (<span class="id"><a href="mathcomp.analysis.realfun.html#y:454">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:453">f</a></span> @<span class="id">`[a,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:452">b]</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof64')">Proof.</span></div>
<div class="proofscript" id="proof64">
<span class="id">move=&gt;</span> <span class="id">/continuous_inj_image_segment/[apply]/[apply]/predeqP</span> <span class="id">+</span> <span class="id">y</span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">y</span>) <span class="id">faby</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#equivP">equivP</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>)<span class="id">;</span> <span class="id">symmetry</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="segment_continuous_can_sym" class="id"><a name="segment_continuous_can_sym" class="">segment_continuous_can_sym</a></span> <span id="a:457" class="id"><a name="a:457" class="">a</a></span> <span id="b:458" class="id"><a name="b:458" class="">b</a></span> <span id="f:459" class="id"><a name="f:459" class="">f</a></span> <span id="g:460" class="id"><a name="g:460" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:457">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:458">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:458">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:459">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#8c08d4203604dbed63e7afa9b689d858">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:458">b],</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:459">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:460">g}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#8c08d4203604dbed63e7afa9b689d858">{in</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:459">f</a></span> @<span class="id">`[a,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:458">b],</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:460">g</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:459">f}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof65')">Proof.</span></div>
<div class="proofscript" id="proof65">
<span class="id">move=&gt;</span> <span class="id">aLb</span> <span class="id">ctf</span> <span class="id">fK;</span> <span class="id">have</span> <span class="id">g_mono</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#segment_can_mono">segment_can_mono</a></span> <span class="id">aLb</span> <span class="id">ctf</span> <span class="id">fK</span>.<br/>
<span class="id">have</span> <span class="id">f_mono</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_continuous_inj_mono">itv_continuous_inj_mono</a></span> <span class="id">ctf</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#can_in_inj">can_in_inj</a></span> <span class="id">fK</span>).<br/>
<span class="id">have</span> <span class="id">f_surj</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#segment_continuous_surjective">segment_continuous_surjective</a></span> <span class="id">aLb</span> <span class="id">ctf</span>.<br/>
<span class="id">have</span> <span class="id">fIP</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#mono_surj_image_segmentP">mono_surj_image_segmentP</a></span> <span class="id">aLb</span> <span class="id">f_mono</span> <span class="id">f_surj</span>.<br/>
<span class="id">suff:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#8c08d4203604dbed63e7afa9b689d858">{in</a></span> <span class="id">f</span> @<span class="id">`[a,</span> <span class="id">b],</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#0464b66a9c149dd6cf0212db00d53c7f">{on</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id">b],</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">g</span> &amp; <span class="id">f}}</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">gK</span> <span class="id">_</span> <span class="id">/fIP[x</span> <span class="id">xab</span> <span class="id">&lt;-];</span> <span class="id">rewrite</span> <span class="id">fK</span>.<br/>
<span class="id">have:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id">f</span> @<span class="id">`[a,</span> <span class="id">b]</span> &amp;<span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#e38c772360e667fae57a59ac5f1a2759">{on</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id">b]</span>  &amp;<span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">g}}</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">_</span> <span class="id">_</span> <span class="id">/fIP</span> <span class="id">[x</span> <span class="id">xab</span> <span class="id">&lt;-]</span> <span class="id">/fIP[y</span> <span class="id">yab</span> <span class="id">&lt;-];</span> <span class="id">rewrite</span> <span class="id">!fK//</span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">_</span> <span class="id">-&gt;</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/ssrbool</span>.<span class="id">inj_can_sym_in_on</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">xab;</span> <span class="id">rewrite</span> <span class="id">?fK</span> <span class="id">?mono_mem_image_segment</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="segment_continuous_le_can_sym" class="id"><a name="segment_continuous_le_can_sym" class="">segment_continuous_le_can_sym</a></span> <span id="a:461" class="id"><a name="a:461" class="">a</a></span> <span id="b:462" class="id"><a name="b:462" class="">b</a></span> <span id="f:463" class="id"><a name="f:463" class="">f</a></span> <span id="g:464" class="id"><a name="g:464" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:461">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:462">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:462">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:463">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#8c08d4203604dbed63e7afa9b689d858">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:462">b],</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:463">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:464">g}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#8c08d4203604dbed63e7afa9b689d858">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:461">a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:463">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:462">b],</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:464">g</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:463">f}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof66')">Proof.</span></div>
<div class="proofscript" id="proof66">
<span class="id">move=&gt;</span> <span class="id">aLb</span> <span class="id">fct</span> <span class="id">fK</span> <span class="id">x</span> <span class="id">xfafb;</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#segment_continuous_can_sym">segment_continuous_can_sym</a></span> <span class="id">aLb</span> <span class="id">fct</span> <span class="id">fK</span>).<br/>
<span class="id">have</span> <span class="id">:</span> <span class="id">f</span> <span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">f</span> <span class="id">b</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#itvP">itvP</a></span> <span class="id">xfafb</span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrgtP">ltrgtP</a></span> <span class="id">xfafb</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">-&gt;</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="segment_continuous_ge_can_sym" class="id"><a name="segment_continuous_ge_can_sym" class="">segment_continuous_ge_can_sym</a></span> <span id="a:465" class="id"><a name="a:465" class="">a</a></span> <span id="b:466" class="id"><a name="b:466" class="">b</a></span> <span id="f:467" class="id"><a name="f:467" class="">f</a></span> <span id="g:468" class="id"><a name="g:468" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:465">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:466">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:466">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:467">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#8c08d4203604dbed63e7afa9b689d858">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:466">b],</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:467">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:468">g}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#8c08d4203604dbed63e7afa9b689d858">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:466">b,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:467">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:465">a],</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:468">g</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:467">f}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof67')">Proof.</span></div>
<div class="proofscript" id="proof67">
<span class="id">move=&gt;</span> <span class="id">aLb</span> <span class="id">fct</span> <span class="id">fK</span> <span class="id">x</span> <span class="id">xfafb;</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#segment_continuous_can_sym">segment_continuous_can_sym</a></span> <span class="id">aLb</span> <span class="id">fct</span> <span class="id">fK</span>).<br/>
<span class="id">have</span> <span class="id">:</span> <span class="id">f</span> <span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#a3446a989be902579d41cbac1597f4cf">&gt;=</a></span> <span class="id">f</span> <span class="id">b</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#itvP">itvP</a></span> <span class="id">xfafb</span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrgtP">ltrgtP</a></span> <span class="id">xfafb</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">-&gt;</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="segment_inc_surj_continuous" class="id"><a name="segment_inc_surj_continuous" class="">segment_inc_surj_continuous</a></span> <span id="a:469" class="id"><a name="a:469" class="">a</a></span> <span id="b:470" class="id"><a name="b:470" class="">b</a></span> <span id="f:471" class="id"><a name="f:471" class="">f</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:470">b]</a></span> &amp;<span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#02b248fee5f27b186ea3a36733c25088">{mono</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:471">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#02b248fee5f27b186ea3a36733c25088">:</a></span> <span id="x:474" class="id"><span id="x:472" class="id"><a name="x:474" class="">x</a></span></span> <span id="y:475" class="id"><span id="y:473" class="id"><a name="y:475" class="">y</a></span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#02b248fee5f27b186ea3a36733c25088">/</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:472">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:473">y}}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:470">b]</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:469">a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:471">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:470">b]</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:471">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:470">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:471">f}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof68')">Proof.</span></div>
<div class="proofscript" id="proof68">
<span class="id">move=&gt;</span> <span class="id">fle</span> <span class="id">f_surj;</span> <span class="id">have</span> <span class="id">[f_inj</span> <span class="id">flt]</span> <span class="id">:=</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.inc_inj_in">inc_inj_in</a></span> <span class="id">fle,</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.leW_mono_in">leW_mono_in</a></span> <span class="id">fle</span>).<br/>
<span class="id">have</span> <span class="id">[aLb|bLa|]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.ltgtP">ltgtP</a></span> <span class="id">a</span> <span class="id">b;</span> <span class="id">first</span> <span class="id">last</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">-&gt;;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#set_itv1">set_itv1;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspace1">continuous_subspace1</a></span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspace_in">continuous_subspace_in</a></span> <span class="id">=&gt;</span> <span class="id">z</span> <span class="id">/set_mem</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv</a></span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/andP[/le_trans]</span> <span class="id">/[apply];</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.leNgt">leNgt</a></span> <span class="id">bLa</span>.<br/>
<span class="id">have</span> <span class="id">le_ab</span> <span class="id">:</span> <span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">b</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
<span class="id">have</span> <span class="id">[aab</span> <span class="id">bab]</span> <span class="id">:</span> <span class="id">a</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id">b]</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id">b</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id">b]</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!bound_itvE</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
<span class="id">have</span> <span class="id">fab</span> <span class="id">:</span> <span class="id">f</span> @<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[a,</a></span> <span class="id">b]</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[f</a></span> <span class="id">a,</span> <span class="id">f</span> <span class="id">b]</span>%<span class="id">classic</span> <span class="gallina-kwd">by</span> <span class="id">exact:inc_surj_image_segment</span>.<br/>
<span class="id">pose</span> <span class="id">g</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#pinv">pinv</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[a,</a></span> <span class="id">b]</span> <span class="id">f;</span> <span class="id">have</span> <span class="id">fK</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#8c08d4203604dbed63e7afa9b689d858">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id">b],</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">g}</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-[mem</span> <span class="id">_]mem_setE;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#pinvKV">pinvKV;</a></span> <span class="id">rewrite</span> <span class="id">!mem_setE</span>.<br/>
<span class="id">have</span> <span class="id">gK</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#8c08d4203604dbed63e7afa9b689d858">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[f</a></span> <span class="id">a,</span> <span class="id">f</span> <span class="id">b],</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">g</span> <span class="id">f}</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">z</span> <span class="id">zab;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#pinvK">pinvK//</a></span> <span class="id">fab</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
<span class="id">have</span> <span class="id">gle</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[f</a></span> <span class="id">a,</span> <span class="id">f</span> <span class="id">b]</span> &amp;<span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#02b248fee5f27b186ea3a36733c25088">{mono</a></span> <span class="id">g</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#02b248fee5f27b186ea3a36733c25088">:</a></span> <span id="x:478" class="id"><span id="x:476" class="id"><a name="x:478" class="">x</a></span></span> <span id="y:479" class="id"><span id="y:477" class="id"><a name="y:479" class="">y</a></span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#02b248fee5f27b186ea3a36733c25088">/</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:476">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:477">y}}</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#can_mono_in">can_mono_in</a></span> (<span class="id">fle</span>)<span class="id">;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">*;</span> <span class="id">rewrite</span> <span class="id">gK</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">z</span> <span class="id">zfab;</span> <span class="id">have</span> <span class="id">{zfab}</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[f</a></span> <span class="id">a,</span> <span class="id">f</span> <span class="id">b]</span>%<span class="id">classic</span> <span class="id">z</span> <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-fab</span> <span class="id">=&gt;</span> <span class="id">-[x</span> <span class="id">xab</span> <span class="id">&lt;-];</span> <span class="id">rewrite</span> <span class="id">fK</span>.<br/>
<span class="id">have</span> <span class="id">glt</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.leW_mono_in">leW_mono_in</a></span> <span class="id">gle</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspace_in">continuous_subspace_in</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">xab</span>.<br/>
<span class="id">have</span> <span class="id">xabcc</span> <span class="id">:</span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id">b]</span> <span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">xab;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_setE">mem_setE</a></span>.<br/>
<span class="id">have</span> <span class="id">fxab</span> <span class="id">:</span> <span class="id">f</span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[f</a></span> <span class="id">a,</span> <span class="id">f</span> <span class="id">b]</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">!fle</span>.<br/>
<span class="id">have</span> <span class="id">:=</span> <span class="id">xabcc;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv</a></span> <span class="id">//=</span> <span class="id">=&gt;</span> <span class="id">/andP</span> <span class="id">[ax</span> <span class="id">xb]</span>.<br/>
<span class="id">apply/cvgrPdist_lt</span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">/posnumP[e];</span> <span class="id">rewrite</span> <span class="id">!near_simpl;</span> <span class="id">near=&gt;</span> <span class="id">y</span>.<br/>
<span class="id">rewrite</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id">e</span>%<span class="id">:num</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#69c431a9c94f6f30a655bd7ddb59037b">/</a></span> <span class="id">2</span>%<span class="id">:R</span>))<span class="id">//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_pdivrMr">ltr_pdivrMr//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_pMr">ltr_pMr//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr1n">ltr1n</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_distlC">ler_distlC;</a></span> <span class="id">near:</span> <span class="id">y</span>.<br/>
<span class="id">pose</span> <span class="id">u</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Def.minr">minr</a></span> (<span class="id">f</span> <span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">e</span>%<span class="id">:num</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#69c431a9c94f6f30a655bd7ddb59037b">/</a></span> <span class="id">2</span>) (<span class="id">f</span> <span class="id">b</span>).<br/>
<span class="id">pose</span> <span class="id">l</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Def.maxr">maxr</a></span> (<span class="id">f</span> <span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">e</span>%<span class="id">:num</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#69c431a9c94f6f30a655bd7ddb59037b">/</a></span> <span class="id">2</span>) (<span class="id">f</span> <span class="id">a</span>).<br/>
<span class="id">have</span> <span class="id">ufab</span> <span class="id">:</span> <span class="id">u</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[f</a></span> <span class="id">a,</span> <span class="id">f</span> <span class="id">b]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!in_itv</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.le_minl">le_minl</a></span> <span class="id">?le_minr</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lexx">lexx</a></span> <span class="id">?fle</span> <span class="id">//</span> <span class="id">le_ab</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">orbT</a></span> <span class="id">?andbT</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_wpDr">ler_wpDr</a></span> <span class="id">//</span> <span class="id">fle</span>.<br/>
<span class="id">have</span> <span class="id">lfab</span> <span class="id">:</span> <span class="id">l</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[f</a></span> <span class="id">a,</span> <span class="id">f</span> <span class="id">b]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!in_itv/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.le_maxl">le_maxl</a></span> <span class="id">?le_maxr</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lexx">lexx</a></span> <span class="id">?fle//</span> <span class="id">le_ab</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">orbT</a></span> <span class="id">?andbT</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerBlDr">lerBlDr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_wpDr">ler_wpDr//</a></span> <span class="id">fle</span> <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lexx">lexx</a></span>.<br/>
<span class="id">have</span> <span class="id">guab</span> <span class="id">:</span> <span class="id">g</span> <span class="id">u</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id">b]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!in_itv;</span> <span class="id">apply/andP;</span> <span class="id">split;</span> <span class="id">have</span> <span class="id">:=</span> <span class="id">ufab;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv</a></span> <span class="id">=&gt;</span> <span class="id">/andP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case;</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id">-[f</span> <span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">_]gle</span> <span class="id">//</span> <span class="id">?fK</span> <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#bound_itvE">bound_itvE</a></span> <span class="id">fle</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case</span> <span class="id">=&gt;</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id">-[_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">f</span> <span class="id">_]gle</span> <span class="id">//</span> <span class="id">?fK</span> <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#bound_itvE">bound_itvE</a></span> <span class="id">fle</span>.<br/>
<span class="id">have</span> <span class="id">glab</span> <span class="id">:</span> <span class="id">g</span> <span class="id">l</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id">b]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!in_itv;</span> <span class="id">apply/andP;</span> <span class="id">split;</span> <span class="id">have</span> <span class="id">:=</span> <span class="id">lfab;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv</a></span> <span class="id">/=</span> <span class="id">=&gt;</span> <span class="id">/andP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case;</span> <span class="id">rewrite</span> <span class="id">-[f</span> <span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">_]gle</span> <span class="id">//</span> <span class="id">?fK</span> <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#bound_itvE">bound_itvE</a></span> <span class="id">fle</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case</span> <span class="id">=&gt;</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id">-[_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">f</span> <span class="id">_]gle</span> <span class="id">//</span> <span class="id">?fK</span> <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#bound_itvE">bound_itvE</a></span> <span class="id">fle</span>.<br/>
<span class="id">have</span> <span class="id">faltu</span> <span class="id">:</span> <span class="id">f</span> <span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">u</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/u</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.comparable_lt_minr">comparable_lt_minr</a></span> <span class="id">?real_comparable</span> <span class="id">?num_real//</span> <span class="id">flt//</span> <span class="id">aLb</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id">f</span> <span class="id">x</span>)) <span class="id">?fle//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrDl">ltrDl</a></span>.<br/>
<span class="id">have</span> <span class="id">lltfb</span> <span class="id">:</span> <span class="id">l</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">f</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/u</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.comparable_lt_maxl">comparable_lt_maxl</a></span> <span class="id">?real_comparable</span> <span class="id">?num_real//</span> <span class="id">flt//</span> <span class="id">aLb</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id">f</span> <span class="id">x</span>)) <span class="id">?fle//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrBlDr">ltrBlDr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrDl">ltrDl</a></span>.<br/>
<span class="id">case:</span> <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#near_withinE">near_withinE;</a></span> <span class="id">near_simpl</span>.<br/>
<span class="id">have</span> <span class="id">Fnbhs</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#Filter">Filter</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#nbhs">nbhs</a></span> <span class="id">x</span>) <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#nbhs_filter">nbhs_filter</a></span>.<br/>
<span class="id">have</span> <span class="id">:=</span> <span class="id">ax;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt</a></span> <span class="id">=&gt;</span> <span class="id">/orP[/eqP|]</span> <span class="id">{}ax</span>.<br/>
&nbsp;&nbsp;<span class="id">near=&gt;</span> <span class="id">y</span> <span class="id">=&gt;</span> <span class="id">/[dup]</span> <span class="id">yab;</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv</a></span> <span class="id">=&gt;</span> <span class="id">/andP[ay</span> <span class="id">yb];</span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id">f</span> <span class="id">a</span>)) <span class="id">?fle//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerBlDr">lerBlDr</a></span> <span class="id">ax</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_wpDr">ler_wpDr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW;</a></span> <span class="id">suff</span> <span class="id">:</span> <span class="id">f</span> <span class="id">y</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">u</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.lt_minr">lt_minr</a></span> <span class="id">=&gt;</span> <span class="id">/andP[-&gt;]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-?[f</span> <span class="id">y</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">_]glt//</span> <span class="id">?fK//;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv</a></span> <span class="id">/=</span> <span class="id">!fle</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">y;</span> <span class="id">near_simpl;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#open_lt">open_lt;</a></span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id">-flt</span> <span class="id">?gK//</span> <span class="id">-ax</span>.<br/>
<span class="id">have</span> <span class="id">:=</span> <span class="id">xb;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt</a></span> <span class="id">=&gt;</span> <span class="id">/orP[/eqP</span> <span class="id">{}xb</span> <span class="id">{ax}|{}xb]</span>.<br/>
&nbsp;&nbsp;<span class="id">near=&gt;</span> <span class="id">y</span> <span class="id">=&gt;</span> <span class="id">/[dup]</span> <span class="id">yab;</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv</a></span> <span class="id">/=</span> <span class="id">=&gt;</span> <span class="id">/andP[ay</span> <span class="id">yb]</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/andP;</span> <span class="id">split;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id">f</span> <span class="id">b</span>)) <span class="id">?fle//</span> <span class="id">xb</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_wpDr">ler_wpDr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW;</a></span> <span class="id">suff</span> <span class="id">:</span> <span class="id">l</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">f</span> <span class="id">y</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.lt_maxl">lt_maxl</a></span> <span class="id">=&gt;</span> <span class="id">/andP[-&gt;]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-?[_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">f</span> <span class="id">y]glt//</span> <span class="id">?fK//;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv</a></span> <span class="id">/=</span> <span class="id">!fle</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">y;</span> <span class="id">near_simpl;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#open_gt">open_gt;</a></span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id">-flt//</span> <span class="id">gK//</span> <span class="id">xb</span>.<br/>
<span class="id">have</span> <span class="id">xoab</span> <span class="id">:</span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#ebff9f8c4fe58806999ff1c12ccee445">`]a,</a></span> <span class="id">b[</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv</a></span> <span class="id">/=;</span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
<span class="id">near=&gt;</span> <span class="id">y;</span> <span class="id">suff:</span> <span class="id">l</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#5285549f1bd0c3f181a17cc59d549bc0">&lt;=</a></span> <span class="id">f</span> <span class="id">y</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#5285549f1bd0c3f181a17cc59d549bc0">&lt;=</a></span> <span class="id">u</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.le_maxl">le_maxl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.le_minr">le_minr</a></span> <span class="id">-!andbA</span> <span class="id">=&gt;</span> <span class="id">/and4P[-&gt;</span> <span class="id">_</span> <span class="id">-&gt;]</span>.<br/>
<span class="id">have</span> <span class="id">?</span> <span class="id">:</span> <span class="id">y</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id">b]</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#subset_itv_oo_cc">subset_itv_oo_cc;</a></span> <span class="id">near:</span> <span class="id">y;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#near_in_itv">near_in_itv</a></span>.<br/>
<span class="id">have</span> <span class="id">fyab</span> <span class="id">:</span> <span class="id">f</span> <span class="id">y</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[f</a></span> <span class="id">a,</span> <span class="id">f</span> <span class="id">b]</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">!fle//</span> <span class="id">?ltW</span>.<br/>
<span class="id">rewrite</span> <span class="id">-[l</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">_]gle</span> <span class="id">-?[_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">u]gle//</span> <span class="id">?fK</span> <span class="id">//</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#subset_itv_oo_cc">subset_itv_oo_cc;</a></span> <span class="id">near:</span> <span class="id">y;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#near_in_itv">near_in_itv;</a></span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv</a></span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">-[x]fK</span> <span class="id">//</span> <span class="id">!glt//=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.lt_minr">lt_minr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.lt_maxl">lt_maxl</a></span> <span class="id">?andbT</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrBlDr">ltrBlDr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_pwDr">ltr_pwDr</a></span> <span class="id">//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/and3P;</span> <span class="id">split;</span> <span class="id">rewrite</span> <span class="id">//</span> <span class="id">flt</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="segment_dec_surj_continuous" class="id"><a name="segment_dec_surj_continuous" class="">segment_dec_surj_continuous</a></span> <span id="a:480" class="id"><a name="a:480" class="">a</a></span> <span id="b:481" class="id"><a name="b:481" class="">b</a></span> <span id="f:482" class="id"><a name="f:482" class="">f</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:481">b]</a></span> &amp;<span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#04245d0240efdac4719fcf73ee860591">{mono</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:482">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#04245d0240efdac4719fcf73ee860591">:</a></span> <span id="x:485" class="id"><span id="x:484" class="id"><a name="x:485" class="">x</a></span></span> <span id="y:486" class="id"><span id="y:483" class="id"><a name="y:486" class="">y</a></span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#04245d0240efdac4719fcf73ee860591">/~</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:484">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:483">y}}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:481">b]</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:481">b,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:482">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:480">a]</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:482">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:481">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:482">f}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof69')">Proof.</span></div>
<div class="proofscript" id="proof69">
<span class="id">move=&gt;</span> <span class="id">fge</span> <span class="id">f_surj;</span> <span class="id">suff:</span> <span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[a,</a></span> <span class="id">b],</span> <span class="id">continuous</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id">f</span>)<span class="id">}</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">contNf</span> <span class="id">x</span> <span class="id">xab;</span> <span class="id">rewrite</span> <span class="id">-[f]opprK</span>.<br/>
&nbsp;&nbsp;<span class="id">exact/continuous_comp/opp_continuous/contNf</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#segment_inc_surj_continuous">segment_inc_surj_continuous</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">y</span> <span class="id">xab</span> <span class="id">yab;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerN2">lerN2</a></span> <span class="id">fge</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">-oppr_itvcc</span> <span class="id">=&gt;</span> <span class="id">/f_surj[x</span> <span class="id">?</span> <span class="id">/</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#canLR">canLR</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span>)<span class="id">&lt;-];</span> <span class="gallina-kwd">exists</span> <span class="id">x</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="segment_mono_surj_continuous" class="id"><a name="segment_mono_surj_continuous" class="">segment_mono_surj_continuous</a></span> <span id="a:487" class="id"><a name="a:487" class="">a</a></span> <span id="b:488" class="id"><a name="b:488" class="">b</a></span> <span id="f:489" class="id"><a name="f:489" class="">f</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#monotonous">monotonous</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:488">b]</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:489">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:488">b]</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:489">f</a></span> @<span class="id">`[a,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:488">b]</a></span>) <span class="id"><a href="mathcomp.analysis.realfun.html#f:489">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:488">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:489">f}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof70')">Proof.</span></div>
<div class="proofscript" id="proof70">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspace_in">continuous_subspace_in</a></span> <span class="id">=&gt;</span> <span class="id">-[fle|fge]</span> <span class="id">f_surj</span> <span class="id">x</span> <span class="id">/set_mem</span> <span class="id">/=</span> <span class="id">xab</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">leab</span> <span class="id">:</span> <span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">b</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#itvP">itvP</a></span> <span class="id">xab</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">fafb</span> <span class="id">:</span> <span class="id">f</span> <span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">f</span> <span class="id">b</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">fle</span> <span class="id">//</span> <span class="id">?bound_itvE</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#segment_inc_surj_continuous">segment_inc_surj_continuous</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">case:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrP">ltrP</a></span> <span class="id">f_surj</span> <span class="id">fafb</span>.<br/>
<span class="id">have</span> <span class="id">leab</span> <span class="id">:</span> <span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">b</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#itvP">itvP</a></span> <span class="id">xab</span>).<br/>
<span class="id">have</span> <span class="id">fafb</span> <span class="id">:</span> <span class="id">f</span> <span class="id">b</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">f</span> <span class="id">a</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">fge</span> <span class="id">//</span> <span class="id">?bound_itvE</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#segment_dec_surj_continuous">segment_dec_surj_continuous</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">case:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrP">ltrP</a></span> <span class="id">f_surj</span> <span class="id">fafb</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="segment_can_le_continuous" class="id"><a name="segment_can_le_continuous" class="">segment_can_le_continuous</a></span> <span id="a:490" class="id"><a name="a:490" class="">a</a></span> <span id="b:491" class="id"><a name="b:491" class="">b</a></span> <span id="f:492" class="id"><a name="f:492" class="">f</a></span> <span id="g:493" class="id"><a name="g:493" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:490">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:491">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:491">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:492">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#8c08d4203604dbed63e7afa9b689d858">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:491">b],</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:492">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:493">g}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[</a></span>(<span class="id"><a href="mathcomp.analysis.realfun.html#f:492">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:490">a</a></span>)<span class="id">,</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:492">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:491">b</a></span>)<span class="id">],</span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:493">g}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof71')">Proof.</span></div>
<div class="proofscript" id="proof71">
<span class="id">move=&gt;</span> <span class="id">aLb</span> <span class="id">ctf;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspace_in">continuous_subspace_in</a></span> <span class="id">=&gt;</span> <span class="id">fK</span> <span class="id">x</span> <span class="id">/set_mem</span> <span class="id">/=</span> <span class="id">xab</span>.<br/>
<span class="id">have</span> <span class="id">faLfb</span> <span class="id">:</span> <span class="id">f</span> <span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">f</span> <span class="id">b</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#itvP">itvP</a></span> <span class="id">xab</span>).<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#segment_inc_surj_continuous">segment_inc_surj_continuous;</a></span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#segment_can_le">segment_can_le</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">!fK</span> <span class="id">?bound_itvE//=;</span> <span class="id">apply:</span> (@<span class="id"><a href="mathcomp.classical.functions.html#can_surj">can_surj</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span>)<span class="id">;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_setE">mem_setE</a></span>.<br/>
<span class="id">exact/image_subP/mem_inc_segment/segment_continuous_inj_le/</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#can_in_inj">can_in_inj</a></span> <span class="id">fK</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="segment_can_ge_continuous" class="id"><a name="segment_can_ge_continuous" class="">segment_can_ge_continuous</a></span> <span id="a:494" class="id"><a name="a:494" class="">a</a></span> <span id="b:495" class="id"><a name="b:495" class="">b</a></span> <span id="f:496" class="id"><a name="f:496" class="">f</a></span> <span id="g:497" class="id"><a name="g:497" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:494">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:495">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:495">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:496">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#8c08d4203604dbed63e7afa9b689d858">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:495">b],</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:496">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:497">g}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[</a></span>(<span class="id"><a href="mathcomp.analysis.realfun.html#f:496">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:495">b</a></span>)<span class="id">,</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:496">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:494">a</a></span>)<span class="id">],</span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:497">g}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof72')">Proof.</span></div>
<div class="proofscript" id="proof72">
<span class="id">move=&gt;</span> <span class="id">aLb</span> <span class="id">ctf;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspace_in">continuous_subspace_in</a></span> <span class="id">=&gt;</span> <span class="id">fK</span> <span class="id">x</span> <span class="id">/set_mem</span> <span class="id">/=</span> <span class="id">xab</span>.<br/>
<span class="id">have</span> <span class="id">fbLfa</span> <span class="id">:</span> <span class="id">f</span> <span class="id">b</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">f</span> <span class="id">a</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#itvP">itvP</a></span> <span class="id">xab</span>).<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#segment_dec_surj_continuous">segment_dec_surj_continuous;</a></span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#segment_can_ge">segment_can_ge</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">!fK</span> <span class="id">?bound_itvE//=;</span> <span class="id">apply:</span> (@<span class="id"><a href="mathcomp.classical.functions.html#can_surj">can_surj</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span>)<span class="id">;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_setE">mem_setE</a></span>.<br/>
<span class="id">exact/image_subP/mem_dec_segment/segment_continuous_inj_ge/</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#can_in_inj">can_in_inj</a></span> <span class="id">fK</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="segment_can_continuous" class="id"><a name="segment_can_continuous" class="">segment_can_continuous</a></span> <span id="a:498" class="id"><a name="a:498" class="">a</a></span> <span id="b:499" class="id"><a name="b:499" class="">b</a></span> <span id="f:500" class="id"><a name="f:500" class="">f</a></span> <span id="g:501" class="id"><a name="g:501" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:498">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:499">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:499">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:500">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#8c08d4203604dbed63e7afa9b689d858">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:499">b],</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:500">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:501">g}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:500">f</a></span> @<span class="id">`[a,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:499">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:501">g}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof73')">Proof.</span></div>
<div class="proofscript" id="proof73">
<span class="id">move=&gt;</span> <span class="id">aLb</span> <span class="id">crf</span> <span class="id">fK</span> <span class="id">x;</span> <span class="id">case:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerP">lerP</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">_;</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">[apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#segment_can_ge_continuous">segment_can_ge_continuous|apply:</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#segment_can_le_continuous">segment_can_le_continuous]</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="near_can_continuousAcan_sym" class="id"><a name="near_can_continuousAcan_sym" class="">near_can_continuousAcan_sym</a></span> <span id="f:502" class="id"><a name="f:502" class="">f</a></span> <span id="g:503" class="id"><a name="g:503" class="">g</a></span> (<span id="x:504" class="id"><a name="x:504" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#5b88bba1a0d3085b56928b27b84bfd97">{near</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:504">x,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:502">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:503">g}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#5b88bba1a0d3085b56928b27b84bfd97">{near</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:504">x,</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:502">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#5b88bba1a0d3085b56928b27b84bfd97">{near</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:502">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:504">x,</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:503">g}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#5b88bba1a0d3085b56928b27b84bfd97">{near</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:502">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:504">x,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:503">g</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:502">f}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof74')">Proof.</span></div>
<div class="proofscript" id="proof74">
<span class="id">move=&gt;</span> <span class="id">fK</span> <span class="id">fct;</span> <span class="id">near</span> (<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>)<span class="id">^'+</span> <span class="id">=&gt;</span> <span class="id">e;</span> <span class="id">have</span> <span class="id">e_gt0</span> <span class="id">:</span> <span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">e</span> <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
<span class="id">have</span> <span class="id">xBeLxDe</span> <span class="id">:</span> <span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">e</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">e</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerD2l">lerD2l</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.gt0_cp">gt0_cp</a></span>.<br/>
<span class="id">have</span> <span class="id">fcte</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#8c08d4203604dbed63e7afa9b689d858">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">e,</span> <span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">e],</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">f}</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">e;</span> <span class="id">apply/at_right_in_segment</span>.<br/>
<span class="id">have</span> <span class="id">fwcte</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">e,</span> <span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">e],</span> <span class="id">continuous</span> <span class="id">f}</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_in_subspaceT">continuous_in_subspaceT</a></span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">yI</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id">fcte;</span> <span class="id">move/set_mem:</span> <span class="id">yI</span>.<br/>
<span class="id">have</span> <span class="id">fKe</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#8c08d4203604dbed63e7afa9b689d858">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">e,</span> <span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">e],</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">g}</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">e;</span> <span class="id">apply/at_right_in_segment</span>.<br/>
<span class="id">have</span> <span class="id">nearfx</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#be9d045413b70f39126ce7af3de2a77f">\forall</a></span> <span id="y:505" class="id"><a name="y:505" class="">y</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#be9d045413b70f39126ce7af3de2a77f">\near</a></span> <span class="id">f</span> <span class="id">x,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:505">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">f</span> @<span class="id">`]</span>(<span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">e</span>)<span class="id">,</span> (<span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">e</span>)<span class="id">[</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#near_in_itv">near_in_itv;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#mono_mem_image_itvoo">mono_mem_image_itvoo;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">-ltr_distlC</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subrr">subrr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.normr0">normr0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_continuous_inj_mono">itv_continuous_inj_mono</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> (@<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#can_in_inj">can_in_inj</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">g</span>)<span class="id">;</span> <span class="id">near:</span> <span class="id">e;</span> <span class="id">apply/at_right_in_segment</span>.<br/>
<span class="id">have</span> <span class="id">fxI</span> <span class="id">:</span> <span class="id">f</span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">f</span> @<span class="id">`]x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">e,</span> <span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">e[</span> <span class="gallina-kwd">by</span> <span class="id">exact:</span> (<span class="id"><a href="mathcomp.analysis.topology.html#nbhs_singleton">nbhs_singleton</a></span> <span class="id">nearfx</span>).<br/>
<span class="id">split;</span> <span class="id">near=&gt;</span> <span class="id">y;</span> <span class="id">first</span> <span class="id">last</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (@<span class="id"><a href="mathcomp.analysis.realfun.html#segment_continuous_can_sym">segment_continuous_can_sym</a></span> (<span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">e</span>) (<span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">e</span>))<span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#subset_itv_oo_cc">subset_itv_oo_cc;</a></span> <span class="id">near:</span> <span class="id">y</span>.<br/>
<span class="id">near:</span> <span class="id">y;</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.topology.html#filter_app">filter_app</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">nearfx</span>)<span class="id">;</span> <span class="id">near_simpl;</span> <span class="id">near=&gt;</span> <span class="id">y</span> <span class="id">=&gt;</span> <span class="id">yfe</span>.<br/>
<span class="id">have</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id">f</span> @<span class="id">`]x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">e,</span> (<span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">e</span>)<span class="id">[,</span> <span class="id">continuous</span> <span class="id">g}</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspaceW">continuous_subspaceW;</a></span> <span class="id">last</span> <span class="id">exact:</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#segment_can_continuous">segment_can_continuous</a></span> <span class="id">_</span> <span class="id">fwcte</span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#subset_itv_oo_cc">subset_itv_oo_cc</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_open_subspace">continuous_open_subspace;</a></span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">apply;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>.<br/>
<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#interval_open">interval_open</a></span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="near_can_continuous" class="id"><a name="near_can_continuous" class="">near_can_continuous</a></span> <span id="f:506" class="id"><a name="f:506" class="">f</a></span> <span id="g:507" class="id"><a name="g:507" class="">g</a></span> (<span id="x:508" class="id"><a name="x:508" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#5b88bba1a0d3085b56928b27b84bfd97">{near</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:508">x,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:506">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:507">g}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#5b88bba1a0d3085b56928b27b84bfd97">{near</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:508">x,</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:506">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#5b88bba1a0d3085b56928b27b84bfd97">{near</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:506">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:508">x,</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:507">g}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof75')">Proof.</span></div>
<div class="proofscript" id="proof75">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">fK</span> <span class="id">fct;</span> <span class="id">have</span> <span class="id">[]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#near_can_continuousAcan_sym">near_can_continuousAcan_sym</a></span> <span class="id">fK</span> <span class="id">fct</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="near_continuous_can_sym" class="id"><a name="near_continuous_can_sym" class="">near_continuous_can_sym</a></span> <span id="f:509" class="id"><a name="f:509" class="">f</a></span> <span id="g:510" class="id"><a name="g:510" class="">g</a></span> (<span id="x:511" class="id"><a name="x:511" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#5b88bba1a0d3085b56928b27b84bfd97">{near</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:511">x,</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:509">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#5b88bba1a0d3085b56928b27b84bfd97">{near</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:511">x,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:509">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:510">g}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#5b88bba1a0d3085b56928b27b84bfd97">{near</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:509">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:511">x,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:510">g</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:509">f}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof76')">Proof.</span></div>
<div class="proofscript" id="proof76">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">fct</span> <span class="id">fK;</span> <span class="id">have</span> <span class="id">[]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#near_can_continuousAcan_sym">near_can_continuousAcan_sym</a></span> <span class="id">fK</span> <span class="id">fct</span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions">real_inverse_functions</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="real_inverse_function_instances" class="id"><a name="real_inverse_function_instances" class="">real_inverse_function_instances</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="real_inverse_function_instances.R" class="id"><a name="real_inverse_function_instances.R" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="exprn_continuous" class="id"><a name="exprn_continuous" class="">exprn_continuous</a></span> <span id="n:513" class="id"><a name="n:513" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.exp">GRing.exp</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_function_instances.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:513">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof77')">Proof.</span></div>
<div class="proofscript" id="proof77">
<span class="id">move=&gt;</span> <span class="id">x;</span> <span class="id">elim:</span> <span class="id">n=&gt;</span> <span class="id">[|n</span> <span class="id">/</span>(<span class="id"><a href="mathcomp.analysis.normedtype.html#continuousM">continuousM</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_id">cvg_id</a></span>) <span class="id">ih];</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cst_continuous">cst_continuous</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/continuous_at</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.exprS">exprS;</a></span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.exprS">exprS;</a></span> <span class="id">exact:</span> <span class="id">ih</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="sqr_continuous" class="id"><a name="sqr_continuous" class="">sqr_continuous</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrint.html#exprz">exprz</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_function_instances.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id">2</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof78')">Proof.</span></div>
<div class="proofscript" id="proof78">
 <span class="id">exact:</span> (@<span class="id"><a href="mathcomp.analysis.realfun.html#exprn_continuous">exprn_continuous</a></span> <span class="id">2</span>%<span class="id">N</span>). Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="sqrt_continuous" class="id"><a name="sqrt_continuous" class="">sqrt_continuous</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.sqrt">Num.sqrt</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_function_instances.R">R</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof79')">Proof.</span></div>
<div class="proofscript" id="proof79">
<span class="id">move=&gt;</span> <span class="id">x;</span> <span class="id">case:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrgtP">ltrgtP</a></span> <span class="id">x</span> <span class="id">0</span>) <span class="id">=&gt;</span> <span class="id">[xlt0</span> <span class="id">|</span> <span class="id">xgt0</span> <span class="id">|</span> <span class="id">-&gt;]</span>.<br/>
<span class="id">-</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.topology.html#near_cst_continuous">near_cst_continuous</a></span> <span class="id">0</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">near</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr0_sqrtr">ltr0_sqrtr//;</a></span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgr_lt">cvgr_lt</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">I</span> <span id="b:515" class="id"><span id="b:514" class="id"><a name="b:515" class="">b</a></span></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_function_instances.R">R</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#ebff9f8c4fe58806999ff1c12ccee445">`]0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#663140372ac3b275aae871b74b140513">^+</a></span> <span class="id">2,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:515">b</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#663140372ac3b275aae871b74b140513">^+</a></span> <span class="id">2[]</span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span> <span class="id">main</span> <span class="id">b</span> <span class="id">:</span> <span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:516">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#8c08d4203604dbed63e7afa9b689d858">{in</a></span> <span class="id">I</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:516">b,</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.sqrt">Num.sqrt</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_function_instances.R">R</a></span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#8c08d4203604dbed63e7afa9b689d858">}</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">near</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#3ece2e46754a1b8512f94af2cae10564">+oo_R</a></span> <span class="id">=&gt;</span> <span class="id">M;</span> <span class="id">apply:</span> (<span class="id">main</span> <span class="id">M</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">//</span> <span class="id">/I</span> <span class="id">!inE/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.expr0n">expr0n</a></span> <span class="id">xgt0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-ltr_sqrt</span> <span class="id">?exprn_gt0//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.sqrtr_sqr">sqrtr_sqr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.gtr0_norm">gtr0_norm/=</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">b0;</span> <span class="id">rewrite</span> <span class="id">-continuous_open_subspace;</span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#interval_open">interval_open</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspaceW">continuous_subspaceW;</a></span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#subset_itv_oo_cc">subset_itv_oo_cc</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> (@<span class="id"><a href="mathcomp.analysis.realfun.html#segment_can_le_continuous">segment_can_le_continuous</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.exp">GRing.exp</a></span> <span class="id">_^~</span> <span class="id">_</span>)) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspaceT">continuous_subspaceT;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#exprn_continuous">exprn_continuous</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">y0b;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.sqrtr_sqr">sqrtr_sqr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ger0_norm">ger0_norm//</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#itvP">itvP</a></span> <span class="id">y0b</span>).<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id">/continuous_at</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.sqrtr0">sqrtr0;</a></span> <span class="id">apply/cvgr0Pnorm_lt</span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">/posnumP[e];</span> <span class="id">near=&gt;</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[ylt0|yge0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrP">ltrP</a></span> <span class="id">y</span> <span class="id">0;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr0_sqrtr">ltr0_sqrtr</a></span> <span class="id">?normr0</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ger0_norm">ger0_norm</a></span> <span class="id">?sqrtr_ge0//;</span> <span class="id">have:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|y|</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">e</span>%<span class="id">:num</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#663140372ac3b275aae871b74b140513">^+</a></span> <span class="id">2</span> <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-ltr_sqrt//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ger0_norm">ger0_norm//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.sqrtr_sqr">sqrtr_sqr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ger0_norm">ger0_norm</a></span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_function_instances">real_inverse_function_instances</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="is_derive_inverse" class="id"><a name="is_derive_inverse" class="">is_derive_inverse</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="is_derive_inverse.R" class="id"><a name="is_derive_inverse.R" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="is_derive1_caratheodory" class="id"><a name="is_derive1_caratheodory" class="">is_derive1_caratheodory</a></span> (<span id="f:518" class="id"><a name="f:518" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span>) (<span id="x:519" class="id"><a name="x:519" class="">x</a></span> <span id="a:520" class="id"><a name="a:520" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:519">x</a></span> <span class="id">1</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:518">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:520">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="g:521" class="id"><a name="g:521" class="">g,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681">[/\</a></span> <span class="gallina-kwd">forall</span> <span id="z:522" class="id"><a name="z:522" class="">z,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:518">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#z:522">z</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:518">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:519">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:521">g</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#z:522">z</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#z:522">z</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:519">x</a></span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681">,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#7c80fbc9405d98c9b96117793e1b9981">{for</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:519">x,</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:521">g}</a></span> &amp; <span class="id"><a href="mathcomp.analysis.realfun.html#g:521">g</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:519">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:520">a]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof80')">Proof.</span></div>
<div class="proofscript" id="proof80">
<span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[Hd|[g</span> <span class="id">[fxE</span> <span class="id">Cg</span> <span class="id">gxE]]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="gallina-kwd">fun</span> <span id="z:524" class="id"><span id="z:523" class="id"><a name="z:524" class="">z</a></span></span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="mathcomp.analysis.realfun.html#z:523">z</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180">==</a></span> <span class="id">x</span> <span class="gallina-kwd">then</span> <span class="id">a</span> <span class="gallina-kwd">else</span> (<span class="id">f</span>(<span class="id"><a href="mathcomp.analysis.realfun.html#z:523">z</a></span>) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">f</span>(<span class="id">x</span>)) <span class="id">/</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#z:523">z</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">x</span>))<span class="id">;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">z;</span> <span class="id">case:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqP">eqP</a></span> <span class="id">=&gt;</span> <span class="id">[-&gt;|/eqP];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!subrr</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.mulr0">mulr0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-subr_eq0</span> <span class="id">=&gt;</span> <span class="id">/divfK-&gt;</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">apply/continuous_withinNshiftx;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqxx">eqxx</a></span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">g1</span> <span id="h:525" class="id"><a name="h:525" class="">h</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#h:525">h^-1</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#3b05480e39db306e67fadbc79d394529">*:</a></span> ((<span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span>) <span class="id"><a href="mathcomp.analysis.realfun.html#h:525">h</a></span>%<span class="id">:A</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">f</span> <span class="id">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">F1</span> <span class="id">:</span> <span class="id">g1</span> @ <span class="id">0^'</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id">a</span> <span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id">Hd</span> <span class="id">=&gt;</span> <span class="id">H1</span> <span class="id">&lt;-</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_trans">cvg_trans</a></span> <span class="id">F1;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#near_eq_cvg">near_eq_cvg;</a></span> <span class="id">rewrite</span> <span class="id">/g1</span> <span class="id">!fctE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">near=&gt;</span> <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifN">ifN;</a></span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrK">addrK</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.mulrC">mulrC</a></span> <span class="id">/=</span> <span class="id">[_</span>%<span class="id">:A]mulr1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-subr_eq0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrK">addrK</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">i;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#near_withinE">near_withinE</a></span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#NearNorm.near_simpl">near_simpl;</a></span> <span class="id">near=&gt;</span> <span class="id">x1</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqxx">eqxx</a></span>.<br/>
<span class="id">suff</span> <span class="id">Hf</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#h:526">h^-1</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#3b05480e39db306e67fadbc79d394529">*:</a></span> ((<span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span>) <span class="id"><a href="mathcomp.analysis.realfun.html#h:526">h</a></span>%<span class="id">:A</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">f</span> <span class="id">x</span>) @<span class="id">[h</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id">0^']</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">F1</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.derive.html#:::'''D_'_x_x_x">'D_1</a></span> <span class="id">f</span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">a</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-F1</span> <span class="gallina-kwd">in</span> <span class="id">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">F1</span> <span class="id">:</span>  (<span class="id">g</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span>) <span class="id"><a href="mathcomp.analysis.realfun.html#y:527">y</a></span> @<span class="id">[y</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id">0^']</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-gxE;</span> <span class="id">apply/continuous_withinNshiftx</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_trans">cvg_trans</a></span> <span class="id">F1;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#near_eq_cvg">near_eq_cvg</a></span>.<br/>
<span class="id">near=&gt;</span> <span class="id">y</span>.<br/>
<span class="id">rewrite</span> <span class="id">/=</span> <span class="id">fxE</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrK">addrK</a></span> <span class="id">[_</span>%<span class="id">:A]mulr1</span>.<br/>
<span class="id">suff</span> <span class="id">yNZ</span> <span class="id">:</span> <span class="id">y</span> <span class="id">!=</span> <span class="id">0</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">[RHS]mulrC</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.mulfK">mulfK</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">y;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#near_withinE">near_withinE</a></span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#NearNorm.near_simpl">near_simpl;</a></span> <span class="id">near=&gt;</span> <span class="id">x1</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="is_derive_0_is_cst" class="id"><a name="is_derive_0_is_cst" class="">is_derive_0_is_cst</a></span> (<span id="f:528" class="id"><a name="f:528" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span>) <span id="x:529" class="id"><a name="x:529" class="">x</a></span> <span id="y:530" class="id"><a name="y:530" class="">y</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:531" class="id"><a name="x:531" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:531">x</a></span> (<span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span>) <span class="id"><a href="mathcomp.analysis.realfun.html#f:528">f</a></span> <span class="id">0</span>) <span class="id">-&gt;</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:528">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:529">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:528">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:530">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof81')">Proof.</span></div>
<div class="proofscript" id="proof81">
<span class="id">move=&gt;</span> <span class="id">Hd</span>.<br/>
<span class="id">wlog</span> <span class="id">xLy</span> <span class="id">:</span> <span class="id">x</span> <span class="id">y</span> <span class="id">/</span> <span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">y</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">H;</span> <span class="id">case:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.leP">leP</a></span> <span class="id">x</span> <span class="id">y</span>) <span class="id">=&gt;</span> <span class="id">[/H</span> <span class="id">|/ltW</span> <span class="id">/H]</span>.<br/>
<span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subKr">subKr</a></span> (<span class="id">f</span> <span class="id">y</span>) (<span class="id">f</span> <span class="id">x</span>)).<br/>
<span class="id">have</span> <span class="id">[|</span> <span class="id">_</span> <span class="id">_]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.derive.html#MVT_segment">MVT_segment</a></span> <span class="id">xLy;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.mul0r">mul0r</a></span> <span class="id">=&gt;</span> <span class="id">-&gt;;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subr0">subr0</a></span>.<br/>
<span class="id">apply/continuous_subspaceT=&gt;</span> <span class="id">r</span>.<br/>
<span class="id">exact/differentiable_continuous/derivable1_diffP</span>.<br/>
Qed.</div>
<br/>
<span class="id">Global</span> <span class="vernacular">Instance</span> <span id="is_derive1_comp" class="id"><a name="is_derive1_comp" class="">is_derive1_comp</a></span> (<span id="f:532" class="id"><a name="f:532" class="">f</a></span> <span id="g:533" class="id"><a name="g:533" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span>) (<span id="x:534" class="id"><a name="x:534" class="">x</a></span> <span id="a:535" class="id"><a name="a:535" class="">a</a></span> <span id="b:536" class="id"><a name="b:536" class="">b</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#g:533">g</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:534">x</a></span>) <span class="id">1</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:532">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:535">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:534">x</a></span> <span class="id">1</span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:533">g</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:536">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:534">x</a></span> <span class="id">1</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:532">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:533">g</a></span>) (<span class="id"><a href="mathcomp.analysis.realfun.html#a:535">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:536">b</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof82')">Proof.</span></div>
<div class="proofscript" id="proof82">
<span class="id">move=&gt;</span> <span class="id">[fgxv</span> <span class="id">&lt;-{a}]</span> <span class="id">[gv</span> <span class="id">&lt;-{b}];</span> <span class="id">apply:</span> (@<span class="id"><a href="mathcomp.analysis.derive.html#DeriveDef">DeriveDef</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id">g</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply/derivable1_diffP/differentiable_comp;</span> <span class="id">first</span> <span class="id">exact/derivable1_diffP</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move/derivable1_diffP</span> <span class="gallina-kwd">in</span> <span class="id">fgxv</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-derive1E</span> (<span class="id"><a href="mathcomp.analysis.derive.html#derive1_comp">derive1_comp</a></span> <span class="id">gv</span> <span class="id">fgxv</span>) <span class="id">2!derive1E</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="is_deriveV" class="id"><a name="is_deriveV" class="">is_deriveV</a></span> (<span id="f:537" class="id"><a name="f:537" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span>) (<span id="x:538" class="id"><a name="x:538" class="">x</a></span> <span id="t:539" class="id"><a name="t:539" class="">t</a></span> <span id="v:540" class="id"><a name="v:540" class="">v</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#f:537">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:538">x</a></span> <span class="id">!=</span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:538">x</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#v:540">v</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:537">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#t:539">t</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:538">x</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#v:540">v</a></span> (<span class="gallina-kwd">fun</span> <span id="y:541" class="id"><a name="y:541" class="">y</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:537">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:541">y</a></span>)<span class="id">^-1</span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:537">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:538">x</a></span>) <span class="id">^-</span> <span class="id">2</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#3b05480e39db306e67fadbc79d394529">*:</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#t:539">t</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof83')">Proof.</span></div>
<div class="proofscript" id="proof83">
<span class="id">move=&gt;</span> <span class="id">fxNZ</span> <span class="id">Df</span>.<br/>
<span class="id">constructor;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.derive.html#derivableV">derivableV</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">case:</span> <span class="id">Df</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#deriveV">deriveV</a></span> <span class="id">//;</span> <span class="id">case:</span> <span class="id">Df</span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">-&gt;</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="is_derive_inverse" class="id"><a name="is_derive_inverse" class="">is_derive_inverse</a></span> (<span id="f:542" class="id"><a name="f:542" class="">f</a></span> <span id="g:543" class="id"><a name="g:543" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span>) <span id="l:544" class="id"><a name="l:544" class="">l</a></span> <span id="x:545" class="id"><a name="x:545" class="">x</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#5b88bba1a0d3085b56928b27b84bfd97">{near</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:545">x,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:542">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:543">g}</a></span>  <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#5b88bba1a0d3085b56928b27b84bfd97">{near</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:545">x,</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:542">f}</a></span>  <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:545">x</a></span> <span class="id">1</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:542">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:544">l</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:544">l</a></span> <span class="id">!=</span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:542">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:545">x</a></span>) <span class="id">1</span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:543">g</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:544">l^-1</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof84')">Proof.</span></div>
<div class="proofscript" id="proof84">
<span class="id">move=&gt;</span> <span class="id">fgK</span> <span class="id">fC</span> <span class="id">fD</span> <span class="id">lNZ</span>.<br/>
<span class="id">have</span> <span class="id">/is_derive1_caratheodory</span> <span class="id">[h</span> <span class="id">[fE</span> <span class="id">hC</span> <span class="id">hxE]]</span> <span class="id">:=</span> <span class="id">fD</span>.<br/>
<span class="comment">(*&nbsp;There&nbsp;should&nbsp;be&nbsp;something&nbsp;simpler&nbsp;*)</span><br/>
<span class="id">have</span> <span class="id">gfxE</span> <span class="id">:</span> <span class="id">g</span> (<span class="id">f</span> <span class="id">x</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">x</span> <span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">[d</span> <span class="id">Hd]:=</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_ex">nbhs_ex</a></span> <span class="id">fgK;</span> <span class="id">apply:</span> <span class="id">Hd</span>.<br/>
<span class="id">pose</span> <span class="id">g1</span> <span id="y:546" class="id"><a name="y:546" class="">y</a></span> <span class="id">:=</span> <span class="gallina-kwd">if</span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:546">y</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180">==</a></span> <span class="id">f</span> <span class="id">x</span> <span class="gallina-kwd">then</span> (<span class="id">h</span> (<span class="id">g</span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:546">y</a></span>))<span class="id">^-1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> (<span class="id">g</span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:546">y</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">g</span> (<span class="id">f</span> <span class="id">x</span>)) <span class="id">/</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#y:546">y</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">f</span> <span class="id">x</span>).<br/>
<span class="id">apply/is_derive1_caratheodory</span>.<br/>
<span class="gallina-kwd">exists</span> <span class="id">g1;</span> <span class="id">split;</span> <span class="id">first</span> <span class="id">2</span> <span class="id">last</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/g1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqxx">eqxx</a></span> <span class="id">gfxE</span> <span class="id">hxE</span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">z;</span> <span class="id">rewrite</span> <span class="id">/g1;</span> <span class="id">case:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqP">eqP</a></span> <span class="id">=&gt;</span> <span class="id">[-&gt;|/eqP];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!subrr</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.mulr0">mulr0</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-subr_eq0</span> <span class="id">=&gt;</span> <span class="id">/divfK</span>.<br/>
<span class="id">have</span> <span class="id">F1</span> <span class="id">:</span> (<span class="id">h</span> (<span class="id">g</span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:547">x</a></span>))<span class="id">^-1</span> @<span class="id">[x</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id">f</span> <span class="id">x]</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id">g1</span> (<span class="id">f</span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/g1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqxx">eqxx;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#continuousV">continuousV;</a></span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id">gfxE</span> <span class="id">hxE</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_comp">continuous_comp;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">gfxE</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#nbhs_singleton">nbhs_singleton</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#near_can_continuous">near_can_continuous</a></span> <span class="id">_</span> <span class="id">_</span>).<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_sub0">cvg_sub0</a></span> <span class="id">F1</span>.<br/>
<span class="id">apply/cvgrPdist_lt</span> <span class="id">=&gt;</span> <span class="id">eps</span> <span class="id">eps_gt0</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">!near_simpl</span> <span class="id">/=</span>.<br/>
<span class="id">near=&gt;</span> <span class="id">y;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.sub0r">sub0r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.normrN">normrN</a></span> <span class="id">!fctE</span>.<br/>
<span class="id">have</span> <span class="id">fgyE</span> <span class="id">:</span> <span class="id">f</span> (<span class="id">g</span> <span class="id">y</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">y</span> <span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">y;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#near_continuous_can_sym">near_continuous_can_sym</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">/g1;</span> <span class="id">case:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqP">eqP</a></span> <span class="id">=&gt;</span> <span class="id">[_|/eqP</span> <span class="id">x1Dfx];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subrr">subrr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.normr0">normr0</a></span>.<br/>
<span class="id">have</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id">y</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">f</span> <span class="id">x</span>  <span class="id">=</span> <span class="id">h</span> (<span class="id">g</span> <span class="id">y</span>) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> (<span class="id">g</span> <span class="id">y</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">x</span>) <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-fE</span> <span class="id">fgyE</span>.<br/>
<span class="id">rewrite</span> <span class="id">gfxE</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.invfM">invfM</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.mulrC">mulrC</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.divfK">divfK</a></span> <span class="id">?subrr</span> <span class="id">?normr0</span> <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subr_eq0">subr_eq0</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contra">contra</a></span> <span class="id">x1Dfx</span> <span class="id">=&gt;</span> <span class="id">/eqP&lt;-;</span> <span class="id">apply/eqP</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse">is_derive_inverse</a></span>.<br/>
<br/>
<span class="id">#[global]</span> <span class="vernacular">Hint</span> <span class="id">Extern</span> <span class="id">0</span> (<span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> (<span class="id">_</span> <span class="id">_</span>)<span class="id">^-1</span>) <span class="id">_</span>) <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;(<span class="id">eapply</span> <span class="id"><a href="mathcomp.analysis.realfun.html#is_deriveV">is_deriveV;</a></span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">[]</span>) <span class="id">:</span> <span class="id">typeclass_instances</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="interval_partition" class="id"><a name="interval_partition" class="">interval_partition</a></span>.<br/>
<span class="vernacular">Context</span> <span class="id">{R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType}</a></span>.<br/>
<span class="vernacular">Implicit</span> <span class="gallina-kwd">Type</span> (<span class="id">a</span> <span class="id">b</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#interval_partition.R">R</a></span>) (<span class="id">s</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#interval_partition.R">R</a></span>).<br/>
<br/>
<div class="doc">a :: s is a partition of the interval <span class="bracket"><span class="id">a</span>, <span class="id">b</span></span> </div>
<span class="vernacular">Definition</span> <span id="itv_partition" class="id"><a name="itv_partition" class="">itv_partition</a></span> <span id="a:549" class="id"><a name="a:549" class="">a</a></span> <span id="b:550" class="id"><a name="b:550" class="">b</a></span> <span id="s:551" class="id"><a name="s:551" class="">s</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#53e4c1e546d9b20e029d981f761726c2">[/\</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.path.html#path">path</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#e180604e1d7c2d21a8f836fdff89eebb">&lt;</a></span>%<span class="id">R</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:549">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:551">s</a></span> &amp; <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#last">last</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:549">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:551">s</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180">==</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:550">b]</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="itv_partition_nil" class="id"><a name="itv_partition_nil" class="">itv_partition_nil</a></span> <span id="a:552" class="id"><a name="a:552" class="">a</a></span> <span id="b:553" class="id"><a name="b:553" class="">b</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition">itv_partition</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:552">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:553">b</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626">[::]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:552">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:553">b</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof85')">Proof.</span></div>
<div class="proofscript" id="proof85">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">[_</span> <span class="id">/eqP</span> <span class="id">&lt;-]</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="itv_partition_cons" class="id"><a name="itv_partition_cons" class="">itv_partition_cons</a></span> <span id="a:554" class="id"><a name="a:554" class="">a</a></span> <span id="b:555" class="id"><a name="b:555" class="">b</a></span> <span id="x:556" class="id"><a name="x:556" class="">x</a></span> <span id="s:557" class="id"><a name="s:557" class="">s</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition">itv_partition</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:554">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:555">b</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#x:556">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x">::</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:557">s</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition">itv_partition</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:556">x</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:555">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:557">s</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof86')">Proof.</span></div>
<div class="proofscript" id="proof86">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/itv_partition/=</span> <span class="id">=&gt;</span> <span class="id">-[/andP[]]</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="itv_partition1" class="id"><a name="itv_partition1" class="">itv_partition1</a></span> <span id="a:558" class="id"><a name="a:558" class="">a</a></span> <span id="b:559" class="id"><a name="b:559" class="">b</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:558">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:559">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition">itv_partition</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:558">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:559">b</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d">[::</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:559">b]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof87')">Proof.</span></div>
<div class="proofscript" id="proof87">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/itv_partition</span> <span class="id">/=</span> <span class="id">=&gt;</span> <span class="id">-&gt;</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="itv_partition_size_neq0" class="id"><a name="itv_partition_size_neq0" class="">itv_partition_size_neq0</a></span> <span id="a:560" class="id"><a name="a:560" class="">a</a></span> <span id="b:561" class="id"><a name="b:561" class="">b</a></span> <span id="s:562" class="id"><a name="s:562" class="">s</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size">size</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:562">s</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'&gt;'_x">&gt;</a></span> <span class="id">0</span>)%<span class="id">N</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition">itv_partition</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:560">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:561">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:562">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:560">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:561">b</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof88')">Proof.</span></div>
<div class="proofscript" id="proof88">
<span class="id">elim:</span> <span class="id">s</span> <span class="id">a</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x</span> <span class="id">[_</span> <span class="id">a</span> <span class="id">_|h</span> <span class="id">t</span> <span class="id">ih</span> <span class="id">a</span> <span class="id">_];</span> <span class="id">rewrite</span> <span class="id">/itv_partition</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id">=&gt;</span> <span class="id">-[ax</span> <span class="id">/eqP</span> <span class="id">&lt;-]</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">[]</span> <span class="id">/andP[ax</span> <span class="id">/andP[xy]</span> <span class="id">ht</span> <span class="id">/eqP</span> <span class="id">tb]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_trans">lt_trans</a></span> <span class="id">ax</span>)<span class="id">//</span> <span class="id">ih//</span> <span class="id">/itv_partition</span> <span class="id">/=</span> <span class="id">xy/=</span> <span class="id">tb</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="itv_partitionxx" class="id"><a name="itv_partitionxx" class="">itv_partitionxx</a></span> <span id="a:563" class="id"><a name="a:563" class="">a</a></span> <span id="s:564" class="id"><a name="s:564" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition">itv_partition</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:563">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:563">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:564">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:564">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626">[::]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof89')">Proof.</span></div>
<div class="proofscript" id="proof89">
<span class="id">case:</span> <span class="id">s</span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">h</span> <span class="id">t</span> <span class="id">[/=</span> <span class="id">/andP[ah</span> <span class="id">/lt_path_min/allP</span> <span class="id">ht]</span> <span class="id">/eqP</span> <span class="id">hta]</span>.<br/>
<span class="id">suff</span> <span class="id">:</span> <span class="id">h</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">a</span> <span class="gallina-kwd">by</span> <span class="id">move/lt_trans</span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">_</span> <span class="id">ah</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltxx">ltxx</a></span>.<br/>
<span class="id">apply/ht;</span> <span class="id">rewrite</span> <span class="id">-hta</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#mem_last">mem_last</a></span> <span class="id">h</span> <span class="id">t;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">hta</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_eqF">lt_eqF</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="itv_partition_le" class="id"><a name="itv_partition_le" class="">itv_partition_le</a></span> <span id="a:565" class="id"><a name="a:565" class="">a</a></span> <span id="b:566" class="id"><a name="b:566" class="">b</a></span> <span id="s:567" class="id"><a name="s:567" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition">itv_partition</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:565">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:566">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:567">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:565">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:566">b</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof90')">Proof.</span></div>
<div class="proofscript" id="proof90">
<span class="id">case:</span> <span class="id">s</span> <span class="id">=&gt;</span> <span class="id">[/itv_partition_nil</span> <span class="id">-&gt;//|h</span> <span class="id">t</span> <span class="id">/itv_partition_size_neq0</span> <span class="id">-</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">_</span>)<span class="id">/ltW]</span>.<br/>
<span class="id">exact</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="itv_partition_cat" class="id"><a name="itv_partition_cat" class="">itv_partition_cat</a></span> <span id="a:568" class="id"><a name="a:568" class="">a</a></span> <span id="b:569" class="id"><a name="b:569" class="">b</a></span> <span id="c:570" class="id"><a name="c:570" class="">c</a></span> <span id="s:571" class="id"><a name="s:571" class="">s</a></span> <span id="t:572" class="id"><a name="t:572" class="">t</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition">itv_partition</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:568">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:569">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:571">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition">itv_partition</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:569">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:570">c</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#t:572">t</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition">itv_partition</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:568">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:570">c</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#s:571">s</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#t:572">t</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof91')">Proof.</span></div>
<div class="proofscript" id="proof91">
<span class="id">rewrite</span> <span class="id">/itv_partition</span> <span class="id">=&gt;</span> <span class="id">-[sa</span> <span class="id">/eqP</span> <span class="id">asb]</span> <span class="id">[bt</span> <span class="id">btc]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.path.html#cat_path">cat_path//</a></span> <span class="id">sa</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#last_cat">last_cat</a></span> <span class="id">asb</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="itv_partition_nth_size" class="id"><a name="itv_partition_nth_size" class="">itv_partition_nth_size</a></span> <span id="def:573" class="id"><a name="def:573" class="">def</a></span> <span id="a:574" class="id"><a name="a:574" class="">a</a></span> <span id="b:575" class="id"><a name="b:575" class="">b</a></span> <span id="s:576" class="id"><a name="s:576" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition">itv_partition</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:574">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:575">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:576">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#nth">nth</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#def:573">def</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#a:574">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x">::</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:576">s</a></span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size">size</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:576">s</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:575">b</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof92')">Proof.</span></div>
<div class="proofscript" id="proof92">
<span class="gallina-kwd">by</span> <span class="id">elim:</span> <span class="id">s</span> <span class="id">a</span> <span class="id">=&gt;</span> <span class="id">[a/=</span> <span class="id">/itv_partition_nil//|y</span> <span class="id">t</span> <span class="id">ih</span> <span class="id">a</span> <span class="id">/=</span> <span class="id">/itv_partition_cons/ih]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="itv_partition_nth_ge" class="id"><a name="itv_partition_nth_ge" class="">itv_partition_nth_ge</a></span> <span id="a:577" class="id"><a name="a:577" class="">a</a></span> <span id="b:578" class="id"><a name="b:578" class="">b</a></span> <span id="s:579" class="id"><a name="s:579" class="">s</a></span> <span id="m:580" class="id"><a name="m:580" class="">m</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#m:580">m</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'&lt;'_x">&lt;</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size">size</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:579">s</a></span>).<span class="id">+1</span>)%<span class="id">N</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition">itv_partition</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:577">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:578">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:579">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:577">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#nth">nth</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:578">b</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#a:577">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x">::</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:579">s</a></span>) <span class="id"><a href="mathcomp.analysis.realfun.html#m:580">m</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof93')">Proof.</span></div>
<div class="proofscript" id="proof93">
<span class="id">elim:</span> <span class="id">m</span> <span class="id">s</span> <span class="id">a</span> <span class="id">b</span> <span class="id">=&gt;</span> <span class="id">[s</span> <span class="id">a</span> <span class="id">b</span> <span class="id">_//|n</span> <span class="id">ih</span> <span class="id">[//|h</span> <span class="id">t]</span> <span class="id">a</span> <span class="id">b]</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltnS">ltnS</a></span> <span class="id">=&gt;</span> <span class="id">nh</span> <span class="id">[/=</span> <span class="id">/andP[ah</span> <span class="id">ht]</span> <span class="id">lb]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">ah</span>))<span class="id">//</span> <span class="id">ih</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="itv_partition_nth_le" class="id"><a name="itv_partition_nth_le" class="">itv_partition_nth_le</a></span> <span id="a:581" class="id"><a name="a:581" class="">a</a></span> <span id="b:582" class="id"><a name="b:582" class="">b</a></span> <span id="s:583" class="id"><a name="s:583" class="">s</a></span> <span id="m:584" class="id"><a name="m:584" class="">m</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#m:584">m</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'&lt;'_x">&lt;</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size">size</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:583">s</a></span>).<span class="id">+1</span>)%<span class="id">N</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition">itv_partition</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:581">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:582">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:583">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#nth">nth</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:582">b</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#a:581">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x">::</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:583">s</a></span>) <span class="id"><a href="mathcomp.analysis.realfun.html#m:584">m</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:582">b</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof94')">Proof.</span></div>
<div class="proofscript" id="proof94">
<span class="id">elim:</span> <span class="id">m</span> <span class="id">s</span> <span class="id">a</span> <span class="id">=&gt;</span> <span class="id">[s</span> <span class="id">a</span> <span class="id">_|n</span> <span class="id">ih];</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition_le">itv_partition_le</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">[//|a</span> <span class="id">h</span> <span class="id">t</span> <span class="id">/=</span> <span class="id">nt]</span> <span class="id">H;</span> <span class="id">rewrite</span> <span class="id">ih//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition_cons">itv_partition_cons</a></span> <span class="id">H</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="nondecreasing_fun_itv_partition" class="id"><a name="nondecreasing_fun_itv_partition" class="">nondecreasing_fun_itv_partition</a></span> <span id="a:585" class="id"><a name="a:585" class="">a</a></span> <span id="b:586" class="id"><a name="b:586" class="">b</a></span> <span id="f:587" class="id"><a name="f:587" class="">f</a></span> <span id="s:588" class="id"><a name="s:588" class="">s</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:586">b]</a></span> &amp;<span class="id">,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#:::'nondecreasing_fun'_x">nondecreasing_fun</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:587">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition">itv_partition</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:585">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:586">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:588">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="F:589" class="id"><a name="F:589" class="">F</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#interval_partition.R">R</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:587">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#nth">nth</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:586">b</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#a:585">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x">::</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:588">s</a></span>) <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="k:590" class="id"><a name="k:590" class="">k,</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#k:590">k</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size">size</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:588">s</a></span>)%<span class="id">N</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#F:589">F</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#k:590">k</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#F:589">F</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#k:590">k</a></span>.<span class="id">+1</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof95')">Proof.</span></div>
<div class="proofscript" id="proof95">
<span class="id">move=&gt;</span> <span class="id">ndf</span> <span class="id">abs</span> <span class="id">F</span> <span class="id">k</span> <span class="id">ks</span>.<br/>
<span class="id">have</span> <span class="id">[_]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.sequences.html#nondecreasing_seqP">nondecreasing_seqP</a></span> <span class="id">F;</span> <span class="id">apply</span> <span class="id">=&gt;</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn;</span> <span class="id">rewrite</span> <span class="id">/F/=</span>.<br/>
<span class="id">have</span> <span class="id">[ms|ms]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltnP">ltnP</a></span> <span class="id">m</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size">size</a></span> <span class="id">s</span>).<span class="id">+1;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#nth_default">nth_default//</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[|ns]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltnP">ltnP</a></span> <span class="id">n</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size">size</a></span> <span class="id">s</span>).<span class="id">+1;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#nth_default">nth_default</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#leq_ltn_trans">leq_ltn_trans</a></span> <span class="id">mn</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltnS">ltnS</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#leqNgt">leqNgt</a></span> <span class="id">ms</span>.<br/>
<span class="id">have</span> <span class="id">[ns|ns]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltnP">ltnP</a></span> <span class="id">n</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size">size</a></span> <span class="id">s</span>).<span class="id">+1;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POSyntax.leRHS">leRHS]nth_default//=;</a></span> <span class="id">apply/ndf/itv_partition_nth_le</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition_nth_le">itv_partition_nth_le//</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition_nth_ge">itv_partition_nth_ge</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lexx">lexx</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT;</a></span> <span class="id">exact:</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition_le">itv_partition_le</a></span> <span class="id">abs</span>).<br/>
<span class="id">move:</span> <span class="id">abs;</span> <span class="id">rewrite</span> <span class="id">/itv_partition</span> <span class="id">=&gt;</span> <span class="id">-[]</span> <span class="id">sa</span> <span class="id">sab</span>.<br/>
<span class="id">move:</span> <span class="id">mn;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#leq_eqVlt">leq_eqVlt</a></span> <span class="id">=&gt;</span> <span class="id">/predU1P[-&gt;//|mn]</span>.<br/>
<span class="id">apply/ndf/ltW/sorted_ltn_nth</span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_trans">lt_trans</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition_nth_le">itv_partition_nth_le//</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition_nth_ge">itv_partition_nth_ge</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition_nth_le">itv_partition_nth_le//</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition_nth_ge">itv_partition_nth_ge</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="nonincreasing_fun_itv_partition" class="id"><a name="nonincreasing_fun_itv_partition" class="">nonincreasing_fun_itv_partition</a></span> <span id="a:591" class="id"><a name="a:591" class="">a</a></span> <span id="b:592" class="id"><a name="b:592" class="">b</a></span> <span id="f:593" class="id"><a name="f:593" class="">f</a></span> <span id="s:594" class="id"><a name="s:594" class="">s</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:592">b]</a></span> &amp;<span class="id">,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#:::'nonincreasing_fun'_x">nonincreasing_fun</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:593">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition">itv_partition</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:591">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:592">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:594">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="F:595" class="id"><a name="F:595" class="">F</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#interval_partition.R">R</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:593">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#nth">nth</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:592">b</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#a:591">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x">::</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:594">s</a></span>) <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="k:596" class="id"><a name="k:596" class="">k,</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#k:596">k</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size">size</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:594">s</a></span>)%<span class="id">N</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#F:595">F</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#k:596">k</a></span>.<span class="id">+1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#F:595">F</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#k:596">k</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof96')">Proof.</span></div>
<div class="proofscript" id="proof96">
<span class="id">move/nonincreasing_funN</span> <span class="id">=&gt;</span> <span class="id">ndNf</span> <span class="id">abs</span> <span class="id">F</span> <span class="id">k</span> <span class="id">ks;</span> <span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span> (<span class="id">F</span> <span class="id">k</span>)) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerNr">lerNr</a></span>.<br/>
<span class="id">exact:</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#nondecreasing_fun_itv_partition">nondecreasing_fun_itv_partition</a></span> <span class="id">ndNf</span> <span class="id">abs</span>).<br/>
Qed.</div>
<br/>
<div class="doc">given a partition of <span class="bracket"><span class="id">a</span>, <span class="id">b</span></span> and c, returns a partition of <span class="bracket"><span class="id">a</span>, <span class="id">c</span></span> </div>
<span class="vernacular">Definition</span> <span id="itv_partitionL" class="id"><a name="itv_partitionL" class="">itv_partitionL</a></span> <span id="s:597" class="id"><a name="s:597" class="">s</a></span> <span id="c:598" class="id"><a name="c:598" class="">c</a></span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#rcons">rcons</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#3de67eb42556f00623e74d6756c5ab67">[seq</a></span> <span id="x:599" class="id"><a name="x:599" class="">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#3de67eb42556f00623e74d6756c5ab67">&lt;-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:597">s</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#3de67eb42556f00623e74d6756c5ab67">|</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:599">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:598">c]</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:598">c</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="itv_partitionLP" class="id"><a name="itv_partitionLP" class="">itv_partitionLP</a></span> <span id="a:600" class="id"><a name="a:600" class="">a</a></span> <span id="b:601" class="id"><a name="b:601" class="">b</a></span> <span id="c:602" class="id"><a name="c:602" class="">c</a></span> <span id="s:603" class="id"><a name="s:603" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:600">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:602">c</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:602">c</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:601">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition">itv_partition</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:600">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:601">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:603">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition">itv_partition</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:600">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:602">c</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#itv_partitionL">itv_partitionL</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:603">s</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:602">c</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof97')">Proof.</span></div>
<div class="proofscript" id="proof97">
<span class="id">move=&gt;</span> <span class="id">ac</span> <span class="id">bc</span> <span class="id">[]</span> <span class="id">al</span> <span class="id">/eqP</span> <span class="id">htb;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/itv_partitionL</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.path.html#rcons_path">rcons_path/=;</a></span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.path.html#path_filter">path_filter</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_trans">lt_trans</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> (<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#last_filterP">last_filterP</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#27dabc72ea2c2c768f2db80a79f42524">[pred</a></span> <span id="x:605" class="id"><span id="x:604" class="id"><a name="x:605" class="">x</a></span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#27dabc72ea2c2c768f2db80a79f42524">|</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:604">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">c]</span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/itv_partitionL</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#last_rcons">last_rcons</a></span>.<br/>
Qed.</div>
<br/>
<div class="doc">given a partition of <span class="bracket"><span class="id">a</span>, <span class="id">b</span></span> and c, returns a partition of <span class="bracket"><span class="id">c</span>, <span class="id">b</span></span> </div>
<span class="vernacular">Definition</span> <span id="itv_partitionR" class="id"><a name="itv_partitionR" class="">itv_partitionR</a></span> <span id="s:606" class="id"><a name="s:606" class="">s</a></span> <span id="c:607" class="id"><a name="c:607" class="">c</a></span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#3de67eb42556f00623e74d6756c5ab67">[seq</a></span> <span id="x:608" class="id"><a name="x:608" class="">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#3de67eb42556f00623e74d6756c5ab67">&lt;-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:606">s</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#3de67eb42556f00623e74d6756c5ab67">|</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:607">c</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:608">x]</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="itv_partitionRP" class="id"><a name="itv_partitionRP" class="">itv_partitionRP</a></span> <span id="a:609" class="id"><a name="a:609" class="">a</a></span> <span id="b:610" class="id"><a name="b:610" class="">b</a></span> <span id="c:611" class="id"><a name="c:611" class="">c</a></span> <span id="s:612" class="id"><a name="s:612" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:609">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:611">c</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:611">c</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:610">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition">itv_partition</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:609">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:610">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:612">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition">itv_partition</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:611">c</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:610">b</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#itv_partitionR">itv_partitionR</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:612">s</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:611">c</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof98')">Proof.</span></div>
<div class="proofscript" id="proof98">
<span class="id">move=&gt;</span> <span class="id">ac</span> <span class="id">cb</span> <span class="id">[]</span> <span class="id">sa</span> <span class="id">/eqP</span> <span class="id">alb;</span> <span class="id">rewrite</span> <span class="id">/itv_partition;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">move:</span> <span class="id">sa;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_path_sortedE">lt_path_sortedE</a></span> <span class="id">=&gt;</span> <span class="id">/andP[allas</span> <span class="id">ss]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_path_sortedE">lt_path_sortedE</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#filter_all">filter_all/=</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.path.html#sorted_filter">sorted_filter</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_trans">lt_trans</a></span>.<br/>
<span class="id">exact/eqP/</span>(<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#path_lt_last_filter">path_lt_last_filter</a></span> <span class="id">ac</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="in_itv_partition" class="id"><a name="in_itv_partition" class="">in_itv_partition</a></span> <span id="c:613" class="id"><a name="c:613" class="">c</a></span> <span id="s:614" class="id"><a name="s:614" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.path.html#sorted">sorted</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#e180604e1d7c2d21a8f836fdff89eebb">&lt;</a></span>%<span class="id">R</span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:614">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:613">c</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:614">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#s:614">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partitionL">itv_partitionL</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:614">s</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:613">c</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partitionR">itv_partitionR</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:614">s</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:613">c</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof99')">Proof.</span></div>
<div class="proofscript" id="proof99">
<span class="id">elim:</span> <span class="id">s</span> <span class="id">c</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">h</span> <span class="id">t</span> <span class="id">ih</span> <span class="id">c</span> <span class="id">/=</span> <span class="id">ht</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">/predU1P[-&gt;{c}/=|ct]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltxx">ltxx</a></span> <span class="id">/itv_partitionL</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltxx">ltxx</a></span> <span class="id">/itv_partitionR/=</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#path_lt_filter0">path_lt_filter0//=</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#path_lt_filterT">path_lt_filterT</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">/itv_partitionL/=;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">[hc|]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.ltNge">ltNge</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">hc</span>)<span class="id">/=</span> <span class="id">/=</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]</a></span>(<span class="id">ih</span> <span class="id">_</span> <span class="id">_</span> <span class="id">ct</span>)<span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.path.html#path_sorted">path_sorted</a></span> <span class="id">ht</span>.<br/>
<span class="id">rewrite</span> <span class="id">-leNgt</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt</a></span> <span class="id">=&gt;</span> <span class="id">/predU1P[ch|ch]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">ch</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltxx">ltxx</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#path_lt_filter0">path_lt_filter0//=</a></span> <span class="id">/itv_partitionR</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#path_lt_filterT">path_lt_filterT</a></span>.<br/>
<span class="id">move:</span> <span class="id">ht;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_path_sortedE">lt_path_sortedE</a></span> <span class="id">=&gt;</span> <span class="id">/andP[/allP/</span>(<span class="id">_</span> <span class="id">_</span> <span class="id">ct</span>)<span class="id">]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/lt_trans-/</span>(<span class="id">_</span> <span class="id">_</span> <span class="id">ch</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltxx">ltxx</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="notin_itv_partition" class="id"><a name="notin_itv_partition" class="">notin_itv_partition</a></span> <span id="c:615" class="id"><a name="c:615" class="">c</a></span> <span id="s:616" class="id"><a name="s:616" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.path.html#sorted">sorted</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#e180604e1d7c2d21a8f836fdff89eebb">&lt;</a></span>%<span class="id">R</span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:616">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:615">c</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#c1ad6bcc76a6221225111f87bc3b0c3d">\notin</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:616">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#s:616">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#3de67eb42556f00623e74d6756c5ab67">[seq</a></span> <span id="x:617" class="id"><a name="x:617" class="">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#3de67eb42556f00623e74d6756c5ab67">&lt;-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:616">s</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#3de67eb42556f00623e74d6756c5ab67">|</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:617">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:615">c]</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partitionR">itv_partitionR</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:616">s</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:615">c</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof100')">Proof.</span></div>
<div class="proofscript" id="proof100">
<span class="id">elim:</span> <span class="id">s</span> <span class="id">c</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">h</span> <span class="id">t</span> <span class="id">ih</span> <span class="id">c</span> <span class="id">/=</span> <span class="id">ht</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_or">negb_or</a></span> <span class="id">=&gt;</span> <span class="id">/andP[];</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.neq_lt">neq_lt</a></span> <span class="id">=&gt;</span> <span class="id">/orP[ch|ch]</span> <span class="id">ct</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">ch</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.ltNge">ltNge</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">ch</span>)<span class="id">/=</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#path_lt_filter0">path_lt_filter0/=</a></span> <span class="id">/itv_partitionR;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#path_lt_head">path_lt_head</a></span> <span class="id">ht</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#path_lt_filterT">path_lt_filterT//;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#path_lt_head">path_lt_head</a></span> <span class="id">ht</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">ch/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.ltNge">ltNge</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">ch</span>)<span class="id">/=</span> <span class="id">-ih//;</span> <span class="id">exact:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.path.html#path_sorted">path_sorted</a></span> <span class="id">ht</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="itv_partition_rev" class="id"><a name="itv_partition_rev" class="">itv_partition_rev</a></span> <span id="a:618" class="id"><a name="a:618" class="">a</a></span> <span id="b:619" class="id"><a name="b:619" class="">b</a></span> <span id="s:620" class="id"><a name="s:620" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition">itv_partition</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:618">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:619">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:620">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition">itv_partition</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:619">b</a></span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:618">a</a></span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#rev">rev</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#belast">belast</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:618">a</a></span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#map">map</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#a8ac36d488c8d5cdcfec5adcde894e5f">-</a></span>%<span class="id">R</span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:620">s</a></span>))).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof101')">Proof.</span></div>
<div class="proofscript" id="proof101">
<span class="id">move=&gt;</span> <span class="id">[sa</span> <span class="id">/eqP</span> <span class="id">alb];</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id">b</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#last">last</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id">a</span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#map">map</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#a8ac36d488c8d5cdcfec5adcde894e5f">-</a></span>%<span class="id">R</span> <span class="id">s</span>))<span class="id">;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#last_map">last_map</a></span> <span class="id">alb</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.path.html#rev_path">rev_path//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.path.html#path_map">path_map</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.path.html#sub_path">sub_path</a></span> <span class="id">sa</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">y</span> <span class="id">xy/=;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrNr">ltrNr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span>.<br/>
<span class="id">case:</span> <span class="id">s</span> <span class="id">sa</span> <span class="id">alb</span> <span class="id">=&gt;</span> <span class="id">[_</span> <span class="id">&lt;-//|h</span> <span class="id">t]</span> <span class="id">/=</span> <span class="id">/andP[ah</span> <span class="id">ht]</span> <span class="id">&lt;-{b}</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#rev_cons">rev_cons</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#last_rcons">last_rcons</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#interval_partition">interval_partition</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="variation" class="id"><a name="variation" class="">variation</a></span>.<br/>
<span class="vernacular">Context</span> <span class="id">{R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType}</a></span>.<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">a</span> <span class="id">b</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation.R">R</a></span>) (<span class="id">f</span> <span class="id">g</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation.R">R</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="variation" class="id"><a name="variation" class="">variation</a></span> <span id="a:622" class="id"><a name="a:622" class="">a</a></span> <span id="b:623" class="id"><a name="b:623" class="">b</a></span> <span id="f:624" class="id"><a name="f:624" class="">f</a></span> <span id="s:625" class="id"><a name="s:625" class="">s</a></span> <span class="id">:=</span> <span class="gallina-kwd">let</span> <span id="F:626" class="id"><a name="F:626" class="">F</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:624">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#nth">nth</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:623">b</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#a:622">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x">::</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:625">s</a></span>) <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#e8c9389d173e080b4b0bc8cfb531c18e">\sum_</a></span>(<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#e8c9389d173e080b4b0bc8cfb531c18e">&lt;=</a></span> <span id="n:629" class="id"><span id="n:628" class="id"><span id="n:627" class="id"><a name="n:629" class="">n</a></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#e8c9389d173e080b4b0bc8cfb531c18e">&lt;</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size">size</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:625">s</a></span>) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|F</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:627">n</a></span>.<span class="id">+1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#F:626">F</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:627">n|</a></span>%<span class="id">R</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="variation_zip" class="id"><a name="variation_zip" class="">variation_zip</a></span> <span id="a:630" class="id"><a name="a:630" class="">a</a></span> <span id="b:631" class="id"><a name="b:631" class="">b</a></span> <span id="f:632" class="id"><a name="f:632" class="">f</a></span> <span id="s:633" class="id"><a name="s:633" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition">itv_partition</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:630">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:631">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:633">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:630">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:631">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:632">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:633">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#706f4f0208bba5d79e26d335c76ea034">\sum_</a></span>(<span id="x:636" class="id"><span id="x:635" class="id"><span id="x:634" class="id"><a name="x:636" class="">x</a></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#706f4f0208bba5d79e26d335c76ea034">&lt;-</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#zip">zip</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:633">s</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#a:630">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x">::</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:633">s</a></span>)) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:634">x</a></span>.<span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:632">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:634">x</a></span>.<span class="id">2|</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof102')">Proof.</span></div>
<div class="proofscript" id="proof102">
<span class="id">elim:</span> <span class="id">s</span> <span class="id">a</span> <span class="id">b</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">[a</span> <span class="id">b|h</span> <span class="id">t</span> <span class="id">ih</span> <span class="id">a</span> <span class="id">b]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/itv_partition</span> <span class="id">/=</span> <span class="id">=&gt;</span> <span class="id">-[_</span> <span class="id">/eqP</span> <span class="id">&lt;-];</span> <span class="id">rewrite</span> <span class="id">/variation/=</span> <span class="id">!big_nil</span>.<br/>
<span class="id">rewrite</span> <span class="id">/itv_partition</span> <span class="id">/variation</span> <span class="id">=&gt;</span> <span class="id">-[]/=</span> <span class="id">/andP[ah</span> <span class="id">ht]</span> <span class="id">/eqP</span> <span class="id">htb</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_nat_recl">big_nat_recl//=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_cons">big_cons/=;</a></span> <span class="id">congr</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#eb833be6c2c2f044dca9cf477bb43912">+</a></span>%<span class="id">R</span>.<br/>
<span class="id">have</span> <span class="id">/ih</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition">itv_partition</a></span> <span class="id">h</span> <span class="id">b</span> <span class="id">t</span> <span class="gallina-kwd">by</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact/eqP</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/variation</span> <span class="id">=&gt;</span> <span class="id">-&gt;;</span> <span class="id">rewrite</span> <span class="id">!big_seq;</span> <span class="id">apply/eq_bigr</span> <span class="id">=&gt;</span> <span class="id">r</span> <span class="id">rt</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="variation_prev" class="id"><a name="variation_prev" class="">variation_prev</a></span> <span id="a:637" class="id"><a name="a:637" class="">a</a></span> <span id="b:638" class="id"><a name="b:638" class="">b</a></span> <span id="f:639" class="id"><a name="f:639" class="">f</a></span> <span id="s:640" class="id"><a name="s:640" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition">itv_partition</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:637">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:638">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:640">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:637">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:638">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:639">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:640">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#706f4f0208bba5d79e26d335c76ea034">\sum_</a></span>(<span id="x:643" class="id"><span id="x:642" class="id"><span id="x:641" class="id"><a name="x:643" class="">x</a></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#706f4f0208bba5d79e26d335c76ea034">&lt;-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:640">s</a></span>) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:641">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:639">f</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.path.html#prev">prev</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#locked">locked</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#a:637">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x">::</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:640">s</a></span>)) <span class="id"><a href="mathcomp.analysis.realfun.html#x:641">x</a></span>)<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">|</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof103')">Proof.</span></div>
<div class="proofscript" id="proof103">
<span class="id">move=&gt;</span> <span class="id">[]</span> <span class="id">sa</span> <span class="id">/eqP</span> <span class="id">asb;</span> <span class="id">rewrite</span> <span class="id">/variation</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]/=</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_nth">big_nth</a></span> <span class="id">b</span>) <span class="id">!big_nat</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#eq_bigr">eq_bigr</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">/andP[_</span> <span class="id">si];</span> <span class="id">congr</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|</a></span> <span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">f</span> <span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">|</a></span>).<br/>
<span class="id">rewrite</span> <span class="id">-lock</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.path.html#prev_nth">prev_nth</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.gt_eqF">gt_eqF;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-[a]/</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#nth">nth</a></span> <span class="id">b</span> (<span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x">::</a></span> <span class="id">s</span>) <span class="id">0</span>) <span class="id">-[ltRHS]/</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#nth">nth</a></span> <span class="id">b</span> (<span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x">::</a></span> <span class="id">s</span>) <span class="id">i</span>.<span class="id">+1</span>).<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_sorted_ltn_nth">lt_sorted_ltn_nth</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orFb">orFb</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#mem_nth">mem_nth//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#index_uniq">index_uniq//</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#set_nth_default">set_nth_default</a></span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltnS">ltnS</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltnW">ltnW</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.path.html#sorted_uniq">sorted_uniq</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_trans">lt_trans</a></span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.path.html#path_sorted">path_sorted</a></span> <span class="id">sa</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="variation_next" class="id"><a name="variation_next" class="">variation_next</a></span> <span id="a:644" class="id"><a name="a:644" class="">a</a></span> <span id="b:645" class="id"><a name="b:645" class="">b</a></span> <span id="f:646" class="id"><a name="f:646" class="">f</a></span> <span id="s:647" class="id"><a name="s:647" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition">itv_partition</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:644">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:645">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:647">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:644">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:645">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:646">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:647">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#706f4f0208bba5d79e26d335c76ea034">\sum_</a></span>(<span id="x:650" class="id"><span id="x:649" class="id"><span id="x:648" class="id"><a name="x:650" class="">x</a></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#706f4f0208bba5d79e26d335c76ea034">&lt;-</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#belast">belast</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:644">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:647">s</a></span>) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|f</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.path.html#next">next</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#locked">locked</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#a:644">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x">::</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:647">s</a></span>)) <span class="id"><a href="mathcomp.analysis.realfun.html#x:648">x</a></span>) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:646">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:648">x|</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof104')">Proof.</span></div>
<div class="proofscript" id="proof104">
<span class="id">move=&gt;</span> <span class="id">[]</span> <span class="id">sa</span> <span class="id">/eqP</span> <span class="id">asb;</span> <span class="id">rewrite</span> <span class="id">/variation</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]/=</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_nth">big_nth</a></span> <span class="id">b</span>) <span class="id">!big_nat</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size_belast">size_belast;</a></span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#eq_bigr">eq_bigr</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">/andP[_</span> <span class="id">si]</span>.<br/>
<span class="id">congr</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|</a></span> <span class="id">f</span> <span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">f</span> <span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">|</a></span>)<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#lastI">lastI</a></span> <span class="id">-cats1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#nth_cat">nth_cat</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size_belast">size_belast//</a></span> <span class="id">si</span>.<br/>
<span class="id">rewrite</span> <span class="id">-lock</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.path.html#next_nth">next_nth</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">{1}lastI</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#mem_rcons">mem_rcons</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#mem_nth">mem_nth</a></span> <span class="id">?size_belast//</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">orbT</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#lastI">lastI</a></span> <span class="id">-cats1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#index_cat">index_cat</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#mem_nth">mem_nth</a></span> <span class="id">?size_belast//</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#index_uniq">index_uniq</a></span> <span class="id">?size_belast//</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#set_nth_default">set_nth_default</a></span>.<br/>
<span class="id">have</span> <span class="id">/lt_sorted_uniq</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.path.html#sorted">sorted</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#e180604e1d7c2d21a8f836fdff89eebb">&lt;</a></span>%<span class="id">R</span> (<span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x">::</a></span> <span class="id">s</span>) <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#lastI">lastI</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#rcons_uniq">rcons_uniq</a></span> <span class="id">=&gt;</span> <span class="id">/andP[]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="variation_nil" class="id"><a name="variation_nil" class="">variation_nil</a></span> <span id="a:651" class="id"><a name="a:651" class="">a</a></span> <span id="b:652" class="id"><a name="b:652" class="">b</a></span> <span id="f:653" class="id"><a name="f:653" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:651">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:652">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:653">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626">[::]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof105')">Proof.</span></div>
<div class="proofscript" id="proof105">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/variation/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_nil">big_nil</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="variation_ge0" class="id"><a name="variation_ge0" class="">variation_ge0</a></span> <span id="a:654" class="id"><a name="a:654" class="">a</a></span> <span id="b:655" class="id"><a name="b:655" class="">b</a></span> <span id="f:656" class="id"><a name="f:656" class="">f</a></span> <span id="s:657" class="id"><a name="s:657" class="">s</a></span> <span class="id">:</span> <span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:654">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:655">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:656">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:657">s</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof106')">Proof.</span></div>
<div class="proofscript" id="proof106">
 <span class="id">exact/sumr_ge0</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="variationN" class="id"><a name="variationN" class="">variationN</a></span> <span id="a:658" class="id"><a name="a:658" class="">a</a></span> <span id="b:659" class="id"><a name="b:659" class="">b</a></span> <span id="f:660" class="id"><a name="f:660" class="">f</a></span> <span id="s:661" class="id"><a name="s:661" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:658">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:659">b</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#565ca4aa0f5062a899cb0ce9091bd2da">\-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:660">f</a></span>) <span class="id"><a href="mathcomp.analysis.realfun.html#s:661">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:658">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:659">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:660">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:661">s</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof107')">Proof.</span></div>
<div class="proofscript" id="proof107">
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/variation;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#eq_bigr">eq_bigr</a></span> <span class="id">=&gt;</span> <span class="id">k</span> <span class="id">_</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">-opprD</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.normrN">normrN</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="variation_le" class="id"><a name="variation_le" class="">variation_le</a></span> <span id="a:662" class="id"><a name="a:662" class="">a</a></span> <span id="b:663" class="id"><a name="b:663" class="">b</a></span> <span id="f:664" class="id"><a name="f:664" class="">f</a></span> <span id="g:665" class="id"><a name="g:665" class="">g</a></span> <span id="s:666" class="id"><a name="s:666" class="">s</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:662">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:663">b</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:664">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#d85e5ec1adc01afcee458717bbaea5e5">\+</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:665">g</a></span>)%<span class="id">R</span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:666">s</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:662">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:663">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:664">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:666">s</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:662">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:663">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:665">g</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:666">s</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof108')">Proof.</span></div>
<div class="proofscript" id="proof108">
<span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POSyntax.leRHS">leRHS]/variation</a></span> <span class="id">-big_split/=</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_sum">ler_sum</a></span> <span class="id">=&gt;</span> <span class="id">k</span> <span class="id">_;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans;</a></span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_normD">ler_normD</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrACA">addrACA</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrA">addrA</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprD">opprD</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrA">addrA</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="nondecreasing_variation" class="id"><a name="nondecreasing_variation" class="">nondecreasing_variation</a></span> <span id="a:667" class="id"><a name="a:667" class="">a</a></span> <span id="b:668" class="id"><a name="b:668" class="">b</a></span> <span id="f:669" class="id"><a name="f:669" class="">f</a></span> <span id="s:670" class="id"><a name="s:670" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:668">b]</a></span> &amp;<span class="id">,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#:::'nondecreasing_fun'_x">nondecreasing_fun</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:669">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition">itv_partition</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:667">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:668">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:670">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:667">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:668">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:669">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:670">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:669">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:668">b</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:669">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:667">a</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof109')">Proof.</span></div>
<div class="proofscript" id="proof109">
<span class="id">move=&gt;</span> <span class="id">ndf</span> <span class="id">abs;</span> <span class="id">rewrite</span> <span class="id">/variation;</span> <span class="id">set</span> <span class="id">F</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation.R">R</a></span> <span class="id">:=</span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#nth">nth</a></span> <span class="id">_</span> (<span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x">::</a></span> <span class="id">s</span>).<br/>
<span class="id">transitivity</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#e8c9389d173e080b4b0bc8cfb531c18e">\sum_</a></span>(<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#e8c9389d173e080b4b0bc8cfb531c18e">&lt;=</a></span> <span id="n:676" class="id"><span id="n:675" class="id"><span id="n:674" class="id"><span id="n:673" class="id"><span id="n:672" class="id"><span id="n:671" class="id"><a name="n:676" class="">n</a></span></span></span></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#e8c9389d173e080b4b0bc8cfb531c18e">&lt;</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size">size</a></span> <span class="id">s</span>) (<span class="id">F</span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:671">n</a></span>.<span class="id">+1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">F</span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:671">n</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!big_nat;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#eq_bigr">eq_bigr</a></span> <span class="id">=&gt;</span> <span class="id">k;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#leq0n">leq0n/=</a></span> <span class="id">=&gt;</span> <span class="id">ks</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ger0_norm">ger0_norm//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.subr_ge0">subr_ge0;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#nondecreasing_fun_itv_partition">nondecreasing_fun_itv_partition</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.telescope_sumr">telescope_sumr//</a></span> <span class="id">/F/=</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition_nth_size">itv_partition_nth_size</a></span> <span class="id">_</span> <span class="id">abs</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="nonincreasing_variation" class="id"><a name="nonincreasing_variation" class="">nonincreasing_variation</a></span> <span id="a:677" class="id"><a name="a:677" class="">a</a></span> <span id="b:678" class="id"><a name="b:678" class="">b</a></span> <span id="f:679" class="id"><a name="f:679" class="">f</a></span> <span id="s:680" class="id"><a name="s:680" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:678">b]</a></span> &amp;<span class="id">,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#:::'nonincreasing_fun'_x">nonincreasing_fun</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:679">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition">itv_partition</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:677">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:678">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:680">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:677">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:678">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:679">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:680">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:679">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:677">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:679">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:678">b</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof110')">Proof.</span></div>
<div class="proofscript" id="proof110">
<span class="id">move=&gt;</span> <span class="id">/nonincreasing_funN</span> <span class="id">ndNf</span> <span class="id">abs;</span> <span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#nondecreasing_variation">nondecreasing_variation</a></span> <span class="id">ndNf</span> <span class="id">abs</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC</a></span> <span class="id">=&gt;</span> <span class="id">&lt;-;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variationN">variationN</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="variationD" class="id"><a name="variationD" class="">variationD</a></span> <span id="a:681" class="id"><a name="a:681" class="">a</a></span> <span id="b:682" class="id"><a name="b:682" class="">b</a></span> <span id="c:683" class="id"><a name="c:683" class="">c</a></span> <span id="f:684" class="id"><a name="f:684" class="">f</a></span> <span id="s:685" class="id"><a name="s:685" class="">s</a></span> <span id="t:686" class="id"><a name="t:686" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:681">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:683">c</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:683">c</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:682">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition">itv_partition</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:681">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:683">c</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:685">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition">itv_partition</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:683">c</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:682">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#t:686">t</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:681">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:683">c</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:684">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:685">s</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:683">c</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:682">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:684">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#t:686">t</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:681">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:682">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:684">f</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#s:685">s</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#t:686">t</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof111')">Proof.</span></div>
<div class="proofscript" id="proof111">
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt</a></span> <span class="id">=&gt;</span> <span class="id">/predU1P[&lt;-{c}</span> <span class="id">cb|ac]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/itv_partitionxx</span> <span class="id">-&gt;;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation_nil">variation_nil</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.add0r">add0r</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt</a></span> <span class="id">=&gt;</span> <span class="id">/predU1P[&lt;-{b}|cb]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?</span> <span class="id">/itv_partitionxx</span> <span class="id">-&gt;;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation_nil">variation_nil</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addr0">addr0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#cats0">cats0</a></span>.<br/>
<span class="id">move=&gt;</span> <span class="id">acs</span> <span class="id">cbt;</span> <span class="id">rewrite</span> <span class="id">/variation</span> <span class="id">/=</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]/index_iota</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#subn0">subn0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size_cat">size_cat</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#iotaD">iotaD</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#add0n">add0n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_cat">big_cat/=</a></span> <span class="id">-[in</span> <span class="id">X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#X:687">X</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">_]</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#subn0">subn0</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size">size</a></span> <span class="id">s</span>))<span class="id">;</span> <span class="id">congr</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#eb833be6c2c2f044dca9cf477bb43912">+</a></span>%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-/</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#index_iota">index_iota</a></span> <span class="id">0</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size">size</a></span> <span class="id">s</span>)) <span class="id">2!big_nat</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#eq_bigr">eq_bigr</a></span> <span class="id">=&gt;</span> <span class="id">k</span> <span class="id">/[!leq0n]</span> <span class="id">/=</span> <span class="id">ks</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#nth_cat">nth_cat</a></span> <span class="id">ks</span> <span class="id">-cat_cons</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#nth_cat">nth_cat</a></span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltnS">ltnS</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltnW">ltnW</a></span> <span class="id">ks</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#set_nth_default">set_nth_default</a></span> <span class="id">b</span> <span class="id">c</span>)<span class="id">//=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltnS">ltnS</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltnW">ltnW</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]</a></span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#addnK">addnK</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size">size</a></span> <span class="id">s</span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size">size</a></span> <span class="id">t</span>)).<br/>
<span class="id">rewrite</span> <span class="id">-/</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#index_iota">index_iota</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size">size</a></span> <span class="id">s</span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size">size</a></span> <span class="id">t</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size">size</a></span> <span class="id">s</span>)).<br/>
<span class="id">rewrite</span> <span class="id">-{1}[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]</a></span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#add0n">add0n</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size">size</a></span> <span class="id">s</span>)) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_addn">big_addn</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#addnK">addnK</a></span> <span class="id">2!big_nat;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#eq_bigr">eq_bigr</a></span>.<br/>
<span class="id">move=&gt;</span> <span class="id">k</span> <span class="id">/[!leq0n]/=</span> <span class="id">kt</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#nth_cat">nth_cat</a></span> <span class="id">{1}</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#addnC">addnC</a></span> <span class="id">k</span>) <span class="id">-ltn_subRL</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#subnn">subnn</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltn0">ltn0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#addnK">addnK</a></span>.<br/>
<span class="id">case:</span> <span class="id">k</span> <span class="id">kt</span> <span class="id">=&gt;</span> <span class="id">[t0</span> <span class="id">/=|k</span> <span class="id">kt]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#add0n">add0n</a></span> <span class="id">-cat_cons</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#nth_cat">nth_cat/=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltnS">ltnS</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#leqnn">leqnn</a></span> <span class="id">-last_nth</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id">acs</span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">/eqP</span> <span class="id">-&gt;</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#addSnnS">addSnnS</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#addnC">addnC</a></span> <span class="id">k</span>) <span class="id">-cat_cons</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#nth_cat">nth_cat/=</a></span> <span class="id">-ltn_subRL</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#subnn">subnn</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltn0">ltn0</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#addnC">addnC</a></span> <span class="id">k</span>) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#addnK">addnK</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="variation_itv_partitionLR" class="id"><a name="variation_itv_partitionLR" class="">variation_itv_partitionLR</a></span> <span id="a:688" class="id"><a name="a:688" class="">a</a></span> <span id="b:689" class="id"><a name="b:689" class="">b</a></span> <span id="c:690" class="id"><a name="c:690" class="">c</a></span> <span id="f:691" class="id"><a name="f:691" class="">f</a></span> <span id="s:692" class="id"><a name="s:692" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:688">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:690">c</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:690">c</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:689">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition">itv_partition</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:688">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:689">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:692">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:688">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:689">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:691">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:692">s</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:688">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:689">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:691">f</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#itv_partitionL">itv_partitionL</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:692">s</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:690">c</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partitionR">itv_partitionR</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:692">s</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:690">c</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof112')">Proof.</span></div>
<div class="proofscript" id="proof112">
<span class="id">move=&gt;</span> <span class="id">ac</span> <span class="id">bc</span> <span class="id">abs;</span> <span class="id">have</span> <span class="id">[cl|cl]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">c</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">s</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-in_itv_partition//;</span> <span class="id">case:</span> <span class="id">abs</span> <span class="id">=&gt;</span> <span class="id">/path_sorted</span>.<br/>
<span class="id">rewrite</span> <span class="id">/itv_partitionL</span> <span class="id">[in</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POSyntax.leLHS">leLHS]</a></span>(<span class="id"><a href="mathcomp.analysis.realfun.html#notin_itv_partition">notin_itv_partition</a></span> <span class="id">_</span> <span class="id">cl</span>)<span class="id">//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.path.html#path_sorted">path_sorted;</a></span> <span class="id">case:</span> <span class="id">abs</span> <span class="id">=&gt;</span> <span class="id">+</span> <span class="id">_;</span> <span class="id">exact</span>.<br/>
<span class="id">rewrite</span> <span class="id">-notin_itv_partition//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.path.html#path_sorted">path_sorted;</a></span> <span class="id">case:</span> <span class="id">abs</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">+</span> <span class="id">_;</span> <span class="id">exact</span>.<br/>
<span class="id">rewrite</span> <span class="id">!variation_zip//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition_cat">itv_partition_cat;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">[exact:</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#itv_partitionLP">itv_partitionLP</a></span> <span class="id">_</span> <span class="id">bc</span>)<span class="id">|exact:</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#itv_partitionRP">itv_partitionRP</a></span> <span class="id">ac</span>)<span class="id">]</span>.<br/>
<span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POSyntax.leLHS">leLHS]</a></span>(<span class="id"><a href="mathcomp.analysis.realfun.html#notin_itv_partition">notin_itv_partition</a></span> <span class="id">_</span> <span class="id">cl</span>)<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.path.html#path_sorted">path_sorted;</a></span> <span class="id">case:</span> <span class="id">abs</span> <span class="id">=&gt;</span> <span class="id">+</span> <span class="id">_;</span> <span class="id">exact</span>.<br/>
<span class="id">set</span> <span class="id">L</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#3de67eb42556f00623e74d6756c5ab67">[seq</a></span> <span id="x:695" class="id"><span id="x:694" class="id"><span id="x:693" class="id"><a name="x:695" class="">x</a></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#3de67eb42556f00623e74d6756c5ab67">&lt;-</a></span> <span class="id">s</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#3de67eb42556f00623e74d6756c5ab67">|</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:693">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">c]</span>.<br/>
<span class="id">rewrite</span> <span class="id">-cats1</span> <span class="id">-catA</span>.<br/>
<span class="id">move:</span> <span class="id">L</span> <span class="id">=&gt;</span> <span class="id">L</span>.<br/>
<span class="id">set</span> <span class="id">B</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partitionR">itv_partitionR</a></span> <span class="id">s</span> <span class="id">c</span>.<br/>
<span class="id">move:</span> <span class="id">B</span> <span class="id">=&gt;</span> <span class="id">B</span>.<br/>
<span class="id">elim/last_ind</span> <span class="id">:</span> <span class="id">L</span> <span class="id">=&gt;</span> <span class="id">[|L0</span> <span class="id">L1</span> <span class="id">_]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!cat0s</span> <span class="id">/=;</span> <span class="id">case:</span> <span class="id">B</span> <span class="id">=&gt;</span> <span class="id">[|B0</span> <span class="id">B1]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_nil">big_nil</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_cons">big_cons/=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_nil">big_nil</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addr0">addr0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!big_cons/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrA">addrA</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerD">lerD//</a></span> <span class="id">[leRHS]addrC</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_normD">ler_normD</a></span> <span class="id">_</span> <span class="id">_</span>))<span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrA">addrA</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subrK">subrK</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-cats1</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x">::</a></span> <span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id">B</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x">::</a></span> <span class="id">L0</span>) <span class="id">++</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d">[::</a></span> <span class="id">L1]</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id">B</span>)<span class="id">//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-!catA</span> <span class="id">-cat_cons</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#zip_cat">zip_cat;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#cats1">cats1</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size_rcons">size_rcons</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x">::</a></span> <span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id">B</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x">::</a></span> <span class="id">L0</span>) <span class="id">++</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d">[::</a></span> <span class="id">L1]</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d">[::</a></span> <span class="id">c]</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id">B</span>)<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-!catA</span> <span class="id">-cat_cons</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#zip_cat">zip_cat;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#cats1">cats1</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size_rcons">size_rcons</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">!big_cat</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerD">lerD//</a></span>.<br/>
<span class="id">case:</span> <span class="id">B</span> <span class="id">=&gt;</span> <span class="id">[|B0</span> <span class="id">B1]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_nil">big_nil</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_cons">big_cons</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_nil">big_nil</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addr0">addr0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-cat1s</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#zip_cat">zip_cat//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#catA">catA</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d">[::</a></span> <span class="id">L1]</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id">B1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d">[::</a></span> <span class="id">L1]</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d">[::</a></span> <span class="id">c]</span>) <span class="id">++</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d">[::</a></span> <span class="id">B0]</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id">B1</span>)<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#catA">catA</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#zip_cat">zip_cat//</a></span> <span class="id">!big_cat</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerD">lerD//=</a></span> <span class="id">!big_cons</span> <span class="id">!big_nil</span> <span class="id">!addr0/=</span> <span class="id">[leRHS]addrC</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_normD">ler_normD</a></span> <span class="id">_</span> <span class="id">_</span>))<span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrA">addrA</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subrK">subrK</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="le_variation" class="id"><a name="le_variation" class="">le_variation</a></span> <span id="a:696" class="id"><a name="a:696" class="">a</a></span> <span id="b:697" class="id"><a name="b:697" class="">b</a></span> <span id="f:698" class="id"><a name="f:698" class="">f</a></span> <span id="s:699" class="id"><a name="s:699" class="">s</a></span> <span id="x:700" class="id"><a name="x:700" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:696">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:697">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:698">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:699">s</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:696">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:697">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:698">f</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#x:700">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x">::</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:699">s</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof113')">Proof.</span></div>
<div class="proofscript" id="proof113">
<span class="id">case:</span> <span class="id">s</span> <span class="id">=&gt;</span> <span class="id">[|h</span> <span class="id">t]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation_nil">variation_nil</a></span> <span class="id">/variation/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_nat_recl">big_nat_recl//=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_nil">big_nil</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addr0">addr0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">/variation/=</span> <span class="id">!big_nat_recl//=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrA">addrA</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerD2r">lerD2r</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_normD">ler_normD</a></span> <span class="id">_</span> <span class="id">_</span>))<span class="id">//</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC</a></span> (<span class="id">f</span> <span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">_</span>)) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrA">addrA</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subrK">subrK</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="variation_opp_rev" class="id"><a name="variation_opp_rev" class="">variation_opp_rev</a></span> <span id="a:701" class="id"><a name="a:701" class="">a</a></span> <span id="b:702" class="id"><a name="b:702" class="">b</a></span> <span id="f:703" class="id"><a name="f:703" class="">f</a></span> <span id="s:704" class="id"><a name="s:704" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition">itv_partition</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:701">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:702">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:704">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:701">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:702">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:703">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:704">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:702">b</a></span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:701">a</a></span>) (<span class="id"><a href="mathcomp.analysis.realfun.html#f:703">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#a8ac36d488c8d5cdcfec5adcde894e5f">-</a></span>%<span class="id">R</span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#rev">rev</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#belast">belast</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:701">a</a></span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#map">map</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#a8ac36d488c8d5cdcfec5adcde894e5f">-</a></span>%<span class="id">R</span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:704">s</a></span>))).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof114')">Proof.</span></div>
<div class="proofscript" id="proof114">
<span class="id">move=&gt;</span> <span class="id">abl;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#belast_map">belast_map</a></span> <span class="id">/variation</span> <span class="id">/=</span> <span class="id">[LHS]big_nat_rev/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#add0n">add0n</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size_rev">size_rev</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size_map">size_map</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size_belast">size_belast</a></span> <span class="id">2!big_nat</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#eq_bigr">eq_bigr</a></span> <span class="id">=&gt;</span> <span class="id">k;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#leq0n">leq0n</a></span> <span class="id">/=</span> <span class="id">=&gt;</span> <span class="id">ks</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#nth_rev">nth_rev</a></span> <span class="id">?size_map</span> <span class="id">?size_belast//</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]distrC</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#nth_map">nth_map</a></span> <span class="id">a</span>)<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size_belast">size_belast</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltn_subLR">ltn_subLR//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#addSn">addSn</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltnS">ltnS</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#leq_addl">leq_addl</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span> <span class="id">-rev_rcons</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#nth_rev">nth_rev</a></span> <span class="id">?size_rcons</span> <span class="id">?size_map</span> <span class="id">?size_belast</span> <span class="id">1?ltnW//</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#subSn">subSn//</a></span> <span class="id">-map_rcons</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#nth_map">nth_map</a></span> <span class="id">b</span>) <span class="id">?size_rcons</span> <span class="id">?size_belast;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltnS">ltnS</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltn_subLR">ltn_subLR//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#addSn">addSn</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltnS">ltnS</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#leq_addl">leq_addl</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#nth_rcons">nth_rcons</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size_belast">size_belast</a></span> <span class="id">-subSn//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#subSS">subSS</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltn_subLR">ltn_subLR</a></span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltnW">ltnW</a></span> <span class="id">ks</span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#if_same">if_same</a></span>.<br/>
<span class="id">case:</span> <span class="id">k</span> <span class="id">=&gt;</span> <span class="id">[|k]</span> <span class="gallina-kwd">in</span> <span class="id">ks</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#add0n">add0n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltnn">ltnn</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#subn1">subn1</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#nth">nth</a></span> <span class="id">b</span> <span class="id">s</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">b</span>)<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case:</span> <span class="id">abl</span> <span class="id">ks</span> <span class="id">=&gt;</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">elim/last_ind</span> <span class="id">:</span> <span class="id">s</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">h</span> <span class="id">t</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#last_rcons">last_rcons</a></span> <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">-&gt;</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#nth_rcons">nth_rcons</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size_rcons">size_rcons</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltnn">ltnn</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqxx">eqxx</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#nth">nth</a></span> <span class="id">b</span> (<span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x">::</a></span> <span class="id">s</span>) <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#nth">nth</a></span> <span class="id">a</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#belast">belast</a></span> <span class="id">a</span> <span class="id">s</span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size">size</a></span> <span class="id">s</span>).<span class="id">-1</span>)<span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">case:</span> <span class="id">abl</span> <span class="id">ks</span> <span class="id">=&gt;</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="id">elim/last_ind</span> <span class="id">:</span> <span class="id">s</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">h</span> <span class="id">t</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#last_rcons">last_rcons</a></span> <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">-&gt;</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#belast_rcons">belast_rcons</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size_rcons">size_rcons/=</a></span> <span class="id">-rcons_cons</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#nth_rcons">nth_rcons/=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltnS">ltnS</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#leqnn">leqnn</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#set_nth_default">set_nth_default</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#addSn">addSn</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltnS">ltnS</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#leq_addl">leq_addl//;</a></span> <span class="id">congr</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|</a></span> <span class="id">f</span> <span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">f</span> <span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">|</a></span>).<br/>
&nbsp;&nbsp;<span class="id">elim/last_ind</span> <span class="id">:</span> <span class="id">s</span> <span class="id">ks</span> <span class="id">{abl}</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">h</span> <span class="id">t</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size_rcons">size_rcons</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltnS">ltnS</a></span> <span class="id">=&gt;</span> <span class="id">kh</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#belast_rcons">belast_rcons</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#nth_rcons">nth_rcons</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#subSS">subSS</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltn_subLR">ltn_subLR//</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#addSn">addSn</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltnS">ltnS</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#leq_addl">leq_addl//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#subSn">subSn</a></span>.<br/>
<span class="id">elim/last_ind</span> <span class="id">:</span> <span class="id">s</span> <span class="id">ks</span> <span class="id">{abl}</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">h</span> <span class="id">t</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size_rcons">size_rcons</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltnS">ltnS</a></span> <span class="id">=&gt;</span> <span class="id">kh</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#belast_rcons">belast_rcons</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#subSS">subSS</a></span> <span class="id">-rcons_cons</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#nth_rcons">nth_rcons</a></span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltn_subLR">ltn_subLR//</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#addnS">addnS</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltnS">ltnS</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#leq_addl">leq_addl;</a></span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#set_nth_default">set_nth_default</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltnS">ltnS</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#leq_subLR">leq_subLR</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#leq_addl">leq_addl</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="variation_rev_opp" class="id"><a name="variation_rev_opp" class="">variation_rev_opp</a></span> <span id="a:705" class="id"><a name="a:705" class="">a</a></span> <span id="b:706" class="id"><a name="b:706" class="">b</a></span> <span id="f:707" class="id"><a name="f:707" class="">f</a></span> <span id="s:708" class="id"><a name="s:708" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition">itv_partition</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:706">b</a></span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:705">a</a></span>) <span class="id"><a href="mathcomp.analysis.realfun.html#s:708">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:705">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:706">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:707">f</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#rev">rev</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#belast">belast</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:706">b</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#map">map</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#a8ac36d488c8d5cdcfec5adcde894e5f">-</a></span>%<span class="id">R</span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:708">s</a></span>))) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:706">b</a></span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:705">a</a></span>) (<span class="id"><a href="mathcomp.analysis.realfun.html#f:707">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#a8ac36d488c8d5cdcfec5adcde894e5f">-</a></span>%<span class="id">R</span>) <span class="id"><a href="mathcomp.analysis.realfun.html#s:708">s</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof115')">Proof.</span></div>
<div class="proofscript" id="proof115">
<span class="id">move=&gt;</span> <span class="id">abs;</span> <span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]variation_opp_rev</a></span> <span class="id">?opprK//</span>.<br/>
<span class="id">suff:</span> (<span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#a8ac36d488c8d5cdcfec5adcde894e5f">-</a></span>%<span class="id">R</span>) <span class="id">\o</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#a8ac36d488c8d5cdcfec5adcde894e5f">-</a></span>%<span class="id">R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">f</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">-&gt;</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/funext=&gt;</span> <span class="id">?</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="variation_subseq" class="id"><a name="variation_subseq" class="">variation_subseq</a></span> <span id="a:709" class="id"><a name="a:709" class="">a</a></span> <span id="b:710" class="id"><a name="b:710" class="">b</a></span> <span id="f:711" class="id"><a name="f:711" class="">f</a></span> (<span id="s:712" class="id"><a name="s:712" class="">s</a></span> <span id="t:713" class="id"><a name="t:713" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition">itv_partition</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:709">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:710">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:712">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition">itv_partition</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:709">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:710">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#t:713">t</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#subseq">subseq</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:712">s</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#t:713">t</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:709">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:710">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:711">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:712">s</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:709">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:710">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:711">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#t:713">t</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof116')">Proof.</span></div>
<div class="proofscript" id="proof116">
<span class="id">elim:</span> <span class="id">t</span> <span class="id">s</span> <span class="id">a</span> <span class="id">=&gt;</span> <span class="id">[?</span> <span class="id">?</span> <span class="id">?</span> <span class="id">/=</span> <span class="id">_</span> <span class="id">/eqP</span> <span class="id">-&gt;//|a</span> <span class="id">s</span> <span class="id">IH</span> <span class="id">[|x</span> <span class="id">t]</span> <span class="id">w]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation_nil">variation_nil</a></span> <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation_ge0">variation_ge0</a></span>.<br/>
<span class="id">move=&gt;</span> <span class="id">/[dup]</span> <span class="id">/itv_partition_cons</span> <span class="id">itvxb</span> <span class="id">/[dup]</span> <span class="id">/itv_partition_le</span> <span class="id">wb</span> <span class="id">itvxt</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">/[dup]</span> <span class="id">/itv_partition_cons</span> <span class="id">itvas</span> <span class="id">itvws</span> <span class="id">/=</span>.<br/>
<span class="id">have</span> <span class="id">ab</span> <span class="id">:</span> <span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">b</span> <span class="gallina-kwd">by</span> <span class="id">exact:</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition_le">itv_partition_le</a></span> <span class="id">itvas</span>).<br/>
<span class="id">have</span> <span class="id">wa</span> <span class="id">:</span> <span class="id">w</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">a</span> <span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id">itvws</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">/andP[]</span>.<br/>
<span class="id">have</span> <span class="id">waW</span> <span class="id">:</span> <span class="id">w</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">a</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">wa</span>.<br/>
<span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">[|]</span> <span class="id">nXA</span>.<br/>
&nbsp;&nbsp;<span class="id">move/eqP</span> <span class="id">:</span> <span class="id">nXA</span> <span class="id">itvxt</span> <span class="id">itvxb</span> <span class="id">=&gt;</span> <span class="id">-&gt;</span> <span class="id">itvat</span> <span class="id">itvt</span> <span class="id">/=</span> <span class="id">ta</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-[_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x">::</a></span> <span class="id">t]cat1s</span> <span class="id">-[_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x">::</a></span> <span class="id">s]cat1s</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-?</span>(@<span class="id"><a href="mathcomp.analysis.realfun.html#variationD">variationD</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">a</span>)<span class="id">//;</span> <span class="id">[|exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition1">itv_partition1</a></span>..<span class="id">]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerD">lerD//</a></span> <span class="id">IH</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">xts;</span> <span class="id">rewrite</span> <span class="id">-[_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x">::</a></span> <span class="id">s]cat1s</span> <span class="id">-</span>(@<span class="id"><a href="mathcomp.analysis.realfun.html#variationD">variationD</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">a</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition1">itv_partition1</a></span>.<br/>
<span class="id">have</span> <span class="id">[y</span> <span class="id">[s'</span> <span class="id">s'E]]</span> <span class="id">:</span> <span class="gallina-kwd">exists</span> <span id="y:714" class="id"><a name="y:714" class="">y</a></span> <span id="s':715" class="id"><a name="s':715" class="">s',</a></span> <span class="id">s</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:714">y</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x">::</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s':715">s'</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id">{itvas</span> <span class="id">itvws</span> <span class="id">IH}</span> <span class="id">s</span> <span class="id">xts</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">y</span> <span class="id">s'</span> <span class="id">?;</span> <span class="gallina-kwd">exists</span> <span class="id">y,</span> <span class="id">s'</span>.<br/>
<span class="id">apply:</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id">w</span> <span class="id">b</span> <span class="id">f</span> <span class="id">s</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">IH//</span>.<br/>
&nbsp;&nbsp;<span class="id">case:</span> <span class="id">itvws</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">/andP[_];</span> <span class="id">rewrite</span> <span class="id">s'E</span> <span class="id">/=</span> <span class="id">=&gt;</span> <span class="id">/andP[ay</span> <span class="id">ys'</span> <span class="id">lyb]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#path_lt_head">path_lt_head</a></span> <span class="id">wa</span>)<span class="id">//=</span> <span class="id">ys'</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variationD">variationD</a></span> <span class="id">//;</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#le_variation">le_variation</a></span> <span class="id">|</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition1">itv_partition1]</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="bounded_variation" class="id"><a name="bounded_variation" class="">bounded_variation</a></span>.<br/>
<span class="vernacular">Context</span> <span class="id">{R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType}</a></span>.<br/>
<span class="vernacular">Implicit</span> <span class="gallina-kwd">Type</span> (<span class="id">a</span> <span class="id">b</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#bounded_variation.R">R</a></span>) (<span class="id">f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#bounded_variation.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#bounded_variation.R">R</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="variations" class="id"><a name="variations" class="">variations</a></span> <span id="a:717" class="id"><a name="a:717" class="">a</a></span> <span id="b:718" class="id"><a name="b:718" class="">b</a></span> <span id="f:719" class="id"><a name="f:719" class="">f</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">[set</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:717">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:718">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:719">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:720">l</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">|</a></span> <span id="l:720" class="id"><a name="l:720" class="">l</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition">itv_partition</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:717">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:718">b]</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="variations_variation" class="id"><a name="variations_variation" class="">variations_variation</a></span> <span id="a:721" class="id"><a name="a:721" class="">a</a></span> <span id="b:722" class="id"><a name="b:722" class="">b</a></span> <span id="f:723" class="id"><a name="f:723" class="">f</a></span> <span id="s:724" class="id"><a name="s:724" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition">itv_partition</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:721">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:722">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:724">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#variations">variations</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:721">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:722">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:723">f</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:721">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:722">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:723">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:724">s</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof117')">Proof.</span></div>
<div class="proofscript" id="proof117">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">abs;</span> <span class="gallina-kwd">exists</span> <span class="id">s</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="variations_neq0" class="id"><a name="variations_neq0" class="">variations_neq0</a></span> <span id="a:725" class="id"><a name="a:725" class="">a</a></span> <span id="b:726" class="id"><a name="b:726" class="">b</a></span> <span id="f:727" class="id"><a name="f:727" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:725">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:726">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#variations">variations</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:725">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:726">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:727">f</a></span> <span class="id">!=set0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof118')">Proof.</span></div>
<div class="proofscript" id="proof118">
<span class="id">move=&gt;</span> <span class="id">ab;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id">a</span> <span class="id">b</span> <span class="id">f</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d">[::</a></span> <span class="id">b]</span>)<span class="id">;</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d">[::</a></span> <span class="id">b]</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition1">itv_partition1</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="variationsN" class="id"><a name="variationsN" class="">variationsN</a></span> <span id="a:728" class="id"><a name="a:728" class="">a</a></span> <span id="b:729" class="id"><a name="b:729" class="">b</a></span> <span id="f:730" class="id"><a name="f:730" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variations">variations</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:728">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:729">b</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#565ca4aa0f5062a899cb0ce9091bd2da">\-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:730">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#variations">variations</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:728">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:729">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:730">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof119')">Proof.</span></div>
<div class="proofscript" id="proof119">
<span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[_</span> <span class="id">[s</span> <span class="id">abs]</span> <span class="id">&lt;-|r</span> <span class="id">[s</span> <span class="id">abs]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variationN">variationN;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variations_variation">variations_variation</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-variationN</span> <span class="id">=&gt;</span> <span class="id">&lt;-;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variations_variation">variations_variation</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="variationsxx" class="id"><a name="variationsxx" class="">variationsxx</a></span> <span id="a:731" class="id"><a name="a:731" class="">a</a></span> <span id="f:732" class="id"><a name="f:732" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variations">variations</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:731">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:731">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:732">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">0]</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof120')">Proof.</span></div>
<div class="proofscript" id="proof120">
<span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[x</span> <span class="id">[_</span> <span class="id">/itv_partitionxx</span> <span class="id">-&gt;]|x</span> <span class="id">-&gt;]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/variation</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_nil">big_nil</a></span> <span class="id">=&gt;</span> <span class="id">&lt;-</span>.<br/>
<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626">[::]</a></span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">rewrite</span> <span class="id">/variation</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_nil">big_nil</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="bounded_variation" class="id"><a name="bounded_variation" class="">bounded_variation</a></span> <span id="a:733" class="id"><a name="a:733" class="">a</a></span> <span id="b:734" class="id"><a name="b:734" class="">b</a></span> <span id="f:735" class="id"><a name="f:735" class="">f</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#has_ubound">has_ubound</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#variations">variations</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:733">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:734">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:735">f</a></span>).<br/>
<br/>
<span class="vernacular">Notation</span> <span id="BV" class="id"><a name="BV" class="">BV</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#bounded_variation">bounded_variation</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="bounded_variationxx" class="id"><a name="bounded_variationxx" class="">bounded_variationxx</a></span> <span id="a:736" class="id"><a name="a:736" class="">a</a></span> <span id="f:737" class="id"><a name="f:737" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#BV">BV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:736">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:736">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:737">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof121')">Proof.</span></div>
<div class="proofscript" id="proof121">
 <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">0</span> <span class="id">=&gt;</span> <span class="id">r;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variationsxx">variationsxx</a></span> <span class="id">=&gt;</span> <span class="id">-&gt;</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="bounded_variationD" class="id"><a name="bounded_variationD" class="">bounded_variationD</a></span> <span id="a:738" class="id"><a name="a:738" class="">a</a></span> <span id="b:739" class="id"><a name="b:739" class="">b</a></span> <span id="f:740" class="id"><a name="f:740" class="">f</a></span> <span id="g:741" class="id"><a name="g:741" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:738">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:739">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#BV">BV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:738">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:739">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:740">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#BV">BV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:738">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:739">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:741">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#BV">BV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:738">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:739">b</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:740">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#d85e5ec1adc01afcee458717bbaea5e5">\+</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:741">g</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof122')">Proof.</span></div>
<div class="proofscript" id="proof122">
<span class="id">move=&gt;</span> <span class="id">ab</span> <span class="id">[r</span> <span class="id">abfr]</span> <span class="id">[s</span> <span class="id">abgs];</span> <span class="gallina-kwd">exists</span> (<span class="id">r</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">s</span>) <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">[l</span> <span class="id">abl]</span> <span class="id">&lt;-</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans;</a></span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation_le">variation_le</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerD">lerD//</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id">abfr;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variations_variation">variations_variation</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id">abgs;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variations_variation">variations_variation</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="bounded_variationN" class="id"><a name="bounded_variationN" class="">bounded_variationN</a></span> <span id="a:742" class="id"><a name="a:742" class="">a</a></span> <span id="b:743" class="id"><a name="b:743" class="">b</a></span> <span id="f:744" class="id"><a name="f:744" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#BV">BV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:742">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:743">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:744">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#BV">BV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:742">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:743">b</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#565ca4aa0f5062a899cb0ce9091bd2da">\-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:744">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof123')">Proof.</span></div>
<div class="proofscript" id="proof123">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/bounded_variation</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variationsN">variationsN</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="bounded_variationl" class="id"><a name="bounded_variationl" class="">bounded_variationl</a></span> <span id="a:745" class="id"><a name="a:745" class="">a</a></span> <span id="c:746" class="id"><a name="c:746" class="">c</a></span> <span id="b:747" class="id"><a name="b:747" class="">b</a></span> <span id="f:748" class="id"><a name="f:748" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:745">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:746">c</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:746">c</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:747">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#BV">BV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:745">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:747">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:748">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#BV">BV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:745">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:746">c</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:748">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof124')">Proof.</span></div>
<div class="proofscript" id="proof124">
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt</a></span> <span class="id">=&gt;</span> <span class="id">/predU1P[&lt;-{c}</span> <span class="id">?</span> <span class="id">?|ac];</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#bounded_variationxx">bounded_variationxx</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt</a></span> <span class="id">=&gt;</span> <span class="id">/predU1P[&lt;-{b}//|cb]</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">[x</span> <span class="id">Hx];</span> <span class="gallina-kwd">exists</span> <span class="id">x</span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">[s</span> <span class="id">acs]</span> <span class="id">&lt;-</span>.<br/>
<span class="id">rewrite</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id">a</span> <span class="id">b</span> <span class="id">f</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#rcons">rcons</a></span> <span class="id">s</span> <span class="id">b</span>)))<span class="id">//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/Hx/variations_variation;</span> <span class="id">case:</span> <span class="id">acs</span> <span class="id">=&gt;</span> <span class="id">sa</span> <span class="id">/eqP</span> <span class="id">asc</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/itv_partition</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.path.html#rcons_path">rcons_path</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#last_rcons">last_rcons</a></span> <span class="id">sa/=</span> <span class="id">asc</span>.<br/>
<span class="id">rewrite</span> <span class="id">{2}/variation</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size_rcons">size_rcons</a></span> <span class="id">-[leLHS]addr0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_nat_recr">big_nat_recr//=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerD">lerD//</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">/variation</span> <span class="id">!big_nat</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_sum">ler_sum//</a></span> <span class="id">=&gt;</span> <span class="id">k;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#leq0n">leq0n</a></span> <span class="id">/=</span> <span class="id">=&gt;</span> <span class="id">ks</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#nth_rcons">nth_rcons//</a></span> <span class="id">ks</span> <span class="id">-cats1</span> <span class="id">-cat_cons</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#nth_cat">nth_cat</a></span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltnS">ltnS</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltnW">ltnW</a></span> <span class="id">ks</span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">![in</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POSyntax.leRHS">leRHS]</a></span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#set_nth_default">set_nth_default</a></span> <span class="id">c</span>)<span class="id">//=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltnS">ltnS</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltnW">ltnW</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="bounded_variationr" class="id"><a name="bounded_variationr" class="">bounded_variationr</a></span> <span id="a:749" class="id"><a name="a:749" class="">a</a></span> <span id="c:750" class="id"><a name="c:750" class="">c</a></span> <span id="b:751" class="id"><a name="b:751" class="">b</a></span> <span id="f:752" class="id"><a name="f:752" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:749">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:750">c</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:750">c</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:751">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#BV">BV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:749">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:751">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:752">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#BV">BV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:750">c</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:751">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:752">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof125')">Proof.</span></div>
<div class="proofscript" id="proof125">
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt</a></span> <span class="id">=&gt;</span> <span class="id">/predU1P[&lt;-{c}//|ac]</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt</a></span> <span class="id">=&gt;</span> <span class="id">/predU1P[&lt;-{b}</span> <span class="id">?|cb];</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#bounded_variationxx">bounded_variationxx</a></span>.<br/>
<span class="id">move=&gt;</span> <span class="id">[x</span> <span class="id">Hx];</span> <span class="gallina-kwd">exists</span> <span class="id">x</span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">[s</span> <span class="id">cbs]</span> <span class="id">&lt;-</span>.<br/>
<span class="id">rewrite</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id">a</span> <span class="id">b</span> <span class="id">f</span> (<span class="id">c</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x">::</a></span> <span class="id">s</span>)))<span class="id">//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/Hx/variations_variation;</span> <span class="id">case:</span> <span class="id">cbs</span> <span class="id">=&gt;</span> <span class="id">cs</span> <span class="id">csb</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/itv_partition/=</span> <span class="id">ac/=</span> <span class="id">cs</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">{2}/variation/=</span> <span class="id">-[leLHS]add0r</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_nat_recl">big_nat_recl//=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerD">lerD</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="variations_opp" class="id"><a name="variations_opp" class="">variations_opp</a></span> <span id="a:753" class="id"><a name="a:753" class="">a</a></span> <span id="b:754" class="id"><a name="b:754" class="">b</a></span> <span id="f:755" class="id"><a name="f:755" class="">f</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#variations">variations</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:754">b</a></span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:753">a</a></span>) (<span class="id"><a href="mathcomp.analysis.realfun.html#f:755">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#a8ac36d488c8d5cdcfec5adcde894e5f">-</a></span>%<span class="id">R</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#variations">variations</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:753">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:754">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:755">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof126')">Proof.</span></div>
<div class="proofscript" id="proof126">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eqEsubset">eqEsubset;</a></span> <span class="id">split=&gt;</span> <span class="id">[_</span> <span class="id">[s</span> <span class="id">bas</span> <span class="id">&lt;-]|</span> <span class="id">_</span> <span class="id">[s</span> <span class="id">abs</span> <span class="id">&lt;-]]</span>.<br/>
&nbsp;&nbsp;<span class="id">eexists;</span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation_rev_opp">variation_rev_opp</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move/itv_partition_rev</span> <span class="id">:</span> <span class="id">bas;</span> <span class="id">rewrite</span> <span class="id">!opprK</span>.<br/>
<span class="id">eexists;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">exact/esym/variation_opp_rev</span>.<br/>
<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition_rev">itv_partition_rev</a></span> <span class="id">abs</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="nondecreasing_bounded_variation" class="id"><a name="nondecreasing_bounded_variation" class="">nondecreasing_bounded_variation</a></span> <span id="a:756" class="id"><a name="a:756" class="">a</a></span> <span id="b:757" class="id"><a name="b:757" class="">b</a></span> <span id="f:758" class="id"><a name="f:758" class="">f</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:757">b]</a></span> &amp;<span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#a5aeb8c3f096bffee5d65fb0b6810e02">{homo</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:758">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#a5aeb8c3f096bffee5d65fb0b6810e02">:</a></span> <span id="x:761" class="id"><span id="x:759" class="id"><a name="x:761" class="">x</a></span></span> <span id="y:762" class="id"><span id="y:760" class="id"><a name="y:762" class="">y</a></span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#a5aeb8c3f096bffee5d65fb0b6810e02">/</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:759">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:760">y}}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#BV">BV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:756">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:757">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:758">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof127')">Proof.</span></div>
<div class="proofscript" id="proof127">
<span class="id">move=&gt;</span> <span class="id">incf;</span> <span class="gallina-kwd">exists</span> (<span class="id">f</span> <span class="id">b</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">f</span> <span class="id">a</span>) <span class="id">=&gt;</span> <span class="id">?</span> <span class="id">[l</span> <span class="id">pabl</span> <span class="id">&lt;-];</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#nondecreasing_variation">nondecreasing_variation//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqxx">eqxx</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#bounded_variation">bounded_variation</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="total_variation" class="id"><a name="total_variation" class="">total_variation</a></span>.<br/>
<span class="vernacular">Context</span> <span class="id">{R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType}</a></span>.<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">a</span> <span class="id">b</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#total_variation.R">R</a></span>) (<span class="id">f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#total_variation.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#total_variation.R">R</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="total_variation" class="id"><a name="total_variation" class="">total_variation</a></span> <span id="a:764" class="id"><a name="a:764" class="">a</a></span> <span id="b:765" class="id"><a name="b:765" class="">b</a></span> <span id="f:766" class="id"><a name="f:766" class="">f</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">[set</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:767">x</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">|</a></span> <span id="x:767" class="id"><a name="x:767" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variations">variations</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:764">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:765">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:766">f]</a></span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span id="BV" class="id"><a name="BV" class="">BV</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#bounded_variation">bounded_variation</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="TV" class="id"><a name="TV" class="">TV</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#total_variation">total_variation</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="total_variationxx" class="id"><a name="total_variationxx" class="">total_variationxx</a></span> <span id="a:768" class="id"><a name="a:768" class="">a</a></span> <span id="f:769" class="id"><a name="f:769" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:768">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:768">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:769">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof128')">Proof.</span></div>
<div class="proofscript" id="proof128">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/total_variation</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variationsxx">variationsxx</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#image_set1">image_set1</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup1">ereal_sup1</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="total_variation_ge" class="id"><a name="total_variation_ge" class="">total_variation_ge</a></span> <span id="a:770" class="id"><a name="a:770" class="">a</a></span> <span id="b:771" class="id"><a name="b:771" class="">b</a></span> <span id="f:772" class="id"><a name="f:772" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:770">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:771">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:771">b</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:772">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:770">a|</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:770">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:771">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:772">f</a></span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof129')">Proof.</span></div>
<div class="proofscript" id="proof129">
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt</a></span> <span class="id">=&gt;</span> <span class="id">/predU1P[&lt;-{b}|ab]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#total_variationxx">total_variationxx</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subrr">subrr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.normr0">normr0</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id">a</span> <span class="id">b</span> <span class="id">f</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d">[::</a></span> <span class="id">b]</span>).<br/>
&nbsp;&nbsp;<span class="id">exact/variations_variation/itv_partition1</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/variation/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_nat_recr">big_nat_recr//=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_nil">big_nil</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.add0r">add0r</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="total_variation_ge0" class="id"><a name="total_variation_ge0" class="">total_variation_ge0</a></span> <span id="a:773" class="id"><a name="a:773" class="">a</a></span> <span id="b:774" class="id"><a name="b:774" class="">b</a></span> <span id="f:775" class="id"><a name="f:775" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:773">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:774">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:773">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:774">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:775">f</a></span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof130')">Proof.</span></div>
<div class="proofscript" id="proof130">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">ab;</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#total_variation_ge">total_variation_ge</a></span> <span class="id">_</span> <span class="id">ab</span>)). Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="bounded_variationP" class="id"><a name="bounded_variationP" class="">bounded_variationP</a></span> <span id="a:776" class="id"><a name="a:776" class="">a</a></span> <span id="b:777" class="id"><a name="b:777" class="">b</a></span> <span id="f:778" class="id"><a name="f:778" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:776">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:777">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#BV">BV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:776">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:777">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:778">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:776">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:777">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:778">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof131')">Proof.</span></div>
<div class="proofscript" id="proof131">
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt</a></span> <span class="id">=&gt;</span> <span class="id">/predU1P[&lt;-{b}|ab]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#total_variationxx">total_variationxx;</a></span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">?;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#bounded_variationxx">bounded_variationxx</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE;</a></span> <span class="id">last</span> <span class="id">exact/total_variation_ge0/ltW</span>.<br/>
<span class="id">split=&gt;</span> <span class="id">[abf|]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/total_variation</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_EFin">ereal_sup_EFin</a></span> <span class="id">?ltry//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variations_neq0">variations_neq0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">/total_variation</span> <span class="id">/bounded_variation</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltey">ltey</a></span> <span class="id">=&gt;</span> <span class="id">/eqP;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.boolp.html#contra_notP">contra_notP</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move/hasNub_ereal_sup;</span> <span class="id">apply;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variations_neq0">variations_neq0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="nondecreasing_total_variation" class="id"><a name="nondecreasing_total_variation" class="">nondecreasing_total_variation</a></span> <span id="a:779" class="id"><a name="a:779" class="">a</a></span> <span id="b:780" class="id"><a name="b:780" class="">b</a></span> <span id="f:781" class="id"><a name="f:781" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:779">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:780">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:780">b]</a></span> &amp;<span class="id">,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#:::'nondecreasing_fun'_x">nondecreasing_fun</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:781">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:779">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:780">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:781">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:781">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:780">b</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:781">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:779">a</a></span>)%<span class="id">:E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof132')">Proof.</span></div>
<div class="proofscript" id="proof132">
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt</a></span> <span class="id">=&gt;</span> <span class="id">/predU1P[&lt;-{b}</span> <span class="id">?|ab</span> <span class="id">ndf]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#total_variationxx">total_variationxx</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subrr">subrr</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">/total_variation</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#X:782">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> (<span class="id">f</span> <span class="id">b</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">f</span> <span class="id">a</span>)%<span class="id">:E]</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup1">ereal_sup1</a></span>.<br/>
<span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[x/=</span> <span class="id">[s</span> <span class="id">[t</span> <span class="id">abt</span> <span class="id">&lt;-{s}</span> <span class="id">&lt;-{x}]]|x/=</span> <span class="id">-&gt;{x}]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#nondecreasing_variation">nondecreasing_variation</a></span>.<br/>
<span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id">a</span> <span class="id">b</span> <span class="id">f</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d">[::</a></span> <span class="id">b]</span>) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">exact/variations_variation/itv_partition1</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#nondecreasing_variation">nondecreasing_variation//;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition1">itv_partition1</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="total_variationN" class="id"><a name="total_variationN" class="">total_variationN</a></span> <span id="a:783" class="id"><a name="a:783" class="">a</a></span> <span id="b:784" class="id"><a name="b:784" class="">b</a></span> <span id="f:785" class="id"><a name="f:785" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:783">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:784">b</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#565ca4aa0f5062a899cb0ce9091bd2da">\-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:785">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:783">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:784">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:785">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof133')">Proof.</span></div>
<div class="proofscript" id="proof133">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/TV;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variationsN">variationsN</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="total_variation_le" class="id"><a name="total_variation_le" class="">total_variation_le</a></span> <span id="a:786" class="id"><a name="a:786" class="">a</a></span> <span id="b:787" class="id"><a name="b:787" class="">b</a></span> <span id="f:788" class="id"><a name="f:788" class="">f</a></span> <span id="g:789" class="id"><a name="g:789" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:786">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:787">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:786">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:787">b</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:788">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#d85e5ec1adc01afcee458717bbaea5e5">\+</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:789">g</a></span>)%<span class="id">R</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:786">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:787">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:788">f</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:786">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:787">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:789">g</a></span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof134')">Proof.</span></div>
<div class="proofscript" id="proof134">
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt</a></span> <span class="id">=&gt;</span> <span class="id">/predU1P[&lt;-{b}|ab]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!total_variationxx</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span>.<br/>
<span class="id">have</span> <span class="id">[abf|abf]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#BV">BV</a></span> <span class="id">a</span> <span class="id">b</span> <span class="id">f</span>)<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">{2}/total_variation</span> <span class="id"><a href="mathcomp.analysis.ereal.html#hasNub_ereal_sup">hasNub_ereal_sup//;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variations_neq0">variations_neq0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addye">addye</a></span> <span class="id">?leey//</span> <span class="id">-ltNye</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">0</span>%<span class="id">E</span>)<span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">exact/total_variation_ge0/ltW</span>.<br/>
<span class="id">have</span> <span class="id">[abg|abg]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#BV">BV</a></span> <span class="id">a</span> <span class="id">b</span> <span class="id">g</span>)<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">{3}/total_variation</span> <span class="id"><a href="mathcomp.analysis.ereal.html#hasNub_ereal_sup">hasNub_ereal_sup//;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variations_neq0">variations_neq0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addey">addey</a></span> <span class="id">?leey//</span> <span class="id">-ltNye</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">0</span>%<span class="id">E</span>)<span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">exact/total_variation_ge0/ltW</span>.<br/>
<span class="id">move:</span> <span class="id">abf</span> <span class="id">abg</span> <span class="id">=&gt;</span> <span class="id">[r</span> <span class="id">abfr]</span> <span class="id">[s</span> <span class="id">abgs]</span>.<br/>
<span class="id">have</span> <span class="id">BVabfg</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#BV">BV</a></span> <span class="id">a</span> <span class="id">b</span> (<span class="id">f</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#d85e5ec1adc01afcee458717bbaea5e5">\+</a></span> <span class="id">g</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#bounded_variationD">bounded_variationD</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">[exists</span> <span class="id">r|exists</span> <span class="id">s]</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">/=</span> <span class="id">[r'</span> <span class="id">[s'</span> <span class="id">abs</span> <span class="id">&lt;-{r'}</span> <span class="id">&lt;-{y}]]</span>.<br/>
<span class="id">apply:</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id">a</span> <span class="id">b</span> <span class="id">f</span> <span class="id">s'</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id">a</span> <span class="id">b</span> <span class="id">g</span> <span class="id">s'</span>)%<span class="id">:E</span>).<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation_le">variation_le</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leeD">leeD//</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_le">ereal_sup_le//;</a></span><br/>
&nbsp;&nbsp;(<span class="id">eexists;</span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lexx">lexx</a></span>)<span class="id">;</span> (<span class="id">eexists;</span> <span class="id">last</span> <span class="id">reflexivity</span>)<span class="id">;</span><br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variations_variation">variations_variation</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="total_variation.total_variationD1" class="id"><a name="total_variation.total_variationD1" class="">total_variationD1</a></span> <span id="a:790" class="id"><a name="a:790" class="">a</a></span> <span id="b:791" class="id"><a name="b:791" class="">b</a></span> <span id="c:792" class="id"><a name="c:792" class="">c</a></span> <span id="f:793" class="id"><a name="f:793" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:790">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:792">c</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:792">c</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:791">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:790">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:791">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:793">f</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#92160d99f87da4bf2648609e0f89da8e">&gt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:790">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:792">c</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:793">f</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:792">c</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:791">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:793">f</a></span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof135')">Proof.</span></div>
<div class="proofscript" id="proof135">
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt=&gt;</a></span> <span class="id">/predU1P[&lt;-{c}|ac];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#total_variationxx">total_variationxx</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt=&gt;</a></span> <span class="id">/predU1P[&lt;-{b}|cb];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#total_variationxx">total_variationxx</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span>.<br/>
<span class="id">have</span> <span class="id">[abf|abf]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#BV">BV</a></span> <span class="id">a</span> <span class="id">b</span> <span class="id">f</span>)<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">{3}/total_variation</span> <span class="id"><a href="mathcomp.analysis.ereal.html#hasNub_ereal_sup">hasNub_ereal_sup</a></span> <span class="id">?leey//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variations_neq0">variations_neq0</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_trans">lt_trans</a></span> <span class="id">ac</span>).<br/>
<span class="id">have</span> <span class="id">H</span> <span class="id">s</span> <span class="id">t</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition">itv_partition</a></span> <span class="id">a</span> <span class="id">c</span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:794">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition">itv_partition</a></span> <span class="id">c</span> <span class="id">b</span> <span class="id"><a href="mathcomp.analysis.realfun.html#t:795">t</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id">a</span> <span class="id">b</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#92160d99f87da4bf2648609e0f89da8e">&gt;=</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id">a</span> <span class="id">c</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#s:794">s</a></span>)%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id">c</span> <span class="id">b</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#t:795">t</a></span>)%<span class="id">:E</span>)%<span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">acs</span> <span class="id">cbt;</span> <span class="id">rewrite</span> <span class="id">-EFinD;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_le">ereal_sup_le</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id">a</span> <span class="id">b</span> <span class="id">f</span> (<span class="id">s</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id">t</span>))%<span class="id">:E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists;</span> <span class="id">last</span> <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id">s</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id">t</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition_cat">itv_partition_cat</a></span> <span class="id">acs</span> <span class="id">cbt</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variationD">variationD//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">[leRHS]ereal_sup_EFin//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variations_neq0">variations_neq0;</a></span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_trans">lt_trans</a></span> <span class="id">ac</span>).<br/>
<span class="id">have</span> <span class="id">acf</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#BV">BV</a></span> <span class="id">a</span> <span class="id">c</span> <span class="id">f</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#bounded_variationl">bounded_variationl</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">ac</span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">cb</span>) <span class="id">abf</span>.<br/>
<span class="id">have</span> <span class="id">cbf</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#BV">BV</a></span> <span class="id">c</span> <span class="id">b</span> <span class="id">f</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#bounded_variationr">bounded_variationr</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">ac</span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">cb</span>) <span class="id">abf</span>.<br/>
<span class="id">rewrite</span> <span class="id">{1</span> <span class="id">2}/total_variation</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_EFin">ereal_sup_EFin//;</a></span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variations_neq0">variations_neq0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_EFin">ereal_sup_EFin//;</a></span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variations_neq0">variations_neq0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-EFinD</span> <span class="id">-sup_sumE;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variations_neq0">variations_neq0</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variations_neq0">variations_neq0</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.reals.html#le_sup">le_sup</a></span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">r/=</span> <span class="id">[s</span> <span class="id">[l'</span> <span class="id">acl'</span> <span class="id">&lt;-{s}]]</span> <span class="id">[t</span> <span class="id">[l</span> <span class="id">cbl]</span> <span class="id">&lt;-{t}</span> <span class="id">&lt;-{r}]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id">a</span> <span class="id">b</span> <span class="id">f</span> (<span class="id">l'</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id">l</span>))<span class="id">;</span> <span class="id">split;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variationD">variationD//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact/variations_variation/</span>(<span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition_cat">itv_partition_cat</a></span> <span class="id">acl'</span> <span class="id">cbl</span>).<br/>
<span class="id">-</span> <span class="id">have</span> <span class="id">[r</span> <span class="id">acfr]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variations_neq0">variations_neq0</a></span> <span class="id">f</span> <span class="id">ac</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[s</span> <span class="id">cbfs]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variations_neq0">variations_neq0</a></span> <span class="id">f</span> <span class="id">cb</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id">r</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">s</span>)<span class="id">;</span> <span class="gallina-kwd">exists</span> <span class="id">r</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="gallina-kwd">exists</span> <span class="id">s</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variations_neq0">variations_neq0;</a></span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_trans">lt_trans</a></span> <span class="id">ac</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="total_variation.total_variationD2" class="id"><a name="total_variation.total_variationD2" class="">total_variationD2</a></span> <span id="a:796" class="id"><a name="a:796" class="">a</a></span> <span id="b:797" class="id"><a name="b:797" class="">b</a></span> <span id="c:798" class="id"><a name="c:798" class="">c</a></span> <span id="f:799" class="id"><a name="f:799" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:796">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:798">c</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:798">c</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:797">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:796">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:797">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:799">f</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:796">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:798">c</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:799">f</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:798">c</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:797">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:799">f</a></span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof136')">Proof.</span></div>
<div class="proofscript" id="proof136">
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt</a></span> <span class="id">=&gt;</span> <span class="id">/predU1P[&lt;-{c}|ac];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#total_variationxx">total_variationxx</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt</a></span> <span class="id">=&gt;</span> <span class="id">/predU1P[&lt;-{b}|cb];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#total_variationxx">total_variationxx</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span>.<br/>
<span class="id">case</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#bounded_variation">bounded_variation</a></span> <span class="id">a</span> <span class="id">c</span> <span class="id">f</span>))<span class="id">;</span> <span class="id">first</span> <span class="id">last</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">nbdac;</span> <span class="id">have</span> <span class="id">/eqP</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id">a</span> <span class="id">c</span> <span class="id">f</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180">==</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>%<span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id">a</span> <span class="id">c</span> <span class="id">f</span>)%<span class="id">E</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#total_variation_ge0">total_variation_ge0</a></span> <span class="id">f</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">ac</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltNye_eq">ltNye_eq</a></span> <span class="id">=&gt;</span> <span class="id">/orP</span> <span class="id">[]</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">/bounded_variationP</span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">ac</span>)).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addye">addye</a></span> <span class="id">?leey</span> <span class="id">//</span> <span class="id">-ltNye</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">0</span>)%<span class="id">E</span> <span class="id">//</span> <span class="id">?total_variation_ge0</span> <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
<span class="id">case</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#bounded_variation">bounded_variation</a></span> <span class="id">c</span> <span class="id">b</span> <span class="id">f</span>))<span class="id">;</span> <span class="id">first</span> <span class="id">last</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">nbdac;</span> <span class="id">have</span> <span class="id">/eqP</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id">c</span> <span class="id">b</span> <span class="id">f</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180">==</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>%<span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id">c</span> <span class="id">b</span> <span class="id">f</span>)%<span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#total_variation_ge0">total_variation_ge0</a></span> <span class="id">f</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">cb</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltNye_eq">ltNye_eq</a></span> <span class="id">=&gt;</span> <span class="id">/orP</span> <span class="id">[]</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">/bounded_variationP</span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">cb</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addey">addey</a></span> <span class="id">?leey</span> <span class="id">//</span> <span class="id">-ltNye</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">0</span>%<span class="id">E</span>)<span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">exact/total_variation_ge0/ltW</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">bdAB</span> <span class="id">bdAC</span>.<br/>
<span class="id">rewrite</span> <span class="id">/total_variation</span> <span class="id">[x</span> <span class="gallina-kwd">in</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#x:800">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id">_</span>)%<span class="id">E]ereal_sup_EFin</span> <span class="id">//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variations_neq0">variations_neq0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">[x</span> <span class="gallina-kwd">in</span> (<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:801">x</a></span>)%<span class="id">E]ereal_sup_EFin</span> <span class="id">//;</span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variations_neq0">variations_neq0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-EFinD</span> <span class="id">-sup_sumE</span> <span class="id">/has_sup;</span> <span class="id">[|</span>(<span class="gallina-kwd">by</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variations_neq0">variations_neq0</a></span>)..<span class="id">]</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">?</span> <span class="id">[?</span> <span class="id">[l</span> <span class="id">pacl</span> <span class="id">&lt;-</span> <span class="id">&lt;-]];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">apply:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#variation_itv_partitionLR">variation_itv_partitionLR</a></span> <span class="id">_</span> <span class="id">ac</span> <span class="id">_</span> <span class="id">_</span>)) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.reals.html#sup_ub">sup_ub</a></span> <span class="id">=&gt;</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="id">case:</span> <span class="id">bdAB</span> <span class="id">=&gt;</span> <span class="id">M</span> <span class="id">ubdM;</span> <span class="id">case:</span> <span class="id">bdAC</span> <span class="id">=&gt;</span> <span class="id">N</span> <span class="id">ubdN;</span> <span class="gallina-kwd">exists</span> (<span class="id">N</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">M</span>).<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">q</span> <span class="id">[?]</span> <span class="id">[i</span> <span class="id">pabi</span> <span class="id">&lt;-]</span> <span class="id">[?</span> <span class="id">[j</span> <span class="id">pbcj</span> <span class="id">&lt;-]]</span> <span class="id">&lt;-</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerD">lerD;</a></span> <span class="id">[apply:</span> <span class="id">ubdN;exists</span> <span class="id">i|apply:ubdM;exists</span> <span class="id">j]</span>.<br/>
<span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id">a</span> <span class="id">c</span> <span class="id">f</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#itv_partitionL">itv_partitionL</a></span> <span class="id">l</span> <span class="id">c</span>)).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variations_variation">variations_variation;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partitionLP">itv_partitionLP</a></span> <span class="id">pacl</span>.<br/>
<span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id">c</span> <span class="id">b</span> <span class="id">f</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#itv_partitionR">itv_partitionR</a></span> <span class="id">l</span> <span class="id">c</span>)).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variations_variation">variations_variation;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partitionRP">itv_partitionRP</a></span> <span class="id">pacl</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variationD">variationD//</a></span> <span class="id">?ltW//;</span><br/>
&nbsp;&nbsp;<span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partitionLP">itv_partitionLP</a></span> <span class="id">pacl|exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partitionRP">itv_partitionRP</a></span> <span class="id">pacl]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="total_variationD" class="id"><a name="total_variationD" class="">total_variationD</a></span> <span id="a:802" class="id"><a name="a:802" class="">a</a></span> <span id="b:803" class="id"><a name="b:803" class="">b</a></span> <span id="c:804" class="id"><a name="c:804" class="">c</a></span> <span id="f:805" class="id"><a name="f:805" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:802">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:804">c</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:804">c</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:803">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:802">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:803">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:805">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:802">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:804">c</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:805">f</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:804">c</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:803">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:805">f</a></span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof137')">Proof.</span></div>
<div class="proofscript" id="proof137">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">ac</span> <span class="id">cb;</span> <span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.eq_le">eq_le;</a></span> <span class="id">apply/andP;</span> <span class="id">split;</span><br/>
&nbsp;&nbsp;<span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#total_variation.total_variationD2">total_variationD2|exact:</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#total_variation.total_variationD1">total_variationD1]</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#total_variation">total_variation</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="variation_continuity" class="id"><a name="variation_continuity" class="">variation_continuity</a></span>.<br/>
<span class="vernacular">Context</span> <span class="id">{R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType}</a></span>.<br/>
<span class="vernacular">Implicit</span> <span class="gallina-kwd">Type</span> <span class="id">f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation_continuity.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation_continuity.R">R</a></span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span id="BV" class="id"><a name="BV" class="">BV</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#bounded_variation">bounded_variation</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="TV" class="id"><a name="TV" class="">TV</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#total_variation">total_variation</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="neg_tv" class="id"><a name="neg_tv" class="">neg_tv</a></span> <span id="a:807" class="id"><a name="a:807" class="">a</a></span> <span id="f:808" class="id"><a name="f:808" class="">f</a></span> (<span id="x:809" class="id"><a name="x:809" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation_continuity.R">R</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation_continuity.R">R</a></span> <span class="id">:=</span> ((<span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:807">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:809">x</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:808">f</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:808">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:809">x</a></span>)%<span class="id">:E</span>) <span class="id">*</span> <span class="id">2^-1</span>%<span class="id">:E</span>)%<span class="id">E</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="pos_tv" class="id"><a name="pos_tv" class="">pos_tv</a></span> <span id="a:810" class="id"><a name="a:810" class="">a</a></span> <span id="f:811" class="id"><a name="f:811" class="">f</a></span> (<span id="x:812" class="id"><a name="x:812" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation_continuity.R">R</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation_continuity.R">R</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#neg_tv">neg_tv</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:810">a</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#565ca4aa0f5062a899cb0ce9091bd2da">\-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:811">f</a></span>) <span class="id"><a href="mathcomp.analysis.realfun.html#x:812">x</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="neg_tv_nondecreasing" class="id"><a name="neg_tv_nondecreasing" class="">neg_tv_nondecreasing</a></span> <span id="a:813" class="id"><a name="a:813" class="">a</a></span> <span id="b:814" class="id"><a name="b:814" class="">b</a></span> <span id="f:815" class="id"><a name="f:815" class="">f</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:814">b]</a></span> &amp;<span class="id">,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#:::'nondecreasing_fun'_x">nondecreasing_fun</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#neg_tv">neg_tv</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:813">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:815">f</a></span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof138')">Proof.</span></div>
<div class="proofscript" id="proof138">
<span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">y</span> <span class="id">xab</span> <span class="id">yab</span> <span class="id">xy;</span> <span class="id">have</span> <span class="id">ax</span> <span class="id">:</span> <span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">xab;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv</a></span> <span class="id">//=</span> <span class="id">=&gt;</span> <span class="id">/andP</span> <span class="id">[]</span>.<br/>
<span class="id">rewrite</span> <span class="id">/neg_tv</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_pmul2r">lee_pmul2r</a></span> <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_subr_addl">lee_subr_addl</a></span> <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeCA">addeCA</a></span> <span class="id">-EFinB</span>.<br/>
<span class="id">rewrite</span> <span class="id">[TV</span> <span class="id">a</span> <span class="id">y</span> <span class="id">_]</span>(<span class="id"><a href="mathcomp.analysis.realfun.html#total_variationD">total_variationD</a></span> <span class="id">_</span> <span class="id">ax</span> <span class="id">xy</span>) <span class="id">//</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leeD">leeD</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans;</a></span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#total_variation_ge">total_variation_ge</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_norm">ler_norm</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="bounded_variation_pos_neg_tvE" class="id"><a name="bounded_variation_pos_neg_tvE" class="">bounded_variation_pos_neg_tvE</a></span> <span id="a:816" class="id"><a name="a:816" class="">a</a></span> <span id="b:817" class="id"><a name="b:817" class="">b</a></span> <span id="f:818" class="id"><a name="f:818" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#BV">BV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:816">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:817">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:818">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#8c08d4203604dbed63e7afa9b689d858">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:817">b],</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:818">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#876aa133fb3472bffd492f74ff496035">=1</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#pos_tv">pos_tv</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:816">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:818">f</a></span>) <span class="id">\-</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#neg_tv">neg_tv</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:816">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:818">f</a></span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#8c08d4203604dbed63e7afa9b689d858">}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof139')">Proof.</span></div>
<div class="proofscript" id="proof139">
<span class="id">move=&gt;</span> <span class="id">bdabf</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv</a></span> <span class="id">/=</span> <span class="id">=&gt;</span> <span class="id">/andP</span> <span class="id">[ax</span> <span class="id">xb]</span>.<br/>
<span class="id">have</span> <span class="id">ffin:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id">a</span> <span class="id">x</span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">apply/bounded_variationP</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#bounded_variationl">bounded_variationl</a></span> <span class="id">_</span> <span class="id">xb</span>).<br/>
<span class="id">have</span> <span class="id">Nffin</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id">a</span> <span class="id">x</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#565ca4aa0f5062a899cb0ce9091bd2da">\-</a></span> <span class="id">f</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply/bounded_variationP</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply/bounded_variationN</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#bounded_variationl">bounded_variationl</a></span> <span class="id">ax</span> <span class="id">xb</span>).<br/>
<span class="id">rewrite</span> <span class="id">/pos_tv</span> <span class="id">/neg_tv</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#total_variationN">total_variationN</a></span> <span class="id">-fineB</span> <span class="id">-?muleBl</span> <span class="id">//</span> <span class="id">?fineM</span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeAC">addeAC</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeD">oppeD</a></span> <span class="id">//=</span> <span class="id">?fin_num_adde_defl</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeA">addeA</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#subee">subee</a></span> <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span> <span class="id">-EFinD</span> <span class="id">//=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.mulrDl">mulrDl</a></span> <span class="id">-Num</span>.<span class="id">Theory.splitr</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numB">fin_numB</a></span> <span class="id">?fin_numD</span> <span class="id">?ffin;</span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_adde_defl">fin_num_adde_defl;</a></span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numN">fin_numN</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numD">fin_numD;</a></span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numM">fin_numM</a></span> <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numD">fin_numD;</a></span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numM">fin_numM</a></span> <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numD">fin_numD;</a></span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="fine_neg_tv_nondecreasing" class="id"><a name="fine_neg_tv_nondecreasing" class="">fine_neg_tv_nondecreasing</a></span> <span id="a:819" class="id"><a name="a:819" class="">a</a></span> <span id="b:820" class="id"><a name="b:820" class="">b</a></span> <span id="f:821" class="id"><a name="f:821" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#BV">BV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:819">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:820">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:821">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#3faa329f2bb2903beba94067ccb07f1b">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:820">b]</a></span> &amp;<span class="id">,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#:::'nondecreasing_fun'_x">nondecreasing_fun</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#neg_tv">neg_tv</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:819">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:821">f</a></span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof140')">Proof.</span></div>
<div class="proofscript" id="proof140">
<span class="id">move=&gt;</span> <span class="id">bdv</span> <span class="id">p</span> <span class="id">q</span> <span class="id">pab</span> <span class="id">qab</span> <span class="id">pq</span> <span class="id">/=</span>.<br/>
<span class="id">move:</span> (<span class="id">pab</span>) (<span class="id">qab</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">?in_itv</span> <span class="id">/=</span> <span class="id">=&gt;</span> <span class="id">/andP[ap</span> <span class="id">pb]</span> <span class="id">/andP[aq</span> <span class="id">qb]</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_le">fine_le;</a></span> <span class="id">rewrite</span> <span class="id">/neg_tv</span> <span class="id">?fin_numM</span> <span class="id">//</span> <span class="id">?fin_numB</span> <span class="id">/=</span>.<br/>
<span class="id">-</span> <span class="id">apply/andP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply/bounded_variationP</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#bounded_variationl">bounded_variationl</a></span> <span class="id">_</span> <span class="id">pb</span>).<br/>
<span class="id">-</span> <span class="id">apply/andP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply/bounded_variationP</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#bounded_variationl">bounded_variationl</a></span> <span class="id">_</span> <span class="id">qb</span>).<br/>
<span class="id">exact:</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#neg_tv_nondecreasing">neg_tv_nondecreasing</a></span> <span class="id">_</span> <span class="id">pab</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="neg_tv_bounded_variation" class="id"><a name="neg_tv_bounded_variation" class="">neg_tv_bounded_variation</a></span> <span id="a:822" class="id"><a name="a:822" class="">a</a></span> <span id="b:823" class="id"><a name="b:823" class="">b</a></span> <span id="f:824" class="id"><a name="f:824" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#BV">BV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:822">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:823">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:824">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#BV">BV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:822">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:823">b</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#neg_tv">neg_tv</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:822">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:824">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof141')">Proof.</span></div>
<div class="proofscript" id="proof141">
<span class="id">move=&gt;</span> <span class="id">?;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#nondecreasing_bounded_variation">nondecreasing_bounded_variation</a></span>.<br/>
<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fine_neg_tv_nondecreasing">fine_neg_tv_nondecreasing</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="total_variation_right_continuous" class="id"><a name="total_variation_right_continuous" class="">total_variation_right_continuous</a></span> <span id="a:825" class="id"><a name="a:825" class="">a</a></span> <span id="b:826" class="id"><a name="b:826" class="">b</a></span> <span id="x:827" class="id"><a name="x:827" class="">x</a></span> <span id="f:828" class="id"><a name="f:828" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:825">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:827">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:827">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:826">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#f:828">f</a></span> @ <span class="id"><a href="mathcomp.analysis.realfun.html#x:827">x^'+</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:828">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:827">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#BV">BV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:825">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:826">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:828">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:825">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:828">f</a></span> @ <span class="id"><a href="mathcomp.analysis.realfun.html#x:827">x^'+</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:825">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:827">x</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:828">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof142')">Proof.</span></div>
<div class="proofscript" id="proof142">
<span class="id">move=&gt;</span> <span class="id">ax</span> <span class="id">xb</span> <span class="id">ctsf</span> <span class="id">bvf;</span> <span class="id">have</span> <span class="id">?</span> <span class="id">:</span> <span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">b</span> <span class="gallina-kwd">by</span> <span class="id">apply:ltW;</span> <span class="id">apply:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">ax</span>).<br/>
<span class="id">apply/cvgrPdist_lt=&gt;</span> <span class="id">_/posnumP[eps]</span>.<br/>
<span class="id">have</span> <span class="id">?</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#Filter">Filter</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#nbhs">nbhs</a></span> <span class="id">x^'+</span>) <span class="gallina-kwd">by</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#at_right_proper_filter">at_right_proper_filter</a></span>.<br/>
<span class="id">have</span> <span class="id">xbl</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">xb</span>.<br/>
<span class="id">have</span> <span class="id">xbfin</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id">x</span> <span class="id">b</span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/bounded_variationP</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#bounded_variationr">bounded_variationr</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">bvf</span>).<br/>
<span class="id">have</span> <span class="id">[//|?]</span> <span class="id">:=</span> @<span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup_adherent">ub_ereal_sup_adherent</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation_continuity.R">R</a></span> <span class="id">_</span> (<span class="id">eps</span>%<span class="id">:num</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#69c431a9c94f6f30a655bd7ddb59037b">/</a></span> <span class="id">2</span>) <span class="id">_</span> <span class="id">xbfin</span>.<br/>
<span class="id">case=&gt;</span> <span class="id">?</span> <span class="id">[l</span> <span class="id">+</span> <span class="id">&lt;-</span> <span class="id">&lt;-];</span> <span class="id">rewrite</span> <span class="id">-/</span>(<span class="id"><a href="mathcomp.analysis.realfun.html#total_variation">total_variation</a></span> <span class="id">x</span> <span class="id">b</span> <span class="id">f</span>).<br/>
<span class="id">move:</span> <span class="id">l</span> <span class="id">=&gt;</span> <span class="id">[|i</span> <span class="id">j]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/itv_partition_nil</span> <span class="id">/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_eqF">lt_eqF</a></span>.<br/>
<span class="id">move=&gt;</span> <span class="id">[/=</span> <span class="id">/andP[xi</span> <span class="id">ij</span> <span class="id">/eqP</span> <span class="id">ijb]]</span> <span class="id">tv_eps</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#filter_app">filter_app</a></span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_ge">nbhs_right_ge</a></span> <span class="id">_</span>).<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#filter_app">filter_app</a></span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_lt">nbhs_right_lt</a></span> <span class="id">xi</span>).<br/>
<span class="id">have</span> <span class="id">e20</span> <span class="id">:</span> <span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">eps</span>%<span class="id">:num</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#69c431a9c94f6f30a655bd7ddb59037b">/</a></span> <span class="id">2</span> <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
<span class="id">move/cvgrPdist_lt/</span>(<span class="id">_</span> (<span class="id">eps</span>%<span class="id">:num/2</span>) <span class="id">e20</span>) <span class="id">:</span> <span class="id">ctsf;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#filter_app">filter_app</a></span>.<br/>
<span class="id">near=&gt;</span> <span class="id">t</span> <span class="id">=&gt;</span> <span class="id">fxt</span> <span class="id">ti</span> <span class="id">xt;</span> <span class="id">have</span> <span class="id">ta</span> <span class="id">:</span> <span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">t</span> <span class="gallina-kwd">by</span> <span class="id">exact:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">ax</span>).<br/>
<span class="id">have</span> <span class="id">tb</span> <span class="id">:</span> <span class="id">t</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">b</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">ti</span>))<span class="id">//</span> <span class="id">-ijb</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#path_lt_le_last">path_lt_le_last</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-fineB;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/bounded_variationP</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#bounded_variationl">bounded_variationl</a></span> <span class="id">bvf</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/bounded_variationP</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#bounded_variationl">bounded_variationl</a></span> <span class="id">bvf</span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#total_variationD">total_variationD</a></span> <span class="id">_</span> <span class="id">ax</span> <span class="id">xt</span>).<br/>
<span class="id">have</span> <span class="id">tbfin</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id">t</span> <span class="id">b</span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/bounded_variationP</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> (@<span class="id"><a href="mathcomp.analysis.realfun.html#bounded_variationr">bounded_variationr</a></span> <span class="id">_</span> <span class="id">a</span>).<br/>
<span class="id">have</span> <span class="id">xtfin</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id">x</span> <span class="id">t</span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply/bounded_variationP</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> (@<span class="id"><a href="mathcomp.analysis.realfun.html#bounded_variationl">bounded_variationl</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">b</span>) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> (@<span class="id"><a href="mathcomp.analysis.realfun.html#bounded_variationr">bounded_variationr</a></span> <span class="id">_</span> <span class="id">a</span>).<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeD">oppeD</a></span> <span class="id">?fin_num_adde_defl//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeA">addeA</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#subee">subee</a></span> <span class="id">//;</span> <span class="id">first</span> <span class="id">last</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/bounded_variationP</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> (@<span class="id"><a href="mathcomp.analysis.realfun.html#bounded_variationl">bounded_variationl</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">b</span>).<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sub0e">sub0e</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineN">fineN</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.normrN">normrN</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ger0_norm">ger0_norm;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_ge0">fine_ge0//</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#total_variation_ge0">total_variation_ge0</a></span>.<br/>
<span class="id">move:</span> (<span class="id">tv_eps</span>)<span class="id">;</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#total_variationD">total_variationD</a></span> <span class="id">f</span> <span class="id">_</span> <span class="id">tb</span>) <span class="id">//</span>.<br/>
<span class="id">move:</span> <span class="id">xt;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt</a></span> <span class="id">=&gt;</span> <span class="id">/predU1P[-&gt;|xt]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#total_variationxx">total_variationxx/=</a></span>.<br/>
<span class="id">have</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id">x</span> <span class="id">b</span> <span class="id">f</span> (<span class="id">i</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x">::</a></span> <span class="id">j</span>) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id">x</span> <span class="id">t</span> <span class="id">f</span> (<span class="id">t</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id">t</span> <span class="id">b</span> <span class="id">f</span> (<span class="id">i</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x">::</a></span> <span class="id">j</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variationD">variationD//;</a></span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition1">itv_partition1</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/itv_partition/=</span> <span class="id">ti</span> <span class="id">ij</span> <span class="id">ijb</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#le_variation">le_variation</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-lee_fin</span> <span class="id">=&gt;</span> <span class="id">/lt_le_trans</span> <span class="id">/[apply]</span>.<br/>
<span class="id">rewrite</span> <span class="id">{1}variation_prev;</span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition1">itv_partition1</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">/=</span> <span class="id">-addeA</span> <span class="id">-lte_subr_addr;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numD">fin_numD;</a></span> <span class="id">apply/andP</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span> <span class="id">-lte_fin</span> <span class="id">?fineK</span> <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeD">oppeD</a></span> <span class="id">//=</span> <span class="id">?fin_num_adde_defl</span> <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeA">addeA</a></span>.<br/>
<span class="id">move/lt_trans;</span> <span class="id">apply</span>.<br/>
<span class="id">rewrite</span> <span class="id">[x</span> <span class="gallina-kwd">in</span> (<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:829">x</a></span>%<span class="id">:E</span>)%<span class="id">E]Num</span>.<span class="id">Theory.splitr</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lteD2lE">lteD2lE</a></span> <span class="id">//</span>.<br/>
<span class="id">rewrite</span> <span class="id">-addeA</span>.<br/>
<span class="id">apply:</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id">x</span> <span class="id">t</span> <span class="id">f</span> (<span class="id">t</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nil">nil</a></span>))%<span class="id">:E</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POSyntax.leRHS">leRHS]variation_prev;</a></span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_partition1">itv_partition1</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee_addl">gee_addl</a></span> <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sube_le0">sube_le0;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span> <span class="id">=&gt;</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#variation">variation</a></span> <span class="id">t</span> <span class="id">b</span> <span class="id">f</span> (<span class="id">i</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x">::</a></span> <span class="id">j</span>)) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variations_variation">variations_variation</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/itv_partition/=</span> <span class="id">ijb</span> <span class="id">ij</span> <span class="id">ti</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/variation/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_nat_recr">big_nat_recr//=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_nil">big_nil</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.add0r">add0r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.distrC">distrC</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="neg_tv_right_continuous" class="id"><a name="neg_tv_right_continuous" class="">neg_tv_right_continuous</a></span> <span id="a:830" class="id"><a name="a:830" class="">a</a></span> <span id="x:831" class="id"><a name="x:831" class="">x</a></span> <span id="b:832" class="id"><a name="b:832" class="">b</a></span> <span id="f:833" class="id"><a name="f:833" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:830">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:831">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:831">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:832">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#BV">BV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:830">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:832">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:833">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#f:833">f</a></span> @ <span class="id"><a href="mathcomp.analysis.realfun.html#x:831">x^'+</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:833">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:831">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#neg_tv">neg_tv</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:830">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:833">f</a></span> @ <span class="id"><a href="mathcomp.analysis.realfun.html#x:831">x^'+</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#neg_tv">neg_tv</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:830">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:833">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:831">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof143')">Proof.</span></div>
<div class="proofscript" id="proof143">
<span class="id">move=&gt;</span> <span class="id">ax</span> <span class="id">?</span> <span class="id">bvf</span> <span class="id">fcts;</span> <span class="id">have</span> <span class="id">xb</span> <span class="id">:</span> <span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">b</span> <span class="gallina-kwd">by</span> <span class="id">exact:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
<span class="id">have</span> <span class="id">xbfin</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id">a</span> <span class="id">x</span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/bounded_variationP</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#bounded_variationl">bounded_variationl</a></span> <span class="id">bvf</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#fine_cvg">fine_cvg;</a></span> <span class="id">rewrite</span> <span class="id">/neg_tv</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineM">fineM</a></span> <span class="id">//</span> <span class="id">?fin_numB</span> <span class="id">?xbfin</span> <span class="id">//=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span>.<br/>
<span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinN">EFinN</a></span>.<br/>
<span class="id">apply:</span> (@<span class="id"><a href="mathcomp.analysis.topology.html#cvg_trans">cvg_trans</a></span> <span class="id">_</span> (((<span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:834">n</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:834">n</a></span>)%<span class="id">:E</span>) <span class="id">*</span> <span class="id">2^-1</span>%<span class="id">:E</span>)%<span class="id">E</span> @<span class="id">[n</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id">x^'+]</span>)).<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_id">cvg_id</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeMr">cvgeMr;</a></span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineD">fineD;</a></span> <span class="id">[|by</span> <span class="id">[]</span>..<span class="id">]</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinB">EFinB;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeB">cvgeB;</a></span> <span class="id">[by</span> <span class="id">[]|</span> <span class="id">|]</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#fine_cvgP">fine_cvgP;</a></span> <span class="id">split;</span> <span class="id">first</span> <span class="gallina-kwd">exists</span> (<span class="id">b</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.subr_gt0">subr_gt0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">t</span> <span class="id">/=</span> <span class="id">xtbx</span> <span class="id">xt;</span> <span class="id">have</span> <span class="id">?</span> <span class="id">:</span> <span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW;</a></span> <span class="id">apply:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">ax</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply/bounded_variationP</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#bounded_variationl">bounded_variationl</a></span> <span class="id">bvf</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> <span class="id">xtbx;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.distrC">distrC</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ger0_norm">ger0_norm</a></span> <span class="id">?subr_ge0;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">exact:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrBrDr">ltrBrDr</a></span> <span class="id">-addrA</span> <span class="id">[-_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">_]addrC</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subrr">subrr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addr0">addr0</a></span> <span class="id">=&gt;</span> <span class="id">/ltW</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#total_variation_right_continuous">total_variation_right_continuous</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">last</span> <span class="id">exact:</span> <span class="id">bvf</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_comp">cvg_comp;</a></span> <span class="id">first</span> <span class="id">exact:</span> <span class="id">fcts</span>.<br/>
<span class="id">apply/</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#fine_cvgP">fine_cvgP;</a></span> <span class="id">split;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">near=&gt;</span> <span class="id">t</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">?</span> <span class="id">/=</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="total_variation_opp" class="id"><a name="total_variation_opp" class="">total_variation_opp</a></span> <span id="a:836" class="id"><a name="a:836" class="">a</a></span> <span id="b:837" class="id"><a name="b:837" class="">b</a></span> <span id="f:838" class="id"><a name="f:838" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:836">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:837">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:838">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:837">b</a></span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:836">a</a></span>) (<span class="id"><a href="mathcomp.analysis.realfun.html#f:838">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#a8ac36d488c8d5cdcfec5adcde894e5f">-</a></span>%<span class="id">R</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof144')">Proof.</span></div>
<div class="proofscript" id="proof144">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/total_variation</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variations_opp">variations_opp</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="total_variation_left_continuous" class="id"><a name="total_variation_left_continuous" class="">total_variation_left_continuous</a></span> <span id="a:839" class="id"><a name="a:839" class="">a</a></span> <span id="b:840" class="id"><a name="b:840" class="">b</a></span> <span id="x:841" class="id"><a name="x:841" class="">x</a></span> <span id="f:842" class="id"><a name="f:842" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:839">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:841">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:841">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:840">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#f:842">f</a></span> @ <span class="id"><a href="mathcomp.analysis.realfun.html#x:841">x^'-</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:842">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:841">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#BV">BV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:839">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:840">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:842">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:839">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:842">f</a></span> @ <span class="id"><a href="mathcomp.analysis.realfun.html#x:841">x^'-</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:839">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:841">x</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:842">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof145')">Proof.</span></div>
<div class="proofscript" id="proof145">
<span class="id">move=&gt;</span> <span class="id">ax</span> <span class="id">xb</span> <span class="id">fNcts</span> <span class="id">bvf</span>.<br/>
<span class="id">apply/cvg_at_leftNP;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.realfun.html#total_variation_opp">total_variation_opp</a></span>.<br/>
<span class="id">have</span> <span class="id">bvNf</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#BV">BV</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-b</a></span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-a</a></span>) (<span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#a8ac36d488c8d5cdcfec5adcde894e5f">-</a></span>%<span class="id">R</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id">bvf</span> <span class="id">=&gt;</span> <span class="id">M;</span> <span class="id">rewrite</span> <span class="id">-variations_opp</span> <span class="id">=&gt;</span> <span class="id">?;</span> <span class="gallina-kwd">exists</span> <span class="id">M</span>.<br/>
<span class="id">have</span> <span class="id">bx</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id">b</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id">x</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerNl">lerNl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span>.<br/>
<span class="id">have</span> <span class="id">xa</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id">a</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrNl">ltrNl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span>.<br/>
<span class="id">have</span> <span class="id">?</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id">a</span> <span class="gallina-kwd">by</span> <span class="id">exact:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
<span class="id">have</span> <span class="id">?</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#Filter">Filter</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#nbhs">nbhs</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-x</a></span>)<span class="id">^'+</span>) <span class="gallina-kwd">by</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#at_right_proper_filter">at_right_proper_filter</a></span>.<br/>
<span class="id">have</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-x</a></span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-a</a></span>) (<span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#a8ac36d488c8d5cdcfec5adcde894e5f">-</a></span>%<span class="id">R</span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-b</a></span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-a</a></span>) (<span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#a8ac36d488c8d5cdcfec5adcde894e5f">-</a></span>%<span class="id">R</span>)) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-b</a></span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-x</a></span>) (<span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#a8ac36d488c8d5cdcfec5adcde894e5f">-</a></span>%<span class="id">R</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id">-subr_eq</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-fineD;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/bounded_variationP</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#bounded_variationl">bounded_variationl</a></span> <span class="id">bvNf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/bounded_variationP</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#bounded_variationr">bounded_variationr</a></span> <span class="id">bvNf</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-total_variationD</span>.<br/>
<span class="id">have</span> <span class="id">/near_eq_cvg/cvg_trans</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#5b88bba1a0d3085b56928b27b84bfd97">{near</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id">x</span>)<span class="id">^'+,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="t:843" class="id"><a name="t:843" class="">t</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id">b</span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id">a</span>) (<span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#a8ac36d488c8d5cdcfec5adcde894e5f">-</a></span>%<span class="id">R</span>)) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id">b</span>) <span class="id"><a href="mathcomp.analysis.realfun.html#t:843">t</a></span> (<span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#a8ac36d488c8d5cdcfec5adcde894e5f">-</a></span>%<span class="id">R</span>))) <span class="id">=1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id">a</span>)<span class="id">^~</span> <span class="id">f</span>) <span class="id">\o</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#a8ac36d488c8d5cdcfec5adcde894e5f">-</a></span>%<span class="id">R}</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#filter_app">filter_app</a></span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_lt">nbhs_right_lt</a></span> <span class="id">xa</span>).<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#filter_app">filter_app</a></span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_ge">nbhs_right_ge</a></span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="id">near=&gt;</span> <span class="id">t</span> <span class="id">=&gt;</span> <span class="id">xt</span> <span class="id">ta;</span> <span class="id">have</span> <span class="id">?</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-b</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">t</span> <span class="gallina-kwd">by</span> <span class="id">exact:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">bx</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">?</span> <span class="id">:</span> <span class="id">t</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-a</a></span> <span class="gallina-kwd">by</span> <span class="id">exact:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> <span class="id">-subr_eq</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/=</span> <span class="id">[TV</span> <span class="id">a</span> <span class="id">_</span> <span class="id">f]total_variation_opp</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span> <span class="id">-fineD;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/bounded_variationP</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#bounded_variationr">bounded_variationr</a></span> <span class="id">bvNf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/bounded_variationP</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#bounded_variationl">bounded_variationl</a></span> <span class="id">bvNf</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-total_variationD</span>.<br/>
<span class="id">apply</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgB">cvgB;</a></span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_cst">cvg_cst</a></span>.<br/>
<span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#total_variation_right_continuous">total_variation_right_continuous</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">bvNf</span>).<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerNl">lerNl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrNl">ltrNl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span> <span class="id">//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/cvg_at_leftNP;</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="total_variation_continuous" class="id"><a name="total_variation_continuous" class="">total_variation_continuous</a></span> <span id="a:844" class="id"><a name="a:844" class="">a</a></span> <span id="b:845" class="id"><a name="b:845" class="">b</a></span> (<span id="f:846" class="id"><a name="f:846" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation_continuity.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation_continuity.R">R</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:844">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:845">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[a,b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:846">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#BV">BV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:844">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:845">b</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:846">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[a,b],</a></span> <span class="id">continuous</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#TV">TV</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:844">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:846">f</a></span>)<span class="id">}</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof146')">Proof.</span></div>
<div class="proofscript" id="proof146">
<span class="id">move=&gt;</span> <span class="id">ab</span> <span class="id">/</span>(@<span class="id"><a href="mathcomp.analysis.normedtype.html#continuous_within_itvP">continuous_within_itvP</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">ab</span>) <span class="id">[int</span> <span class="id">[l</span> <span class="id">r]]</span> <span class="id">bdf</span>.<br/>
<span class="id">apply/continuous_within_itvP;</span> (<span class="id">repeat</span> <span class="id">split</span>) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">/[dup]</span> <span class="id">xab;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv</a></span> <span class="id">/=</span> <span class="id">=&gt;</span> <span class="id">/andP</span> <span class="id">[ax</span> <span class="id">xb]</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/left_right_continuousP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#total_variation_left_continuous">total_variation_left_continuous</a></span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">xb</span>)) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">/left_right_continuousP</span> <span class="id">[]</span> <span class="id">:=</span> <span class="id">int</span> <span class="id">x</span> <span class="id">xab</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#total_variation_right_continuous">total_variation_right_continuous</a></span> <span class="id">_</span> <span class="id">xb</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">/left_right_continuousP</span> <span class="id">[]</span> <span class="id">:=</span> <span class="id">int</span> <span class="id">x</span> <span class="id">xab</span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#total_variation_right_continuous">total_variation_right_continuous</a></span> <span class="id">_</span> <span class="id">ab</span>).<br/>
<span class="id">-</span> <span class="id">exact:</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#total_variation_left_continuous">total_variation_left_continuous</a></span> <span class="id">ab</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#variation_continuity">variation_continuity</a></span>.<br/>

      <div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/">a fork of coq2html</a></div>
    </div>
  </div>
    </main>
</body>
</html>
